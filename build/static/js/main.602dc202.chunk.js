(this["webpackJsonpututor-front"]=this["webpackJsonpututor-front"]||[]).push([[0],{1040:function(e,a,t){},1169:function(e,a,t){},1206:function(e,a){},1207:function(e,a){},1208:function(e,a,t){e.exports=t.p+"static/media/alumno.17bb9f77.png"},1209:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(28),o=t.n(i),s=(t(497),t(1)),c=t.n(s),l=t(4),u=t(3),m=t(48),d=t(58),p=t(233),h=t(499),f=t(1242),O=t(216),g=Object(O.a)({palette:{primary:{light:"#DEF2F1",main:"#3AAFA9",dark:"#2E908A",contrastText:"#ffffff"},secondary:{light:"#2B7A78",main:"#17252A",dark:"#091118"}}}),b=t(83),E=t(5),v={username:"",password:""},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_USER":default:return Object(E.a)({},e)}},S=Object(b.d)(j),A=t(1243),C=t(502),I=t(120),R=t(1239),y=t(195),x=t(442),k=t(443),D=(t(337),t(500)),N=(Object(h.a)((function(e){return{root:{padding:e.spacing(10),width:e.spacing(55),height:e.spacing(55)}}})),t(16)),T=Object(h.a)((function(e){return{root:{flexGrow:1},menuButton:{paddingBottom:e.spacing(2)},title:{flexGrow:1},image:{backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center",background:"linear-gradient(to right, rgba(212, 207, 202, 0.849),rgba(0, 61, 46, 0) ), url(https://images.unsplash.com/photo-1523240795612-9a054b0db644?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80)"},fullscreen:{height:"95vh"},t1:Object(N.a)({fontWeight:"bold",marginLeft:e.spacing(10)},e.breakpoints.down("sm"),{marginLeft:e.spacing(0),marginBottom:e.spacing(0)}),t2:Object(N.a)({marginBottom:e.spacing(35),marginLeft:e.spacing(10),width:"75%"},e.breakpoints.down("sm"),{marginLeft:e.spacing(0),marginBottom:e.spacing(0)})}})),U=t(12),w=t(13),M=t(7),L=t(15),P=t(14),F=t(1241),B=t(501),G=t(1218),q=function(e,a,t){var n=e.match(/[A-Za-z0-9._@]+/i);return a||t?e.length>=100?{error:!0,mesage:"El correo debe tener menos de 100 caracteres"}:null!==n&&n[0].length!==e.length?{error:!0,mesage:"Correo inv\xe1lido, ingrese de nuevo"}:function(e,a,t){return!(a.length>0&&e.substr(-a.length)!==a&&t.length>0&&e.substr(-t.length)!==t)}(e,a,t)?{error:!1,mesage:""}:{error:!0,mesage:"El correo debe pertenecer al dominio de la instituci\xf3n: "+(a&&a.length>0?a:"")+" "+(t&&t.length>0?t:"")}:{error:!0,mesage:"Primero debe registrar alg\xfan dominio para los correos de la instituci\xf3n."}},_={paper:{marginLeft:"10%",marginRight:"10%",marginTop:"5%",flexDirection:"column"}},H=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).handleOnChange=function(a){var t=a.target.value,n=e.props.name;return e.props.requerido&&0===t.length?(e.setState({mensajeError:e.props.name+" es un campo requerido."}),e.props.validarEntrada({llave:e.props.name,error:n}),void e.setState({texto:t})):e.validacion(t)?(e.setState({texto:t}),e.props.onChange({name:a.target.name,value:t,entercillo:!1}),t.length>0&&(n=""),void e.props.validarEntrada({llave:e.props.name,error:n})):void e.props.validarEntrada({llave:e.props.name,error:n})},e.state={validacionOk:!0,texto:void 0,validacion:{},mensaje:"",mensajeError:"",regex:{email:/^[a-z0-9](\.?[a-z0-9]){5,}@pucp(\.edu)?\.pe$/,codigo:/[A-Za-z0-9]+/i,telefono:/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im,direccion:/[A-Za-z\xe1\xe9\xed\xf3\xfa\xf10-9 ()-,.]+/i}},e.validacion=e.validacion.bind(Object(M.a)(e)),e.handleOnChange=e.handleOnChange.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"validacion",value:function(e){if(!this.state.validacion)return!0;if(e.length>this.state.validacion.lim)return this.setState({mensajeError:this.props.name+" debe ser maximo de "+this.state.validacion.lim+" caracteres"}),!1;if("email"===this.state.validacion.tipo&&e.substr(-this.props.dominio.length)!==this.props.dominio&&e.substr(-this.props.dominio2.length)!==this.props.dominio2){var a="";return this.props.dominio&&(a+=this.props.dominio),this.props.dominio2&&(a=a+" - "+this.props.dominio2),this.setState({mensajeError:' Un correo valido debe contener caracteres alfanumericos, un "@" y ser del dominio de la instituci\xf3n: '+a}),!0}return"telefono"===this.state.validacion.tipo&&this.state.regex.telefono.test(String(e))?(this.setState({mensajeError:"Un telefono valido debe contener caracteres numericos y los caracteres - , +, ( , )"}),!0):"direccion"!==this.state.validacion.tipo||this.state.regex.direccion.test(String(e))?"codigo"!==this.state.validacion.tipo||this.state.regex.codigo.test(String(e))?(this.setState({mensajeError:""}),!0):(this.setState({mensajeError:"Un codigo valido debe contener caracteres alfanumericos y caracters especiales"}),!0):(this.setState({mensajeError:"Una direccion valido debe contener caracteres alfanumericos y los caracteres - , ( , )"}),!0)}},{key:"componentDidMount",value:function(){var e=this;"password"===this.props.tipo&&document.getElementById("idPass").addEventListener("keyup",(function(a){13===a.keyCode&&e.props.onChange({entercillo:!0})}));this.props.validacion&&this.setState({validacion:this.props.validacion}),this.props.inicial&&(this.props.onChange({name:this.props.name,value:this.props.inicial}),this.setState({texto:this.props.inicial})),this.props.inicial?this.props.validarEntrada({llave:this.props.name,error:""}):this.props.validarEntrada({llave:this.props.name,error:this.props.name})}},{key:"render",value:function(){return r.a.createElement(y.a,{elevation:0,style:_.paper},r.a.createElement(B.a,{id:this.props.id,required:this.props.requerido||!1,autoFocus:this.props.autoFocus,fullWidth:!0,name:this.props.name,label:this.props.label,onChange:this.handleOnChange,disabled:this.props.disabled||!1,variant:this.props.variant,rows:this.props.rows,multiline:this.props.multiline||!1,value:this.state.texto,type:this.props.tipo||"text"}),r.a.createElement(G.a,{error:!0},this.state.mensajeError))}}]),t}(n.Component),z=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={saltos:[]},e}return Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=[];if(!this.props||this.props.N<=0)return e.push(r.a.createElement("br",{key:1})),void this.setState({saltos:e});for(var a=0;a<this.props.N;a++)e.push(r.a.createElement("br",{key:a+1}));this.setState({saltos:e})}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.saltos)}}]),t}(n.Component),V=Object(n.createContext)(),W=function(e){var a=e.reducer,t=e.initialState,i=e.children;return r.a.createElement(V.Provider,{value:Object(n.useReducer)(a,t)},i)},Y=function(){return Object(n.useContext)(V)},J=function(e){sessionStorage.clear(),sessionStorage.Sesion=JSON.stringify(e)},K=function(){sessionStorage.clear(),window.location.replace("./")},Q=function(){var e=sessionStorage.Sesion;return e?JSON.parse(e):e};function X(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(l.a)(c.a.mark((function e(a){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(a.servicio,{method:"GET",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,console.log("*>>> entre al GET response",n),e.abrupt("return",n);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function $(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(l.a)(c.a.mark((function e(a){var t,n,r,i,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(">>> POST entrada",a.request),e.next=4,fetch(a.servicio,{limits:{fileSize:"10mb"},method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a.request)});case 4:return n=e.sent,e.next=7,n.json();case 7:if(r=e.sent,i=new Date,o=i.getDay()+"-"+i.getMonth()+"-"+i.getFullYear(),(null===(t=a.request.imagen)||void 0===t?void 0:t.IMAGEN)&&(console.log(">>> POST habia imagen",a.request.imagen.ID_USUARIO),a.request.imagen.IMAGEN="Imagen"),void 0===Q()){e.next=20;break}return e.next=14,fetch("/api/auditoria/",{limits:{fileSize:"10mb"},method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:a.request?JSON.stringify({auditoria:{usuario:Q().usuario.CODIGO+"_"+Q().usuario.NOMBRE+" "+Q().usuario.APELLIDOS+": ",dia:o,transaccion:a.request}}):null});case 14:return s=e.sent,e.t0=console,e.next=18,s.json();case 18:e.t1=e.sent,e.t0.log.call(e.t0,">>> POST auditoria",e.t1);case 20:return console.log(">>> POST succesful",r),e.abrupt("return",r);case 24:return e.prev=24,e.t2=e.catch(0),console.log(">>> POST failed"),console.log(">>> ",e.t2.message),e.abrupt("return",null);case 29:case"end":return e.stop()}}),e,null,[[0,24]])})))).apply(this,arguments)}var ae=function(){var e=Object(l.a)(c.a.mark((function e(a,t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(l.a)(c.a.mark((function e(r,i){var o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o={usuario:{USUARIO:t,CONTRASENHA:n}},e.next=4,$({servicio:"/api/usuario/login",request:o});case 4:null!==(s=e.sent).usuario&&(s.error?r({status:!1,data:"Error"}):(a({type:"LOG_IN",usuario:s,auth:!0}),J(s),r({status:!0,data:s}))),i({status:!1,data:"MALDICIOOOOOOOON"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),i({status:!1,data:"MALDICIOOOOOOOON"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a,t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),te=function(e){return new Promise((function(a,t){try{e({type:"FINISH_SESION",usuario:{},auth:!1}),K(),a({status:!0})}catch(n){t({status:!1})}}))},ne=function(e,a){try{var t=Q();return t.usuario?(e({type:"INITIALIZE_SESION",usuario:t,auth:!0}),{status:!0,data:t}):(e({type:"INITIALIZE_SESION",usuario:a,auth:!1}),{status:!1,data:"storage vacio"})}catch(n){return{status:!1,data:"MALDICIOOOOOOOON"}}},re=t(103),ie=t(1268),oe=t(1240),se=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){return Object(U.a)(this,t),a.apply(this,arguments)}return Object(w.a)(t,[{key:"renderAlerta",value:function(){return""===this.props.alerta.mensaje?r.a.createElement(r.a.Fragment,null):r.a.createElement(ie.a,{severity:this.props.severity},r.a.createElement(oe.a,null,"Observaci\xf3n"),this.props.alerta.mensaje+" - ",r.a.createElement("strong",null,this.props.alerta.mensajeStrong))}},{key:"render",value:function(){return this.renderAlerta()}}]),t}(n.Component),ce=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).onSignInNormal=function(){var a=Object(l.a)(c.a.mark((function a(t){var n,r,i,o,s,l,m;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=Object(u.a)(e.context,2),n[0].usuario,r=n[1],i=e.state,o=i.Usuario,s=i.Contrasenia,a.next=4,ae(r,o,s);case 4:if(!(l=a.sent).error){a.next=8;break}return e.mostrarAlert(),a.abrupt("return");case 8:l.status?(m=l.data,e.props.history.push("./"+m.rol.toLowerCase().split(" ")[0])):e.mostrarAlert();case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),e.handleOnChange=function(a){e.setState(Object(N.a)({},a.name,a.value))},e.handleOnChangePSW=function(a){e.setState(Object(N.a)({},a.name,a.value)),a.entercillo&&e.onSignInNormal(a)},e.state={Usuario:"",Contrasenia:"",errores:[],alert:{mensajeStrong:"",mensajeStrongError:"por favor rev\xedsalos!",mensajeStrongExito:"satisfactoriamente!",mensajeError:"El nombre de usuario o contrase\xf1a son incorrectos",mensajeExito:"Proceso de Tutor\xeda registrado",mensaje:""},severidad:"warning"},e.handleOnChange=e.handleOnChange.bind(Object(M.a)(e)),e.validarEntrada=e.validarEntrada.bind(Object(M.a)(e)),e.onSignInNormal=e.onSignInNormal.bind(Object(M.a)(e)),e.mostrarAlert=e.mostrarAlert.bind(Object(M.a)(e)),e.limpiarAlerta=e.limpiarAlerta.bind(Object(M.a)(e)),e.handleOnChangePSW=e.handleOnChangePSW.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"validarEntrada",value:function(e){}},{key:"mostrarAlert",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:new Promise(function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=Object.assign({},a.state.alert)).mensaje=r.mensajeError,r.mensajeStrong="Revisalos y vuelve a intentar",a.setState({alert:r}),a.setState({severidad:"error"}),t();case 6:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()),new Promise(function(){var e=Object(l.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,setTimeout(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.limpiarAlerta();case 1:case"end":return e.stop()}}),e)}))),3e3);case 2:t();case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"limpiarAlerta",value:function(){var e=Object.assign({},this.state.alert);e.mensaje="",e.mensajeStrong="",this.setState({alert:e}),this.setState({severidad:"warning"})}},{key:"render",value:function(){var e=Q();if(e){var a=e.rol.toLowerCase().split(" ")[0];this.props.history.push("./"+a)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{container:!0,spacing:0},r.a.createElement(R.a,{item:!0,md:4,xs:4}),r.a.createElement(R.a,{item:!0,md:6,xs:6},r.a.createElement(y.a,{elevation:5,style:ue.paper},r.a.createElement(R.a,{container:!0,spacing:0},r.a.createElement(R.a,{item:!0,md:12,xs:12},r.a.createElement(se,{severity:this.state.severidad,titulo:"Observacion",alerta:this.state.alert})),r.a.createElement(R.a,{item:!0,md:2,xs:2}),r.a.createElement(R.a,{item:!0,md:8,xs:8},r.a.createElement("img",{style:ue.logo,src:"https://ututor-recursos.s3.amazonaws.com/Imagenes/ututor-main-logo-inverted.png",alt:"logo-ututor"}),r.a.createElement(I.a,{variant:"h6",align:"center"},"Iniciar Sesi\xf3n")),r.a.createElement(R.a,{item:!0,md:2,xs:2})),r.a.createElement(R.a,{container:!0,spacing:0},r.a.createElement(R.a,{item:!0,md:12,xs:12},r.a.createElement(H,{requerido:!0,autoFocus:!0,name:"Usuario",label:"Usuario",inicial:"",validacion:{lim:30},onChange:this.handleOnChange,validarEntrada:this.validarEntrada}),r.a.createElement(H,{id:"idPass",requerido:!0,autoFocus:!0,name:"Contrasenia",label:"Contrase\xf1a",inicial:"",validacion:{lim:50},onChange:this.handleOnChangePSW,validarEntrada:this.validarEntrada,tipo:"password"}),r.a.createElement("br",null),r.a.createElement(R.a,{container:!0,spacing:0},r.a.createElement(R.a,{item:!0,md:1,xs:1}),r.a.createElement(R.a,{item:!0,md:10,xs:10},r.a.createElement(D.a,{type:"submit",fullWidth:!0,size:"large",variant:"contained",color:"primary",onClick:this.onSignInNormal},"Iniciar Sesi\xf3n")),r.a.createElement(R.a,{item:!0,md:1,xs:1})),r.a.createElement(z,{N:1}),r.a.createElement(F.a,{variant:"middle"}),r.a.createElement("h5",{align:"center"},"o Inicia Sesi\xf3n con Google"),r.a.createElement(R.a,{container:!0,spacing:0},r.a.createElement(R.a,{item:!0,md:1,xs:1}),r.a.createElement(R.a,{item:!0,md:10,xs:10},r.a.createElement("div",{className:"g-signin2","data-onsuccess":"onSignIn",align:"center"})),r.a.createElement(R.a,{item:!0,md:1,xs:1})),r.a.createElement(z,{N:2}))))),r.a.createElement(R.a,{item:!0,md:4,xs:4}),r.a.createElement("button",{id:"AlertGmail",style:{display:"none"},onClick:this.mostrarAlert})))}}]),t}(n.Component);ce.contextType=V;var le=Object(re.a)(d.f)(ce),ue={paper:{backgroundColor:"#ffffff",opacity:.84,marginTop:"1%",flexDirection:"column",alignItems:"left",backgroundImage:"",display:"flex",heigh:"100%",padding:"4%"},logo:{borderRadius:"50%",objectFit:"cover",width:"100%"}},me={logo:{display:"flex",objectFit:"cover",width:"100%"},tablas:{minWidth:"40px",borderRadius:"50%",height:"70px"},cardsTutor:{minWidth:"40px",borderRadius:"50%",height:"50px"},xxs:{borderRadius:"50%",objectFit:"cover",width:"100%",minWidth:"40px",maxWidth:"40px",maxHeight:"80px"},institucion:{display:"flex",objectFit:"cover",width:"100%",minWidth:"100px",maxWidth:"150px",maxHeight:"80px"},imagenCircle:{marginTop:"3%",marginLeft:"3%",marginRight:"3%",borderRadius:"50%",objectFit:"cover",width:"80%"},imagenSquare:{marginTop:"3%",marginLeft:"3%",marginRight:"3%",objectFit:"cover",width:"80%"},imagenSquareMini:{display:"flex",objectFit:"cover",width:"100%",minWidth:"100px",maxWidth:"150px",maxHeight:"80px"},perfil:{objectFit:"cover",width:"100px",height:"100px","object-position":"center"}},de=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){return Object(U.a)(this,t),a.apply(this,arguments)}return Object(w.a)(t,[{key:"render",value:function(){var e=this.props,a=e.link,t=e.square,n=e.size,i=e.logoVerde,o=e.perfil,s=e.src,c=e.tablas,l=e.cardsTutor;return console.log("Imagen circular PROPS: ",this.props),c?r.a.createElement("img",{style:me.tablas,src:s,alt:"logo-ututor"}):l?r.a.createElement("img",{style:me.cardsTutor,src:s,alt:"logo-ututor"}):o?r.a.createElement("img",{style:me.perfil,src:s,alt:"logo-ututor"}):i?r.a.createElement("img",{style:me.logo,src:"https://ututor-recursos.s3.amazonaws.com/Imagenes/ututor-main-logo-inverted.png",alt:"logo-ututor"}):a?r.a.createElement("a",{href:a},r.a.createElement(R.a,{item:!0,md:12,xs:12},r.a.createElement("img",{style:me.institucion,src:this.props.src,alt:""}))):t?r.a.createElement(R.a,{item:!0,md:12,xs:12},r.a.createElement("img",{style:"xs"===this.props.size?me.imagenSquareMini:me.imagenCircle,src:this.props.src,alt:""})):"xs"===n?r.a.createElement(R.a,{item:!0,md:12,xs:12},r.a.createElement("img",{style:me.imagenSquareMini,src:this.props.src,alt:""})):"xxs"===n?r.a.createElement("img",{style:me.xxs,src:this.props.src,alt:""}):r.a.createElement(R.a,{item:!0,md:12,xs:12},r.a.createElement("img",{style:me.imagenCircle,src:this.props.src,alt:""}))}}]),t}(n.Component),pe=t(10),he=(t(686),function(e,a){console.log("OPEEEEEN",a),e({type:"OPEN_DIALOG",openMensaje:a})}),fe=Object(n.createContext)(),Oe=function(e){var a=e.reducer,t=e.initialState,i=e.children;return r.a.createElement(fe.Provider,{value:Object(n.useReducer)(a,t)},i)},ge=function(){return Object(n.useContext)(fe)},be=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).handleOnChangeCT=function(a){0===a.target.value.length?e.setState({esValido:!0}):e.setState({esValido:!1}),e.setState(Object(N.a)({},a.target.name,a.target.value)),e.setState({motivoSugerencia:a.target.value})},e.state={institucion:void 0,motivoSugerencia:"",dataMotivo:"",esValido:!0},e.handleOnclickEnviarBuzon=e.handleOnclickEnviarBuzon.bind(Object(M.a)(e)),e.handleOnCloseSugerenciaEnviada=e.handleOnCloseSugerenciaEnviada.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"handleOnCloseSugerenciaEnviada",value:function(){this.setState({dataMotivo:"",open:!1}),this.setState({esValido:!0})}},{key:"handleOnclickEnviarBuzon",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a,t,n,r,i,o,s,l,m,d,p,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={sugerencia:this.state.motivoSugerencia},console.log(">>RESUL=>",a),t={servicio:"/api/sugerencia",request:a},e.next=5,$(t);case 5:if(n=e.sent){e.next=8;break}return e.abrupt("return");case 8:n.message?(d=Object(u.a)(this.context,2),p=d[0],p.openMensaje,p.mensaje,h=d[1],he(h,{open:!0,mensaje:"X>".concat(n.message)})):n.error?(s=Object(u.a)(this.context,2),l=s[0],l.openMensaje,l.mensaje,m=s[1],he(m,{open:!0,mensaje:"X>Ups, Error Inesperado.   Por favor, Int\xe9ntelo m\xe1s tarde."})):(r=Object(u.a)(this.context,2),i=r[0],i.openMensaje,i.mensaje,o=r[1],he(o,{postClose:this.handleOnCloseSugerenciaEnviada,open:!0,mensaje:"C>\xa1 Sugerencia Enviada Satisfactoriamente !"}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/institucion"});case 2:(null===(a=e.sent)||void 0===a?void 0:a.institucion)&&this.setState({institucion:a.institucion});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes,a=this.state.institucion;return r.a.createElement(f.a,{theme:g},r.a.createElement(y.a,{elevation:0},r.a.createElement("footer",null,r.a.createElement("div",{class:"footer-wrap"},r.a.createElement("div",{class:"container"},r.a.createElement("div",{className:e.sectionDesktop},r.a.createElement(R.a,{container:!0,spacing:0},r.a.createElement(R.a,{item:!0,md:1}),r.a.createElement(R.a,{item:!0,md:2,xs:12},r.a.createElement(de,{size:"xs",square:!0,src:"https://ututor-recursos.s3.amazonaws.com/ututor-main-logo-inverted_emptyBG_light.png"}),r.a.createElement("p",{class:"text-justify"},r.a.createElement("strong",null,"Ututor.net "),"es una plataforma web de gesti\xf3n y administraci\xf3n de procesos de tutor\xedas. Est\xe1 dirigida para apoyar el desempe\xf1o profesional de alumnos de la Pontificia Universidad Cat\xf3lica del Per\xfa.")),r.a.createElement(R.a,{item:!0,md:3,xs:12},r.a.createElement("h3",{style:{textAlign:"center"}},"NOSOTROS"),r.a.createElement("ul",{class:"a"},r.a.createElement("li",null,r.a.createElement("p",{class:"text-justify"},"Proyecto desarrollado por el grupo KND-Los Chicos de Software de para el curso de Ingenier\xeda de Software - PUCP")),r.a.createElement("li",null,r.a.createElement("p",{class:"text-justify"},"Este proyecto fue implementato utilizando react.js y Express.js y est\xe1 corriendo en una maquina virtual en Amazon AWS.")))),r.a.createElement(R.a,{item:!0,md:2,xs:12},r.a.createElement("h3",{style:{textAlign:"center"}},"Ub\xedcanos"),r.a.createElement("div",{class:"address"},r.a.createElement("i",{class:"fa fa-map-marker","aria-hidden":"true"}),(null===a||void 0===a?void 0:a.UBICACION)||" Av. Universitaria 1801, San Miguel Lima 32, Per\xfa"),r.a.createElement("div",{class:"address"},r.a.createElement("i",{class:"fa fa-phone","aria-hidden":"true"})," ",(null===a||void 0===a?void 0:a.TELEFONO)||"(01) 626-2000")),r.a.createElement(R.a,{item:!0,md:3,xs:12},r.a.createElement("h3",{style:{textAlign:"center"}},"Env\xedanos tus sugerencias: "),r.a.createElement(R.a,{elevation:0,style:ve.paper},r.a.createElement(y.a,{container:!0,spacing:0},r.a.createElement(R.a,{item:!0,md:12,style:{marginBottom:"3%"}},r.a.createElement(B.a,{value:this.state.dataMotivo,color:"primary",name:"dataMotivo",fullWidth:!0,variant:"outlined",rows:5,multiline:!0,required:!0,onChange:this.handleOnChangeCT}),r.a.createElement("br",null))),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(D.a,{size:"large",variant:"contained",color:"white",disabled:this.state.esValido,onClick:this.handleOnclickEnviarBuzon},"Enviar"),r.a.createElement("br",null)))),r.a.createElement(R.a,{item:!0,md:1}))),r.a.createElement("div",{className:e.sectionMobile},r.a.createElement(R.a,{item:!0,xs:12,style:{textAlign:"center"}},r.a.createElement(de,{size:"xs",square:!0,src:"https://ututor-recursos.s3.amazonaws.com/ututor-main-logo-inverted_emptyBG_light.png"}),r.a.createElement("p",{class:"text-justify"},r.a.createElement("strong",null,"Ututor.net "),"es una plataforma web de gesti\xf3n y administracion de procesos de tutorias. Est\xe1 dirigida para apoyar el desempe\xf1o profesional de alumnos de la Pontificia Universidad Cat\xf3lica del Per\xfa."))),r.a.createElement("div",{class:"copyright"},"Copyright \xa9 2020 Ututor.net | ",(null===a||void 0===a?void 0:a.NOMBRE)||"PUCP"," - Todos los derechos reservados."))))))}}]),t}(n.Component);be.contextType=fe;var Ee=Object(pe.a)((function(e){return{sectionDesktop:Object(N.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(N.a)({alignText:"center",display:"flex"},e.breakpoints.up("md"),{display:"none"})}}))(be),ve={paper:{marginLeft:"10%",marginRight:"10%",marginTop:"5%",flexDirection:"column"}};var je=function(e){var a=T(),t=Y(),n=Object(u.a)(t,2);return n[0].usuario,n[1],r.a.createElement("div",{className:a.root},r.a.createElement(A.a,{position:"static"},r.a.createElement(C.a,null,r.a.createElement(R.a,{container:!0,spacing:1},r.a.createElement(R.a,{item:!0,md:2,xs:4,xl:1},r.a.createElement(de,{size:"xs",square:!0,src:"https://ututor-recursos.s3.amazonaws.com/ututor-main-logo-inverted_emptyBG_light.png"})),r.a.createElement(R.a,{item:!0,md:10,xs:5,xl:10})))),r.a.createElement(R.a,{container:!0,direction:"column",className:a.fullscreen},r.a.createElement(R.a,{item:!0,xs:12,container:!0,className:a.image},r.a.createElement(R.a,{item:!0,md:6,xs:!1,container:!0,justify:"flex-start",alignItems:"center"},r.a.createElement(R.a,{item:!0},r.a.createElement(I.a,{variant:"h2",className:a.t1,style:{color:"#2B7A78"}},"Bienvenidos a Ututor.net"),r.a.createElement(I.a,{variant:"h5",className:a.t2,style:{color:"#2B7A78"}},"Ingresa y solicita una sesi\xf3n de tutor\xeda con los profesores de tu universidad."))),r.a.createElement(R.a,{item:!0,md:6,xs:12,container:!0,justify:"center",alignItems:"center"},r.a.createElement(le,null)))))},Se=t(6),Ae=t(42),Ce=t(121),Ie=t(1244),Re=t(1217),ye=t(444),xe=t(167),ke=t.n(xe),De=t(168),Ne=t.n(De),Te=t(169),Ue=t.n(Te),we=t(1220),Me=t(1245),Le=t(503),Pe=t(128),Fe=t.n(Pe),Be=t(174),Ge=t.n(Be),qe=t(170),_e=t.n(qe),He=t(157),ze=t.n(He),Ve=t(171),We=t.n(Ve),Ye=t(640),Je=t.n(Ye),Ke=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){return Object(U.a)(this,t),a.apply(this,arguments)}return Object(w.a)(t,[{key:"shouldComponentUpdate",value:function(e){return e!==this.props}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Je.a,{MenuIconButton:this.props.MenuIconButton,imagenPerfil:"data:image/jpeg;base64,".concat(this.props.imagenPerfil),rol:this.props.rol,NOMBRE:this.props.NOMBRE,APELLIDOS:this.props.APELLIDOS,classes:this.props.classes,CampanitaIconButton:this.props.CampanitaIconButton}))}}]),t}(n.Component),Qe=Object(pe.a)((function(e){return{sectionDesktop:Object(N.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(N.a)({display:"flex"},e.breakpoints.up("xs"),{display:"none"}),grow:{flexGrow:.75},growmid:{flexGrow:.35}}}))(Ke),Xe=t(641),Ze=t.n(Xe),$e=Object(h.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(250,"px)"),marginLeft:250,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:250,flexShrink:0},drawerPaper:{width:250},drawerHeader:Object(E.a)(Object(E.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-250},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}})),ea=function(e){var a=$e(),t=Object(Ae.a)(),n=r.a.useState(!1),i=Object(u.a)(n,2),o=i[0],s=i[1],c=Y(),l=Object(u.a)(c,2),d=(l[0].usuario,l[1]),p=function(){s(!0)},h=Q().usuario;return console.log("=> ",Q()),r.a.createElement("div",{className:a.root},r.a.createElement(Ie.a,null),r.a.createElement(f.a,{theme:t},r.a.createElement(A.a,{position:"fixed",className:Object(Se.a)(a.appBar,Object(N.a)({},a.appBarShift,o))},r.a.createElement(Qe,{MenuIconButton:function(){return r.a.createElement(ye.a,{color:"inherit","aria-label":"open drawer",onClick:p,edge:"start",className:Object(Se.a)(a.menuButton,o&&a.hide)},r.a.createElement(ke.a,null))},imagenPerfil:h.IMAGEN?h.IMAGEN:"https://www.w3schools.com/howto/img_avatar.png",rol:"Administrador",NOMBRE:h.NOMBRE,APELLIDOS:h.APELLIDOS}))),r.a.createElement(Ce.a,{className:a.drawer,variant:"persistent",anchor:"left",open:o,classes:{paper:a.drawerPaper}},r.a.createElement("div",{className:a.drawerHeader},r.a.createElement(R.a,{container:!0,spacing:1},r.a.createElement(R.a,{item:!0,md:9},r.a.createElement(de,{src:"https://ututor-recursos.s3.amazonaws.com/Imagenes/ututor-main-logo-inverted.png",logoVerde:!0})),r.a.createElement(R.a,{item:!0,md:3},r.a.createElement(ye.a,{onClick:function(){s(!1)}},"ltr"===t.direction?r.a.createElement(Ne.a,null):r.a.createElement(Ue.a,null))),r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(I.a,{variant:"h6",textAlign:"center",style:{"text-align":"center"}},"Administrador")))),r.a.createElement(F.a,null),r.a.createElement(Re.a,null,["Perfil","Instituci\xf3n","Facultades","Coordinadores","Unidades de Apoyo","Buz\xf3n de Sugerencias"].map((function(e,a){return r.a.createElement(we.a,{button:!0,key:e,component:m.b,to:6===a?"/":"/administrador/"+e.split(" ").join("").toLowerCase().replace("\xf3","o")},r.a.createElement(Me.a,null,0===a?r.a.createElement(_e.a,{color:"primary"}):1===a||2===a?r.a.createElement(Ge.a,{color:"primary"}):3===a?r.a.createElement(ze.a,{color:"primary"}):4===a?r.a.createElement(Ge.a,{color:"primary"}):5===a?r.a.createElement(Ze.a,{color:"primary"}):r.a.createElement(Fe.a,{color:"primary"})),r.a.createElement(Le.a,{primary:e,color:"primary"}))})),r.a.createElement(we.a,{button:!0,key:"Cerrar Sesion",component:m.b,to:"/",onClick:function(){te(d)}},r.a.createElement(Me.a,null,r.a.createElement(We.a,{color:"primary"})),r.a.createElement(Le.a,{primary:"Cerrar Sesi\xf3n",color:"primary"})))),r.a.createElement("main",{className:Object(Se.a)(a.content,Object(N.a)({},a.contentShift,o))},r.a.createElement("div",{className:a.drawerHeader}),e.contenido,e.children))},aa=Object(h.a)((function(e){return{caja:{padding:e.spacing(5),width:e.spacing(150),height:e.spacing(20)}}})),ta=function(){var e=aa();return r.a.createElement(y.a,{className:e.caja},r.a.createElement(R.a,{container:!0,xs:12,direction:"column",spacing:2},r.a.createElement(R.a,{item:!0,xs:12,container:!0,spacing:10},r.a.createElement(R.a,{item:!0,xs:6},r.a.createElement(B.a,{autoFocus:!0,disabled:!0,margin:"dense",id:"name",label:"C\xf3digo",type:"text",fullWidth:!0,defaultValue:Q().usuario.CODIGO})),r.a.createElement(R.a,{item:!0,xs:6},r.a.createElement(B.a,{autoFocus:!0,disabled:!0,margin:"dense",id:"name",label:"Correo",type:"email",fullWidth:!0,defaultValue:Q().usuario.CORREO})))))},na=t(642),ra=t.n(na),ia=t(1246),oa=t(1271),sa=t(446),ca=t(504),la=Object(h.a)((function(e){return{small:{width:e.spacing(3),height:e.spacing(3)},large:{width:e.spacing(20),height:e.spacing(20),fontSize:"500%"},customContainer:{padding:e.spacing(5),backgroundColor:"#ffffff"}}})),ua=function(){var e=Object(l.a)(c.a.mark((function e(a){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(E.a)({},JSON.parse(sessionStorage.Sesion)),e.next=3,a.target.value;case 3:return t.idRol=e.sent,e.next=6,document.getElementById("rol").innerHTML.trim();case 6:t.rol=e.sent,sessionStorage.Sesion=JSON.stringify(t),window.location.reload();case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ma=function(e){var a=la(),t=Q().usuario,i=ge(),o=Object(u.a)(i,2),s=o[0],m=(s.openMensaje,s.mensaje,o[1]),d=Object(n.useState)(void 0),p=Object(u.a)(d,2);p[0],p[1];console.log("GAAAAAAAAA",e);var h=function(){var e=Object(l.a)(c.a.mark((function e(a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.target.files[0].name,"png"!==n.split(".")[1].toLowerCase()){e.next=5;break}return he(m,{open:!0,mensaje:"X>Solo se permiten imagenes con extension 'jpeg'",postClose:function(){}}),e.abrupt("return");case 5:(r=new FileReader).readAsDataURL(a.target.files[0]),r.onload=function(){var e=Object(l.a)(c.a.mark((function e(a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.target.result.slice(23),e.next=3,$({servicio:"/api/usuario/guardarimagen",request:{imagen:{ID_USUARIO:t.ID_USUARIO,IMAGEN:n}}});case 3:e.sent&&((r=Q()).usuario.IMAGEN=n,J(r),he(m,{open:!0,mensaje:"C>Imagen registrada satisfactoriamente",postClose:function(){}}));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(ia.a,{maxWidth:"xl",className:a.customContainer},r.a.createElement(R.a,{container:!0},r.a.createElement(R.a,{item:!0,md:2,xs:12,container:!0,justify:"center",alignItems:"center"},e.alumnodesdetutor?r.a.createElement(oa.a,{alt:e.nombre.replace(/["]+/g,""),src:e.imagen,className:a.large},e.nombre[0].match(/[a-z]/i)?e.nombre[0]:e.nombre[1]):Q().usuario.IMAGEN?r.a.createElement(de,{src:"data:image/jpeg;base64,".concat(Q().usuario.IMAGEN)}):"Administrador"===Q().rol?r.a.createElement(de,{perfil:!0,src:"https://www.w3schools.com/howto/img_avatar.png"}):r.a.createElement(oa.a,{alt:e.nombre.replace(/["]+/g,""),src:e.imagen,className:a.large},e.nombre[0].match(/[a-z]/i)?e.nombre[0]:e.nombre[1]),r.a.createElement(R.a,{item:!0,md:12,xs:12,style:{textAlign:"center",marginTop:"10%"}},!e.alumnodesdetutor&&r.a.createElement(D.a,{variant:"outlined",component:"label",color:"primary"},"Cambiar foto",r.a.createElement("input",{type:"file",onChange:h,style:{display:"none"}})))),r.a.createElement(R.a,{item:!0,md:4,xs:12,container:!0,direction:"column",alignItems:"flex-start",justify:"center"},r.a.createElement(I.a,{variant:"h4"},e.nombre.replace(/["]+/g,"")),r.a.createElement(k.a,{id:"demo-simple-select-placeholder-label-label",style:{textAlign:"center",marginTop:"2%"}},"Cambiar de rol"),!e.alumnodesdetutor&&r.a.createElement(sa.a,{labelId:"demo-simple-select-placeholder-label-label",id:"rol",defaultValue:Q().idRol,onChange:ua},function(){var e=[];Q().usuario.ROL_X_USUARIO_X_PROGRAMAs.map((function(a){return e.push([a.ROL.ID_ROL,a.ROL.DESCRIPCION])}));for(var a=[],t=function(){var e=r[n];a.find((function(a){return a[0]===e[0]}))||a.push(e)},n=0,r=e;n<r.length;n++)t();return Array.from(new Set(a))}().map((function(e){return r.a.createElement(ca.a,{value:e[0]}," ",e[1])}))),e.alumnodesdetutor&&r.a.createElement(I.a,{variant:"h6"},"Alumno")),r.a.createElement(R.a,{item:!0,md:6,container:!0,direction:"column",alignItems:"flex-start",justify:"center"}))))},da=Object(h.a)((function(e){return{customContainer:{margin:e.spacing(5)}}})),pa=Object(b.c)(d.f)((function(e){var a=da();return r.a.createElement("div",null,r.a.createElement(ma,{titulo:"Administrador",nombre:Q().usuario.APELLIDOS.toUpperCase()+", "+Q().usuario.NOMBRE,imagen:ra.a}),r.a.createElement(R.a,{container:!0,xs:12,justify:"center",alignItems:"center",className:a.customContainer},r.a.createElement(R.a,{item:!0},r.a.createElement(ta,null))))})),ha={paper:{marginLeft:"10%",marginRight:"10%",marginTop:"5%",flexDirection:"column"}},fa=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={programas:[],programa:[]},e.handleOnChange=e.handleOnChange.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"handleOnChange",value:function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.target.value,(n=[]).push(t.ID_PROGRAMA),e.next=5,this.props.escogerPrograma(n);case 5:this.setState({programa:a.target.value}),a.target.value=this.state.programa;case 7:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:this.props.enlace});case 2:a=e.sent,this.setState({programas:a.programa});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"shouldComponentUpdate",value:function(e,a){return e.programas!==this.state.programas||e.programa!==this.state.programa}},{key:"render",value:function(){return r.a.createElement(y.a,{elevation:0,style:ha.paper},r.a.createElement("br",null),r.a.createElement(x.a,{fullWidth:!0},r.a.createElement(k.a,{id:"demo-simple-select-placeholder-label-label"},this.props.titulo),r.a.createElement(sa.a,{labelId:"demo-simple-select-placeholder-label-label",id:"demo-simple-select-placeholder-label",value:this.state.programa,onChange:this.handleOnChange,displayEmpty:!0},this.state.programas.map((function(e){return r.a.createElement(ca.a,{key:e.ID_PROGRAMA,value:e}," ",e.NOMBRE)}))),r.a.createElement(G.a,null,"Escoja el programa")))}}]),t}(r.a.Component),Oa=t(1247),ga=t(1250),ba=t(1249),Ea=t(1248),va=t(632),ja=t(54),Sa=t.n(ja),Aa={name:{error:!1,mesage:""},lastnames:{error:!1,mesage:""},email:{error:!1,mesage:""},phoneNumber:{error:!1,mesage:""},address:{error:!1,mesage:""},code:{error:!1,mesage:""},telefono:{error:!1,message:""},correo:{error:!1,message:""},contacto:{error:!1,message:""}},Ca=function(e){var a=e.match(/[A-Za-z\xe1\xe9\xed\xf3\xfa\xf10-9 ]+/i),t=e.match(/[0-9]/);return e.length>=100?{error:!0,mesage:"El nombre debe tener menos de 100 caracteres"}:null!==a&&a[0].length!==e.length?{error:!0,mesage:"Nombre inv\xe1lido, contiene caracteres especiales"}:null!==t&&0!==t?{error:!0,mesage:"Nombre inv\xe1lido, debe ser una cadena alfab\xe9tica"}:{error:!1,mesage:""}},Ia=Object(h.a)((function(e){return{foto:{backgroundImage:"url(https://pps.whatsapp.net/v/t61.24694-24/97969579_3102912936463371_7208379054937379558_n.jpg?oe=5EC495F5&oh=68e4ca58a0f65f680df95105f6ba41ae)",backgroundSize:"cover",backgroundPosition:"center",alignItems:"center",padding:e.spacing(5),width:e.spacing(15),height:e.spacing(15)}}})),Ra=function(e){e.flag;var a=e.setFlag,t=r.a.useState({ID_INSTITUCION:"1",NOMBRE:"",IMAGEN:null,INDEPENDIENTE:0,DIAS_DISP:0}),i=Object(u.a)(t,2),o=i[0],s=i[1],m=Object(n.useState)({mensajeStrong:"",mensajeStrongError:"por favor revisalos!",mensajeStrongExito:"satisfactoriamente!",mensajeError:"Existen errores al completar el formulario",mensajeExito:"Facultad registrada",mensaje:""}),d=Object(u.a)(m,2),p=d[0],h=d[1],f=Object(n.useState)({severidad:"",severW:"warning",severE:"error",severS:"success"}),O=Object(u.a)(f,2),g=O[0],b=O[1],v=Object(n.useState)(Aa),j=Object(u.a)(v,2),S=j[0],A=j[1],C=(Ia(),r.a.useState(!1)),y=Object(u.a)(C,2),x=y[0],k=y[1],N=r.a.useState(),T=Object(u.a)(N,2),U=(T[0],T[1],r.a.useState(!1)),w=Object(u.a)(U,2),M=w[0],L=w[1],P=function(){k(!1),b({severidad:""}),h({mensaje:""}),L(!1),A(Aa)},F=function(){var e=Object(l.a)(c.a.mark((function e(t,n,r){var i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S.name.error&&""!==n.NOMBRE){e.next=6;break}return b({severidad:g.severE}),h({mensaje:"Existen errores al completar el formulario"}),e.abrupt("return");case 6:return n.INDEPENDIENTE=M?1:0,r(Object(E.a)({},n)),i={servicio:"/api/facultad",request:{facultad:n}},e.next=11,$(i);case 11:(o=e.sent)&&(1===o.registro.ok?(o.registro.facultad.ID_PROGRAMA,b({severidad:"success"}),h({mensaje:"Facultad registrada"}),a((function(e){return e+1}))):0===o.registro.ok?(b({severidad:"error"}),h({mensaje:"La Facultad ya ha sido registrada"})):(b({severidad:"error"}),h({mensaje:"Existen errores al completar el formulario"})));case 13:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:function(){k(!0),L(!1)}},"Registrar"),r.a.createElement(Oa.a,{open:x,onClose:P,"aria-labelledby":"form-dialog-title"},r.a.createElement(se,{severity:g.severidad,titulo:"Observacion:",alerta:p}),r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,spacing:1},r.a.createElement(R.a,{item:!0,md:11},"Formulario de Registro de Facultad"),r.a.createElement(R.a,{item:!0,md:1,alignContent:"flex-end"},r.a.createElement(Sa.a,{onClick:P})))),r.a.createElement(ba.a,null,r.a.createElement(R.a,{container:!0,spacing:12},r.a.createElement(R.a,{item:!0,md:12,sm:!0,container:!0},r.a.createElement(R.a,{item:!0,xs:!0,container:!0,direction:"column",justify:"center",spacing:2},r.a.createElement(R.a,{item:!0,xs:!0},r.a.createElement(B.a,{required:!0,error:S.name.error,margin:"dense",id:"NOMBRE",label:"Nombre",fullWidth:!0,onChange:function(e){return function(e,a,t,n,r){t(Object(E.a)(Object(E.a)({},a),{},{NOMBRE:e.target.value}));var i=Ca(e.target.value);r(Object(E.a)(Object(E.a)({},n),{},{name:i}))}(e,o,s,S,A)},helperText:S.name.mesage})),r.a.createElement(R.a,{item:!0},"Administrador"!==Q().rol&&r.a.createElement(B.a,{margin:"dense",id:"antDias",label:"D\xedas de anticipaci\xf3n al registrar disponibilidad",fullWidth:!0,onChange:function(e){return function(e,a,t){t(Object(E.a)(Object(E.a)({},a),{},{DIAS_DISP:e.target.value}))}(e,o,s)},type:"number",defaultValue:0,inputProps:{min:0}})),r.a.createElement(R.a,{item:!0},r.a.createElement(va.a,{checked:M,onChange:function(e){L(e.target.checked)},color:"primary",label:"Facultad Independiente"}),r.a.createElement(I.a,{variant:"h7",align:"center"}," ","Facultad Independiente")))))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"outlined",onClick:P,color:"primary"},"Cancelar"),r.a.createElement(D.a,{variant:"contained",onClick:function(e){return F(e,o,s)},color:"primary"},"Crear"))))},ya=Object(h.a)((function(e){return{customContainer:{backgroundColor:"#ffffff",paddingBottom:e.spacing(1),paddingTop:e.spacing(),paddingLeft:e.spacing(5)}}})),xa=function(e){var a=ya(),t=e.botonRegistrar;return e.botonRegistrar?r.a.createElement(R.a,{container:!0},r.a.createElement(R.a,{item:!0,md:10,xs:12},r.a.createElement(I.a,{component:"h1",variant:"h5",className:a.customContainer},r.a.createElement("h2",null,e.titulo))),r.a.createElement(R.a,{item:!0,md:2,xs:12,style:{display:"flex",backgroundColor:"#ffffff"}},r.a.createElement("div",{style:{marginTop:"20%"}},r.a.createElement(t,null)))):r.a.createElement(I.a,{component:"h1",variant:"h5",className:a.customContainer},r.a.createElement("h2",null,e.titulo))},ka=t(24),Da=t(55),Na=t.n(Da);var Ta=function(e){return r.a.createElement(Na.a,{title:"",columns:e.facultades.columns,data:e.facultades.data,options:{rowStyle:{backgroundColor:"#FFF"},headerStyle:{backgroundColor:"#3AAFA9",color:"#FFF",fontSize:16}}})},Ua=t(75),wa=t.n(Ua),Ma=t(76),La=t.n(Ma),Pa=(Object(h.a)((function(e){return{foto:{backgroundImage:"url(https://pps.whatsapp.net/v/t61.24694-24/97969579_3102912936463371_7208379054937379558_n.jpg?oe=5EC495F5&oh=68e4ca58a0f65f680df95105f6ba41ae)",backgroundSize:"cover",backgroundPosition:"center",alignItems:"center",padding:e.spacing(5),width:e.spacing(15),height:e.spacing(15)}}})),function(e){var a=e.open,t=e.close,i=e.facultad,o=e.parentCallback,s=Object(n.useState)(0),m=Object(u.a)(s,2),d=m[0],p=m[1],h=r.a.useState({ID_INSTITUCION:"",ID_FACULTAD:"",ID_PROGRAMA:"",NOMBRE:"",IMAGEN:null,DIAS_DISP:0,DIAS_CITA:0}),f=Object(u.a)(h,2),O=f[0],g=f[1],b=Object(n.useState)([]),v=Object(u.a)(b,2),j=v[0],S=v[1],A=Object(n.useState)({mensajeStrong:"",mensajeStrongError:"por favor revisalos!",mensajeStrongExito:"satisfactoriamente!",mensajeError:"Existen errores al completar el formulario",mensajeExito:"Facultad registrada",mensaje:""}),C=Object(u.a)(A,2),I=C[0],y=C[1],x=Object(n.useState)({severidad:"",severW:"warning",severE:"error",severS:"success"}),k=Object(u.a)(x,2),N=k[0],T=k[1],U=Object(n.useState)(Aa),w=Object(u.a)(U,2),M=w[0],L=w[1],P=r.a.useState(),F=Object(u.a)(P,2),G=(F[0],F[1],r.a.useState(!1)),q=Object(u.a)(G,2);q[0],q[1];Object(n.useEffect)((function(){O.ID_FACULTAD=i.ID_FACULTAD,O.ID_PROGRAMA=i.ID_PROGRAMA,O.NOMBRE=i.NOMBRE,O.ID_INSTITUCION=i.ID_INSTITUCION,O.DIAS_DISP=i.ANTICIPACION_DISPONIBILIDAD,O.DIAS_CITA=i.ANTICIPACION_CANCELAR_CITA,g(Object(E.a)({},O))}),{}),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/api/facultad/"+i.ID_PROGRAMA,t={servicio:a},e.next=4,X(t);case 4:(n=e.sent).facultad&&S(n.facultad.USUARIOs);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),{});var _=function(){var e=Object(l.a)(c.a.mark((function e(a,t,n){var r,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M.name.error&&""!==t.NOMBRE){e.next=6;break}return T({severidad:N.severE}),y({mensaje:"Existen errores al completar el formulario"}),e.abrupt("return");case 6:return n(Object(E.a)({},t)),r={servicio:"/api/facultad/modificar",request:{facultad:t}},e.next=10,$(r);case 10:(i=e.sent)&&(1===i.modificacion.ok?(T({severidad:"success"}),y({mensaje:"Facultad modificada satifactoriamente"})):(T({severidad:"error"}),y({mensaje:"La Facultad ya ha sido registrada"}))),p(s=d+1),o(s);case 15:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(Oa.a,{open:a,onClose:t,"aria-labelledby":"form-dialog-title"},r.a.createElement(se,{severity:N.severidad,titulo:"Observacion:",alerta:I}),r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,spacing:1},r.a.createElement(R.a,{item:!0,md:11},"Formulario Modificaci\xf3n de Facultad"),r.a.createElement(R.a,{item:!0,md:1,alignContent:"flex-end"},r.a.createElement(Sa.a,{onClick:t})))),r.a.createElement(ba.a,null,r.a.createElement(R.a,{container:!0,spacing:12},r.a.createElement(R.a,{item:!0,md:12,sm:!0,container:!0},r.a.createElement(R.a,{item:!0,xs:!0,container:!0,direction:"column",justify:"center",spacing:2},r.a.createElement(R.a,{item:!0,xs:!0},r.a.createElement(B.a,{disabled:"Administrador"!==Q().rol,required:!0,error:M.name.error,margin:"dense",id:"NOMBRE",label:"Nombre",value:O.NOMBRE,fullWidth:!0,onChange:function(e){return function(e,a,t,n,r){t(Object(E.a)(Object(E.a)({},a),{},{NOMBRE:e.target.value}));var i=Ca(e.target.value);r(Object(E.a)(Object(E.a)({},n),{},{name:i}))}(e,O,g,M,L)},helperText:M.name.mesage})),r.a.createElement(R.a,{item:!0},"Administrador"!==Q().rol&&r.a.createElement(B.a,{margin:"dense",id:"antDias",label:"D\xedas de anticipaci\xf3n al registrar disponibilidad",fullWidth:!0,defaultValue:O.DIAS_DISP?O.DIAS_DISP:0,onChange:function(e){return function(e,a,t){t(Object(E.a)(Object(E.a)({},a),{},{DIAS_DISP:Number(e.target.value)}))}(e,O,g)},type:"number",inputProps:{min:0}})),r.a.createElement(R.a,{item:!0},"Administrador"!==Q().rol&&r.a.createElement(B.a,{margin:"dense",id:"antDias",label:"D\xedas de anticipaci\xf3n al cancelar una cita",defaultValue:O.DIAS_CITA?O.DIAS_CITA:0,fullWidth:!0,onChange:function(e){return function(e,a,t){t(Object(E.a)(Object(E.a)({},a),{},{DIAS_CITA:Number(e.target.value)}))}(e,O,g)},type:"number",inputProps:{min:0}})),r.a.createElement(R.a,{item:!0},"Administrador"===Q().rol&&void 0!==j&&r.a.createElement(Re.a,null,r.a.createElement(R.a,{item:!0,style:{marginLeft:"2%"}},r.a.createElement("h3",null,"Lista Coordinadores:")),j.map((function(e){return r.a.createElement(we.a,null,r.a.createElement(Le.a,{primary:e.NOMBRE+" "+e.APELLIDOS}))})))))))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"outlined",onClick:t,color:"primary"},"Cancelar"),r.a.createElement(D.a,{variant:"contained",onClick:function(e){return _(e,O,g)},color:"primary"},"Modificar"))))}),Fa=t(50),Ba=t.n(Fa),Ga=t(49),qa=t.n(Ga),_a=function(e){var a=e.open,t=e.close,i=e.id,o=e.parentCallback,s=Object(n.useState)(0),m=Object(u.a)(s,2),d=m[0],p=m[1],h=Object(n.useState)(!1),f=Object(u.a)(h,2),O=f[0],g=f[1],b=Object(n.useState)({mensaje:"\xbfEst\xe1 seguro de eliminar la facultad?"}),E=Object(u.a)(b,2),v=E[0],j=E[1],S=function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={servicio:"/api/facultad/eliminar/"+i,request:{}},e.next=4,$(t);case 4:return(n=e.sent)&&(1!==n.eliminacion.ok?(g(!1),j({mensaje:"La facultad no puede eliminarse porque cuenta con programas registrados"})):(g(!0),j({mensaje:""}))),p(r=d+1),e.next=10,o(r);case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(Oa.a,{open:a,onClose:t,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,justify:"center"},!O&&r.a.createElement(qa.a,{color:"error",style:{fontSize:70}}),O&&r.a.createElement(Ba.a,{color:"primary",style:{fontSize:70}}))),r.a.createElement(ba.a,null,r.a.createElement(R.a,{container:!0,md:12,justify:"center"},!O&&r.a.createElement(I.a,{variant:"subtitle1"},v.mensaje),O&&r.a.createElement(I.a,{variant:"subtitle1"},"La facultad se elimin\xf3 satisfactoriamente"))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"outlined",onClick:t,color:"inherit"},"Cancelar"),r.a.createElement(D.a,{variant:"contained",onClick:O?t:function(e){return S(e)},color:"primary"},!O&&"Eliminar",O&&"Aceptar"))))},Ha={paper:{marginTop:"3%",marginLeft:"3%",marginRight:"3%",display:"flex",flexDirection:"column",alignItems:"left",backgroundImage:""}},za=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(U.a)(this,t),(n=a.call(this)).handleOnOpen=function(e){n.setState({open:!0}),n.state.facultadCompleta=e},n.handleOnOpenEliminar=function(e){n.setState({open2:!0}),n.state.facultadCompleta=e},n.callback=function(e){var a=n.state.flag+1;n.setState({flag:a})},n.state={facultades:{columns:[{title:"Nombre",field:"nombre"}],data:[{nombre:""}]},facultad:[{id:"1"}],facultadCompleta:[],flag:0},n.establecerData=n.establecerData.bind(Object(M.a)(n)),n.handleOnOpen=n.handleOnOpen.bind(Object(M.a)(n)),n.handleOnClose=n.handleOnClose.bind(Object(M.a)(n)),n.handleOnOpenEliminar=n.handleOnOpenEliminar.bind(Object(M.a)(n)),n}return Object(w.a)(t,[{key:"establecerData",value:function(e){var a,t=this,n=[],i=0,o=Object(ka.a)(e.facultad?e.facultad:e.facultades);try{var s=function(){var e=a.value;null!==e.ID_PROGRAMA&&(i++,n.push({codigo:i,nombre:e.NOMBRE,boton:r.a.createElement("div",null,r.a.createElement(ye.a,{color:"primary"},r.a.createElement(wa.a,{color:"secondary",fontsize:"large",onClick:function(){return t.handleOnOpen(e)}})),"Administrador"===Q().rol&&r.a.createElement(ye.a,{color:"primary"},r.a.createElement(La.a,{color:"error",fontsize:"large",onClick:function(){return t.handleOnOpenEliminar(e)}})))}))};for(o.s();!(a=o.n()).done;)s()}catch(l){o.e(l)}finally{o.f()}var c={columns:[{title:"Nro",field:"codigo"},{title:"Nombre",field:"nombre"},{title:"Acciones",field:"boton"}],data:n};this.setState({facultades:c})}},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.facultades===a.facultades&&this.props.flag===a.flag&&t.flag===this.state.flag){e.next=11;break}if("Administrador"!==Q().rol){e.next=7;break}return e.next=4,X({servicio:"/api/facultad/"});case 4:n=e.sent,e.next=10;break;case 7:return e.next=9,X({servicio:"/api/facultad/coordinador/"+Q().usuario.ID_USUARIO});case 9:n=e.sent;case 10:n&&this.establecerData(n);case 11:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Administrador"!==Q().rol){e.next=6;break}return e.next=3,X({servicio:"/api/facultad/"});case 3:a=e.sent,e.next=9;break;case 6:return e.next=8,X({servicio:"/api/facultad/coordinador/"+Q().usuario.ID_USUARIO});case 8:a=e.sent;case 9:a&&this.establecerData(a);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleOnClose",value:function(){this.setState({open:!1}),this.setState({open2:!1})}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.open&&r.a.createElement(Pa,{open:this.handleOnOpen,close:this.handleOnClose,facultad:this.state.facultadCompleta,parentCallback:this.callback}),this.state.open2&&r.a.createElement(_a,{open:this.handleOnOpenEliminar,close:this.handleOnClose,id:this.state.facultadCompleta.ID_PROGRAMA,parentCallback:this.callback}),r.a.createElement(y.a,{elevation:0,style:Ha.paper},r.a.createElement(Ta,{facultades:this.state.facultades})))}}]),t}(r.a.Component),Va=function(){var e=Object(n.useState)([]),a=Object(u.a)(e,2),t=(a[0],a[1]),i=Object(n.useState)(0),o=Object(u.a)(i,2),s=o[0],m=o[1],d=Object(n.useState)(0),p=Object(u.a)(d,2),h=p[0],f=p[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,n,r,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Administrador"!==Q().rol){e.next=9;break}return"/api/facultad",a={servicio:"/api/facultad"},e.next=5,X(a);case 5:(n=e.sent)&&t(n.facultades),e.next=15;break;case 9:return r="/api/facultad/coordinador/"+Q().usuario.ID_USUARIO,i={servicio:r},e.next=13,X(i);case 13:(o=e.sent)&&t(o.facultades);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),{});r.a.useCallback((function(){return t({})}),[]);return r.a.createElement("div",null,r.a.createElement(xa,{titulo:"Administrador"===Q().rol?"Facultades":"Facultades asignadas"}),r.a.createElement(R.a,{container:!0,md:12,justify:"flex-end",alignItems:"center",spacing:1},r.a.createElement(R.a,{item:!0,style:{marginRight:"3%",marginTop:"1%"}},"Administrador"===Q().rol&&r.a.createElement(Ra,{flag:h,setFlag:m}))),r.a.createElement(za,{flag:s,setFlag:f}))};var Wa,Ya,Ja=function(e){return r.a.createElement(Na.a,{title:"",columns:e.coordinadores.columns,data:e.coordinadores.data,options:{rowStyle:{backgroundColor:"#FFF"},headerStyle:{backgroundColor:"#3AAFA9",color:"#FFF",fontSize:16}}})},Ka=Object(h.a)((function(e){return{formControl:{margin:e.spacing(1),width:e.spacing(35)},selectEmpty:{marginTop:e.spacing(2)}}})),Qa=function(e){Ka();var a=e.programas,t=e.programa,n=e.setPrograma,i=(e.setProgramas,e.cantProgramas);return r.a.createElement(x.a,{style:{width:230}},r.a.createElement(k.a,{id:i},"Facultad"),r.a.createElement(sa.a,{labelId:"demo-simple-select-label",id:i,value:t,onChange:function(e){n(e.target.value)},fullWidth:!0},a.map((function(e){return r.a.createElement(ca.a,{key:e.ID_PROGRAMA,value:e.ID_PROGRAMA},e.NOMBRE)}))))},Xa=t(106),Za=t.n(Xa),$a=function(e){var a=e.match(/[A-Za-z\xe1\xe9\xed\xf3\xfa\xf10-9 ]+/i),t=e.match(/[0-9]/);return e.length>=100?{error:!0,mesage:"El nombre debe tener menos de 100 caracteres"}:null!==a&&a[0].length!==e.length?{error:!0,mesage:"Nombre inv\xe1lido, contiene caracteres especiales"}:null!==t&&0!==t?{error:!0,mesage:"Nombre inv\xe1lido, debe ser una cadena alfab\xe9tica"}:{error:!1,mesage:""}},et=function(e){var a=e.match(/[0-9 ()+-]+/),t=e.match(/[A-Za-z\xe1\xe9\xed\xf3\xfa\xf1]+/i);return e.length>=45?{error:!0,mesage:"El tel\xe9fono debe tener menos de 45 caracteres"}:null!==a&&a[0].length!==e.length||null!==t&&0!==t?{error:!0,mesage:"Telefono invalido, ingrese de nuevo"}:{error:!1,mesage:""}},at=function(e){var a=e.match(/[A-Za-z\xe1\xe9\xed\xf3\xfa\xf10-9 ()-,.]+/i);return e.length>=100?{error:!0,mesage:"La direcci\xf3n debe tener menos de 100 caracteres"}:null!==a&&a[0].length!==e.length?{error:!0,mesage:"La direcci\xf3n contiene caracteres inv\xe1lidos"}:{error:!1,mesage:""}},tt=function(e){var a=e.match(/[A-Za-z0-9]+/i);return e.length>=12?{error:!0,mesage:"El c\xf3digo debe tener menos de 12 caracteres"}:null!==a&&a[0].length!==e.length?{error:!0,mesage:"C\xf3digo inv\xe1lido, debe ser una cadena alfanum\xe9rica"}:{error:!1,mesage:""}},nt=(t(209),t(89)),rt=t.n(nt),it=t(90),ot=t.n(it),st=(Wa={marginTop:"2%",marginLeft:"4%"},Object(N.a)(Wa,"marginTop","4%"),Object(N.a)(Wa,"flexDirection","row"),Object(N.a)(Wa,"alignItems","center"),Object(N.a)(Wa,"backgroundImage",""),function(e){var a=e.programasSeleccionados,t=(e.setProgramasSeleccionados,e.programa),i=e.setPrograma,o=e.programas,s=e.setProgramas,c=e.cantP,l=Object(n.useState)(0),m=Object(u.a)(l,2),d=m[0],p=m[1],h=function(e){e>=0?e>d?(p((function(a){return e})),""!==t&&a.push(t)):(p((function(a){return e})),a.length>d&&a.splice(-1)):p((function(e){return 0})),c(d)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{container:!0,md:12,spacing:1},r.a.createElement(R.a,{item:!0,md:8},r.a.createElement(Qa,{cantProgramas:d,programas:o,programa:t[0],setPrograma:i,setProgramas:s})),r.a.createElement(R.a,{item:!0,md:4},r.a.createElement(ye.a,{color:"primary",onClick:function(){return h(d+1)}},r.a.createElement(rt.a,{color:"primary",fontsize:"large"})),r.a.createElement(ye.a,{color:"primary",onClick:function(){return h(d-1)}},r.a.createElement(ot.a,{color:"primary",fontsize:"large"}))),d>0?function(e){for(var a=e,n=[],c=0;c<a;c++)n.push(c);return r.a.createElement("div",null,r.a.createElement(R.a,{item:!0,md:8},n.map((function(a){return r.a.createElement(Qa,{cantProgramas:e,programas:o,programa:t[a],setPrograma:i,setProgramas:s})}))))}(d):null))}),ct=Object(h.a)((function(e){return{foto:{backgroundImage:"url(https://pps.whatsapp.net/v/t61.24694-24/97969579_3102912936463371_7208379054937379558_n.jpg?oe=5EC495F5&oh=68e4ca58a0f65f680df95105f6ba41ae)",backgroundSize:"cover",backgroundPosition:"center",padding:e.spacing(2),width:e.spacing(15),height:e.spacing(30)}}})),lt=function(e){e.flag;var a=e.setFlag,t=r.a.useState({CODIGO:"",NOMBRE:"",APELLIDOS:"",CORREO:"",TELEFONO:"",USUARIO:"",CONTRASENHA:"",DIRECCION:"",IMAGEN:null,FACULTAD:[]}),i=Object(u.a)(t,2),o=i[0],s=i[1],m=r.a.useState({idUsuario:0,roles:[6],idPrograma:""}),d=Object(u.a)(m,2),p=d[0],h=d[1],f=Object(n.useState)({usuario:""}),O=Object(u.a)(f,2),g=O[0],b=O[1],v=Object(n.useState)(0),j=Object(u.a)(v,2),S=j[0],A=j[1],C=Object(n.useState)([]),y=Object(u.a)(C,2),x=y[0],k=y[1],N=Object(n.useState)([]),T=Object(u.a)(N,2),U=T[0],w=T[1],M=Object(n.useState)(""),L=Object(u.a)(M,2),P=L[0],F=L[1],G=Object(n.useState)(Aa),_=Object(u.a)(G,2),H=_[0],z=_[1],V=Object(n.useState)({mensajeStrong:"",mensajeStrongError:"por favor revisalos!",mensajeStrongExito:"satisfactoriamente!",mensajeError:"Existen errores al completar el formulario",mensajeExito:"Coordinador registrado",mensaje:""}),W=Object(u.a)(V,2),Y=W[0],J=W[1],K=Object(n.useState)({severidad:"",severW:"warning",severE:"error",severS:"success"}),Q=Object(u.a)(K,2),Z=Q[0],ee=Q[1],ae=Object(n.useState)(""),te=Object(u.a)(ae,2),ne=te[0],re=te[1],ie=Object(n.useState)(""),oe=Object(u.a)(ie,2),ce=oe[0],le=oe[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/institucion"});case 2:(a=e.sent)&&a.institucion&&(re(a.institucion.DOMINIO),le(a.institucion.DOMINIO2));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[ne,ce]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/facultad",a={servicio:"/api/facultad"},e.next=4,X(a);case 4:(t=e.sent)&&w(t.facultad);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),{});ct();var ue=r.a.useState(!1),me=Object(u.a)(ue,2),de=me[0],pe=me[1],he=r.a.useState(!1),fe=Object(u.a)(he,2),Oe=fe[0],ge=fe[1],be=function(){pe(!1),ee({severidad:""}),J({mensaje:""}),a((function(e){return e+1}));k([])},Ee=function(){ge(!1)},ve=function(){var e=Object(l.a)(c.a.mark((function e(a,t,n){var r,i,o,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(H.name.error||H.lastnames.error||H.email.error||H.phoneNumber.error||H.address.error||H.code.error||""===t.NOMBRE||""===t.APELLIDOS||""===t.CORREO||""===t.CODIGO||""===P)){e.next=5;break}ee({severidad:"error"}),J(""===P?{mensaje:"Falta asignar una facultad"}:{mensaje:"Hay errores en el formulario"}),e.next=37;break;case 5:if(S<=x.length&&x.push(P),t.FACULTAD=x,t.CONTRASENHA="contra",n(Object(E.a)({},t)),0!==t.FACULTAD.length){e.next=13;break}return ee({severidad:"error"}),J({mensaje:"Falta asignar una facultad"}),e.abrupt("return");case 13:return r={servicio:"/api/coordinadorfacultad",request:{coordinador:t}},e.next=16,$(r);case 16:if(!(i=e.sent).error){e.next=36;break}return ee({severidad:"error"}),J({mensaje:i.error}),ge(!0),o={servicio:"/api/usuario/buscar/"+t.CODIGO},e.next=24,X(o);case 24:if(!e.sent){e.next=34;break}return s={servicio:"Correo repetido"===i.error?"/api/usuario/"+t.CORREO:"/api/usuario/buscar/"+t.CODIGO},e.next=29,X(s);case 29:if(!(l=e.sent).usuario){e.next=34;break}return h(Object(E.a)(Object(E.a)({},p),{},{idUsuario:l.usuario.ID_USUARIO})),e.next=34,b(Object(E.a)(Object(E.a)({},g),{},{usuario:l.usuario.NOMBRE+" "+l.usuario.APELLIDOS}));case 34:e.next=37;break;case 36:i&&(ee({severidad:Z.severS}),J({mensaje:"Se registr\xf3 al coordinador satisfactoriamente"}));case 37:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),je=function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n,r,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(ka.a)(o.FACULTAD),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=12;break}return r=n.value,i={asignacion:{ID_USUARIO:p.idUsuario,ID_ROLES:[6],ID_PROGRAMA:r}},s={servicio:"/api/usuario/asignarrol",request:i},e.next=9,$(s);case 9:e.sent;case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:ge(!1);case 21:case"end":return e.stop()}}),e,null,[[1,14,17,20]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:function(){pe(!0)}},"Registrar"),r.a.createElement(Oa.a,{open:de,onClose:be,"aria-labelledby":"form-dialog-title"},r.a.createElement(se,{severity:Z.severidad,titulo:"Observacion:",alerta:Y}),r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,justify:"space-between",direction:"row"},r.a.createElement(R.a,{item:!0,md:11},r.a.createElement(I.a,{variant:"h5"},"Formulario de registro de coordinador")),r.a.createElement(R.a,{item:!0,md:1},r.a.createElement(Sa.a,{onClick:be})))),r.a.createElement(ba.a,null,r.a.createElement(R.a,{container:!0,md:12,spacing:2},r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(B.a,{required:!0,error:H.code.error,margin:"dense",id:"CODIGO",label:"Codigo",onChange:function(e){return function(e,a,t,n,r){t(Object(E.a)(Object(E.a)({},a),{},{CODIGO:e.target.value}));var i=tt(e.target.value);r(Object(E.a)(Object(E.a)({},n),{},{code:i}))}(e,o,s,H,z)},helperText:H.code.mesage,fullWidth:!0}),r.a.createElement(B.a,{required:!0,error:H.name.error,margin:"dense",id:"NOMBRE",label:"Nombre",onChange:function(e){return function(e,a,t,n,r){t(Object(E.a)(Object(E.a)({},a),{},{NOMBRE:e.target.value}));var i=Ca(e.target.value);r(Object(E.a)(Object(E.a)({},n),{},{name:i}))}(e,o,s,H,z)},helperText:H.name.mesage,fullWidth:!0}),r.a.createElement(B.a,{required:!0,error:H.lastnames.error,margin:"dense",id:"APELLIDOS",label:"Apellidos",onChange:function(e){return function(e,a,t,n,r){t(Object(E.a)(Object(E.a)({},a),{},{APELLIDOS:e.target.value}));var i=$a(e.target.value);r(Object(E.a)(Object(E.a)({},n),{},{lastnames:i}))}(e,o,s,H,z)},helperText:H.lastnames.mesage,fullWidth:!0}),r.a.createElement(B.a,{required:!0,error:H.email.error,margin:"dense",id:"CORREO",label:"Correo electr\xf3nico",type:"email",onChange:function(e){return function(e,a,t,n,r,i,o){t(Object(E.a)(Object(E.a)({},a),{},{CORREO:e.target.value}));var s=q(e.target.value,i,o);r(Object(E.a)(Object(E.a)({},n),{},{email:s}))}(e,o,s,H,z,ne,ce)},fullWidth:!0}),r.a.createElement(B.a,{error:H.phoneNumber.error,margin:"dense",id:"TELEFONO",label:"Tel\xe9fono",onChange:function(e){return function(e,a,t,n,r){t(Object(E.a)(Object(E.a)({},a),{},{TELEFONO:e.target.value}));var i=et(e.target.value);r(Object(E.a)(Object(E.a)({},n),{},{phoneNumber:i}))}(e,o,s,H,z)},fullWidth:!0}),r.a.createElement(st,{programasSeleccionados:x,setProgramasSeleccionados:k,programa:P,setPrograma:F,programas:U,setProgramas:w,cantP:function(e){A(e)}})))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"outlined",onClick:be,color:"primary"},"Cancelar"),r.a.createElement(D.a,{variant:"contained",onClick:function(e){return ve(e,o,s)},color:"primary"},"Crear"))),Oe&&r.a.createElement(Oa.a,{open:Oe,onClose:Ee,"aria-labelledby":"nuevorol"},r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,justify:"center"},r.a.createElement(Za.a,{style:{fontSize:70,fill:"orange"}}))),r.a.createElement(ba.a,null,r.a.createElement(R.a,{container:!0,md:12,spacing:2},"El usuario ",g.usuario," ya cuenta con ese c\xf3digo \xbfDesea asignarle el rol de coordinador de Facultad?")),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"outlined",onClick:Ee,color:"primary"},"Cancelar"),r.a.createElement(D.a,{variant:"contained",onClick:function(e){return je(e)},color:"primary"},"Asignar"))))},ut=Object(h.a)((function(e){return{formControl:{margin:e.spacing(1),width:e.spacing(35)},selectEmpty:{marginTop:e.spacing(2)}}})),mt=function(e){ut(),e.nombre;var a=e.programas,t=e.programa,n=e.setPrograma,i=(e.setProgramas,e.cantProgramas);return r.a.createElement(x.a,{style:{width:230}},r.a.createElement(k.a,{id:i},e.nombre),r.a.createElement(sa.a,{disabled:void 0!==e.nombre,helperText:"Facultad",id:i,value:t,onChange:function(e){n(e.target.value)},fullWidth:!0},a.map((function(e){return r.a.createElement(ca.a,{key:e.ID_PROGRAMA,value:e.ID_PROGRAMA},e.NOMBRE)}))))},dt=(Object(h.a)((function(e){return{foto:{backgroundImage:"url(https://pps.whatsapp.net/v/t61.24694-24/97969579_3102912936463371_7208379054937379558_n.jpg?oe=5EC495F5&oh=68e4ca58a0f65f680df95105f6ba41ae)",backgroundSize:"cover",backgroundPosition:"center",padding:e.spacing(2),width:e.spacing(15),height:e.spacing(30)}}})),function(e){var a=e.open,t=e.close,i=(e.codigo,e.parentCallback),o=r.a.useState({ID:"",CODIGO:"",NOMBRE:"",APELLIDOS:"",CORREO:"",TELEFONO:"",USUARIO:"",DIRECCION:"",IMAGEN:null,FACULTAD:[]}),s=Object(u.a)(o,2),m=s[0],d=s[1],p=Object(n.useState)(0),h=Object(u.a)(p,2),f=h[0],O=h[1],g=Object(n.useState)(""),b=Object(u.a)(g,2),v=b[0],j=b[1],S=Object(n.useState)(""),A=Object(u.a)(S,2),C=A[0],I=A[1],y=Object(n.useState)([]),x=Object(u.a)(y,2),k=x[0],N=(x[1],Object(n.useState)([])),T=Object(u.a)(N,2),U=T[0],w=(T[1],Object(n.useState)([])),M=Object(u.a)(w,2),L=M[0],P=(M[1],Object(n.useState)([])),F=Object(u.a)(P,2),G=F[0],_=F[1],H=Object(n.useState)(""),z=Object(u.a)(H,2),V=z[0],W=z[1],Y=Object(n.useState)(Aa),J=Object(u.a)(Y,2),K=J[0],Z=J[1],ee=Object(n.useState)({mensajeStrong:"",mensajeStrongError:"por favor revisalos!",mensajeStrongExito:"satisfactoriamente!",mensajeError:"Existen errores al completar el formulario",mensajeExito:"Coordinador registrado",mensaje:""}),ae=Object(u.a)(ee,2),te=ae[0],ne=ae[1],re=Object(n.useState)({severidad:"",severW:"warning",severE:"error",severS:"success"}),ie=Object(u.a)(re,2),oe=ie[0],ce=ie[1],le=Object(n.useState)(0),ue=Object(u.a)(le,2),me=ue[0],de=ue[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/institucion"});case 2:(a=e.sent)&&a.institucion&&(j(a.institucion.DOMINIO),I(a.institucion.DOMINIO2));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[v,C]);var pe=function(e){e>0?e>me?(de((function(a){return e})),""!==V&&k.push(V)):(de((function(a){return e})),k.length>=me&&k.splice(-1)):de((function(e){return 0}))};Object(n.useEffect)((function(){function a(){return(a=Object(l.a)(c.a.mark((function a(){var t,n,r,i,o,s,l;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t="/api/coordinador/"+e.id,n={servicio:t},a.next=4,X(n);case 4:if(r=a.sent){m.ID=r.coordinador.ID_USUARIO,m.USUARIO=r.coordinador.USUARIO,m.NOMBRE=r.coordinador.NOMBRE,m.APELLIDOS=r.coordinador.APELLIDOS,m.CORREO=r.coordinador.CORREO,m.CODIGO=r.coordinador.CODIGO,m.TELEFONO=r.coordinador.TELEFONO,m.DIRECCION=r.coordinador.DIRECCION,i=r.coordinador.PROGRAMAs.length,de(i),[],o=Object(ka.a)(r.coordinador.PROGRAMAs);try{for(o.s();!(s=o.n()).done;)l=s.value,("Administrador"===Q().rol&&6===l.ROL_X_USUARIO_X_PROGRAMA.ID_ROL||"Coordinador Facultad"===Q().rol)&&(k.push(l.ID_PROGRAMA),U.push(l.NOMBRE))}catch(c){o.e(c)}finally{o.f()}}d(Object(E.a)({},m));case 7:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}),{}),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Administrador"!==Q().rol){e.next=9;break}return"/api/facultad",a={servicio:"/api/facultad"},e.next=5,X(a);case 5:(t=e.sent)&&_(t.facultad),e.next=15;break;case 9:return n="/api/facultad/coordinador/"+Q().usuario.ID_USUARIO,r={servicio:n},e.next=13,X(r);case 13:(i=e.sent)&&_(i.facultades);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),{});var he=function(){var e=Object(l.a)(c.a.mark((function e(a,t,n){var r,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(K.name.error||K.lastnames.error||K.email.error||K.phoneNumber.error||K.address.error||K.code.error||""===t.NOMBRE||""===t.APELLIDOS||""===t.CORREO||""===t.CODIGO)){e.next=5;break}ce({severidad:"error"}),ne({mensaje:"Hay errores en el formulario"}),e.next=16;break;case 5:return k.length<me&&k.push(V),t.FACULTAD=k,n(Object(E.a)({},t)),r={servicio:"/api/coordinadorfacultad/modificar",request:{coordinador:t}},e.next=11,$(r);case 11:(o=e.sent).error?(ce({severidad:"error"}),ne({mensaje:o.error})):o&&(ce({severidad:oe.severS}),ne({mensaje:"Se modificaron los datos del coordinador satisfactoriamente"})),O(s=f+1),i(s);case 16:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(Oa.a,{open:a,onClose:t,"aria-labelledby":"form-dialog-title"},r.a.createElement(se,{severity:oe.severidad,titulo:"Observacion:",alerta:te}),r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12},r.a.createElement(R.a,{item:!0,md:11},"Formulario de registro de coordinador"),r.a.createElement(R.a,{item:!0,md:1,alignItems:"flex-end"},r.a.createElement(Sa.a,{onClick:t})))),r.a.createElement(ba.a,null,r.a.createElement(R.a,{container:!0,md:12,spacing:2},r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(B.a,{required:!0,error:K.code.error,margin:"dense",id:"CODIGO",label:"Codigo",value:m.CODIGO,onChange:function(e){return function(e,a,t,n,r){t(Object(E.a)(Object(E.a)({},a),{},{CODIGO:e.target.value}));var i=tt(e.target.value);r(Object(E.a)(Object(E.a)({},n),{},{code:i}))}(e,m,d,K,Z)},helperText:K.code.mesage,fullWidth:!0}),r.a.createElement(B.a,{required:!0,error:K.name.error,margin:"dense",id:"NOMBRE",label:"Nombre",value:m.NOMBRE,onChange:function(e){return function(e,a,t,n,r){t(Object(E.a)(Object(E.a)({},a),{},{NOMBRE:e.target.value}));var i=Ca(e.target.value);r(Object(E.a)(Object(E.a)({},n),{},{name:i}))}(e,m,d,K,Z)},helperText:K.name.mesage,fullWidth:!0}),r.a.createElement(B.a,{required:!0,error:K.lastnames.error,margin:"dense",id:"APELLIDOS",label:"Apellidos",value:m.APELLIDOS,onChange:function(e){return function(e,a,t,n,r){t(Object(E.a)(Object(E.a)({},a),{},{APELLIDOS:e.target.value}));var i=$a(e.target.value);r(Object(E.a)(Object(E.a)({},n),{},{lastnames:i}))}(e,m,d,K,Z)},helperText:K.lastnames.mesage,fullWidth:!0}),r.a.createElement(B.a,{required:!0,error:K.email.error,margin:"dense",id:"CORREO",label:"Correo electr\xf3nico",type:"email",value:m.CORREO,onChange:function(e){return function(e,a,t,n,r,i,o){t(Object(E.a)(Object(E.a)({},a),{},{CORREO:e.target.value}));var s=q(e.target.value,i,o);console.log("resemail",s),r(Object(E.a)(Object(E.a)({},n),{},{email:s}))}(e,m,d,K,Z,v,C)},fullWidth:!0}),r.a.createElement(B.a,{error:K.phoneNumber.error,margin:"dense",id:"TELEFONO",label:"Tel\xe9fono",value:m.TELEFONO,onChange:function(e){return function(e,a,t,n,r){t(Object(E.a)(Object(E.a)({},a),{},{TELEFONO:e.target.value}));var i=et(e.target.value);r(Object(E.a)(Object(E.a)({},n),{},{phoneNumber:i}))}(e,m,d,K,Z)},fullWidth:!0}),r.a.createElement(R.a,{container:!0,md:12,spacing:1},r.a.createElement(R.a,{item:!0,md:8},me>0?function(e){for(var a=e,t=[],n=0;n<a;n++)t.push(n);return r.a.createElement("div",null,r.a.createElement(R.a,{item:!0,md:8},t.map((function(a){return r.a.createElement(mt,{cantProgramas:e,programas:G,programa:L[a],setPrograma:W,setProgramas:_,nombre:U[a]})}))))}(me):null),r.a.createElement(R.a,{item:!0,md:4},r.a.createElement(ye.a,{color:"primary",onClick:function(){return pe(me+1)}},r.a.createElement(rt.a,{color:"primary",fontsize:"large"})),r.a.createElement(ye.a,{color:"primary",onClick:function(){return pe(me-1)}},r.a.createElement(ot.a,{color:"primary",fontsize:"large"}))))))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"outlined",onClick:t,color:"inherit"},"Cancelar"),r.a.createElement(D.a,{variant:"contained",onClick:function(e){return he(e,m,d)},color:"primary"},"Modificar"))))}),pt=function(e){var a=e.open,t=e.close,i=e.id,o=e.parentCallback,s=Object(n.useState)(!1),m=Object(u.a)(s,2),d=m[0],p=m[1],h=Object(n.useState)(0),f=Object(u.a)(h,2),O=f[0],g=f[1],b=Object(n.useState)({mensajeStrong:"",mensajeStrongError:"por favor revisalos!",mensajeStrongExito:"satisfactoriamente!",mensajeError:"Existen errores al completar el formulario",mensajeExito:"Coordinador registrado",mensaje:""}),E=Object(u.a)(b,2),v=(E[0],E[1],Object(n.useState)({severidad:"",severW:"warning",severE:"error",severS:"success"})),j=Object(u.a)(v,2),S=(j[0],j[1],function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Administrador"===Q().rol?"/api/coordinadorfacultad/eliminar/"+i:"/api/coordinador/eliminar/"+i,n={servicio:t,request:{}},e.next=4,$(n);case 4:"success"!==e.sent.status?p(!1):p(!0),g(r=O+1),o(r);case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());return r.a.createElement("div",null,r.a.createElement(Oa.a,{open:a,onClose:t,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,justify:"center"},!d&&r.a.createElement(qa.a,{color:"error",style:{fontSize:70}}),d&&r.a.createElement(Ba.a,{color:"primary",style:{fontSize:70}}))),r.a.createElement(ba.a,null,r.a.createElement(R.a,{container:!0,md:12,justify:"center"},!d&&r.a.createElement(I.a,{variant:"h6"},"\xbfEst\xe1 seguro de eliminar al coordinador?"),d&&r.a.createElement(I.a,{variant:"h6"},"El coordinador se elimin\xf3 satisfactoriamente"))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"outlined",onClick:t,color:"inherit"},"Cancelar"),r.a.createElement(D.a,{variant:"contained",onClick:d?t:function(e){return S(e)},color:"primary"},!d&&"Eliminar",d&&"Aceptar"))))},ht={paper:{marginTop:"3%",marginLeft:"3%",marginRight:"3%",marginBottom:"3%",display:"flex",flexDirection:"column",alignItems:"left",backgroundImage:""}},ft=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(U.a)(this,t),(n=a.call(this)).handleOnOpen=function(e){n.setState({open:!0}),n.state.idCoord=e},n.handleOnOpenEliminar=function(e){n.setState({open2:!0}),n.state.idCoord=e},n.callback=function(e){var a=n.state.flag+1;n.setState({flag:a})},n.state={coordinadores:{columns:[{title:"Nombre",field:"nombre"}],data:[{nombre:""}]},open:!1,idCoord:"",flag:0},n.establecerData=n.establecerData.bind(Object(M.a)(n)),n.handleOnOpen=n.handleOnOpen.bind(Object(M.a)(n)),n.handleOnOpenEliminar=n.handleOnOpenEliminar.bind(Object(M.a)(n)),n.handleOnClose=n.handleOnClose.bind(Object(M.a)(n)),n}return Object(w.a)(t,[{key:"establecerData",value:function(e){var a,t=this,n=[],i=Object(ka.a)(e.coordinadores);try{var o=function(){var e=a.value;n.push({codigo:e.CODIGO,nombre:e.NOMBRE+" "+e.APELLIDOS,correo:e.CORREO,boton:r.a.createElement("div",null,r.a.createElement(ye.a,{color:"primary"},r.a.createElement(wa.a,{color:"secondary",fontsize:"large",onClick:function(){return t.handleOnOpen(e.ID_USUARIO)}})),r.a.createElement(ye.a,{color:"primary"},r.a.createElement(La.a,{color:"error",fontsize:"large",onClick:function(){return t.handleOnOpenEliminar(e.ID_USUARIO)}})))})};for(i.s();!(a=i.n()).done;)o()}catch(c){i.e(c)}finally{i.f()}var s={columns:[{title:"C\xf3digo",field:"codigo"},{title:"Nombre",field:"nombre"},{title:"Correo Electr\xf3nico",field:"correo"},{title:"",field:"boton"}],data:n};this.setState({coordinadores:s})}},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.coordinadores===a.coordinadores&&this.props.flag===a.flag&&t.flag===this.state.flag){e.next=5;break}return e.next=3,X({servicio:"/api/coordinador/"});case 3:(n=e.sent)&&this.establecerData(n);case 5:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/coordinador/"});case 2:(a=e.sent)&&this.establecerData(a);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleOnClose",value:function(){this.setState({open:!1}),this.setState({open2:!1})}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.open&&r.a.createElement(dt,{open:this.handleOnOpen,close:this.handleOnClose,id:this.state.idCoord,parentCallback:this.callback}),this.state.open2&&r.a.createElement(pt,{open:this.handleOnOpenEliminar,close:this.handleOnClose,id:this.state.idCoord,parentCallback:this.callback}),r.a.createElement(y.a,{elevation:0,style:ht.paper},r.a.createElement(Ja,{coordinadores:this.state.coordinadores})))}}]),t}(r.a.Component),Ot=function(){var e=Object(n.useState)([]),a=Object(u.a)(e,2),t=a[0],i=a[1],o=Object(n.useState)(0),s=Object(u.a)(o,2),m=s[0],d=s[1],p=Object(n.useState)(0),h=Object(u.a)(p,2),f=h[0],O=h[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/coordinador",a={servicio:"/api/coordinador"},e.next=4,X(a);case 4:(t=e.sent)&&i(t.coordinadores);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),{});r.a.useCallback((function(){return i({})}),[]);return r.a.createElement("div",null,r.a.createElement(xa,{titulo:"Coordinadores de facultad"}),r.a.createElement(R.a,{container:!0,md:12,justify:"flex-end",alignItems:"center",spacing:1},r.a.createElement(R.a,{item:!0,style:{marginRight:"3%",marginTop:"1%"}},r.a.createElement(lt,{flag:f,setFlag:d}))),r.a.createElement(ft,{coordinadores:t,flag:m,setFlag:O}))},gt=(t(1023),{paper:{marginTop:"4%",marginLeft:"4%",marginRight:"4%",marginBottom:"5%",flexDirection:"row",alignItems:"center",backgroundImage:""},paperitem:{marginTop:"2%",marginLeft:"4%"},foto:(Ya={marginTop:"2%",marginLeft:"4%"},Object(N.a)(Ya,"marginTop","4%"),Object(N.a)(Ya,"flexDirection","row"),Object(N.a)(Ya,"alignItems","center"),Object(N.a)(Ya,"backgroundImage",""),Ya)}),bt=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(U.a)(this,t),(n=a.call(this,e)).handleOnChangeNombre=function(e){n.state.institucion.NOMBRE=e.target.value,n.setState(n.state.institucion)},n.handleOnChangeInicial=function(e){n.state.institucion.INICIALES=e.target.value,n.setState(n.state.institucion)},n.handleOnChangeDominio=function(e){n.state.institucion.DOMINIO=e.target.value,n.setState(n.state.institucion)},n.handleOnChangeDominio2=function(e){n.state.institucion.DOMINIO2=e.target.value,n.setState(n.state.institucion)},n.handleOnChangeTelefono=function(e){n.state.institucion.TELEFONO=e.target.value,n.setState(n.state.institucion)},n.handleOnChangeUbicacion=function(e){n.state.institucion.UBICACION=e.target.value,n.setState(n.state.institucion)},n.handleOnChangePagina=function(e){n.state.institucion.PAGINA_WEB=e.target.value,n.setState(n.state.institucion)},n.handleOnChangeImg=function(e){var a=e.target.files[0].name.slice(-3),t=Object.assign({},n.state.alert);if(t.mensaje="",t.mensajeStrong="",n.setState({alert:t}),n.setState({severidad:""}),"jpg"===a)a="jpeg";else if("png"===a)a="png";else{var r=Object.assign({},n.state.alert);r.mensaje="El logo debe tener extensi\xf3n .jpg o .png",r.mensajeStrong=r.mensajeStrongError,n.setState({alert:r}),n.setState({severidad:"error"}),n.state.alert.mensaje=n.state.alert.mensajeError}var i=new FileReader;i.readAsDataURL(e.target.files[0]),i.onload=function(e){e.target.result.slice(23);console.warn("img data",e.target.result);var t,r=Object.assign({},n.state.institucion);"jpeg"===a?(r.EXTENSION="jpeg",t=e.target.result.slice(23)):(r.EXTENSION="png",t=e.target.result.slice(22)),r.IMAGEN=t,n.setState({institucion:r})}},n.handleHabilitar=function(e){n.setState({deshabilitar:!1})},n.state={institucion:{ID:"1",NOMBRE:e.institucion.NOMBRE,INICIALES:e.institucion.INICIALES,IMAGEN:e.institucion.IMAGEN,TELEFONO:e.institucion.TELEFONO,PAGINA_WEB:e.institucion.PAGINA_WEB,DOMINIO:e.institucion.DOMINIO,UBICACION:e.institucion.UBICACION,EXTENSION:e.institucion.EXTENSION},deshabilitar:!0,alert:{mensajeStrong:"",mensajeStrongError:"Por favor rev\xedsalos",mensajeStrongExito:"Satisfactoriamente",mensajeError:"Existen errores al completar el formulario",mensajeExito:"Se modificaron los datos de la instituci\xf3n",mensaje:""},severidad:"warning"},n.handleOnClick=n.handleOnClick.bind(Object(M.a)(n)),n.handleOnChangeNombre=n.handleOnChangeNombre.bind(Object(M.a)(n)),n.handleOnChangeInicial=n.handleOnChangeInicial.bind(Object(M.a)(n)),n.handleOnChangeDominio=n.handleOnChangeDominio.bind(Object(M.a)(n)),n.handleOnChangeTelefono=n.handleOnChangeTelefono.bind(Object(M.a)(n)),n.handleOnChangeUbicacion=n.handleOnChangeUbicacion.bind(Object(M.a)(n)),n.handleOnChangePagina=n.handleOnChangePagina.bind(Object(M.a)(n)),n.handleOnChangeImg=n.handleOnChangeImg.bind(Object(M.a)(n)),n.handleHabilitar=n.handleHabilitar.bind(Object(M.a)(n)),n.handleOnClickCancelar=n.handleOnClickCancelar.bind(Object(M.a)(n)),n}return Object(w.a)(t,[{key:"handleOnClick",value:function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n,r,i,o,s,l,u,m,d,p,h,f,O;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),t=this.state.institucion,n=t.NOMBRE,r=t.INICIALES,i=t.IMAGEN,o=t.DOMINIO,s=t.DOMINIO2,l=t.TELEFONO,u=t.UBICACION,m=t.PAGINA_WEB,d=t.EXTENSION,p={institucion:{ID:"1",NOMBRE:n,INICIALES:r,IMAGEN:i,TELEFONO:l,PAGINA_WEB:m,UBICACION:u,DOMINIO:o,DOMINIO2:s,EXTENSION:d}},""!==this.state.institucion.NOMBRE&&""!==this.state.institucion.INICIALES&&""!==this.state.institucion.DOMINIO){e.next=12;break}(h=Object.assign({},this.state.alert)).mensaje=h.mensajeError,h.mensajeStrong=h.mensajeStrongError,this.setState({alert:h}),this.setState({severidad:"error"}),this.state.alert.mensaje=this.state.alert.mensajeError,e.next=17;break;case 12:return f={servicio:"/api/institucion/modificar",request:p},e.next=15,$(f);case 15:e.sent&&((O=Object.assign({},this.state.alert)).mensaje=O.mensajeExito,O.mensajeStrong=O.mensajeStrongExito,this.setState({alert:O}),this.setState({severidad:"success"}),this.state.alert.mensaje=this.state.alert.mensajeExito,this.setState({deshabilitar:!0}),window.location.replace("/administrador/institucion"));case 17:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/institucion"});case 2:(a=e.sent)&&this.setState({institucion:a.institucion});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleOnClickCancelar",value:function(){this.setState({deshabilitar:!0})}},{key:"render",value:function(){var e,a,t,n,i,o,s,c,l;return r.a.createElement("div",null,r.a.createElement(y.a,{elevation:2,style:gt.paper},r.a.createElement(se,{severity:this.state.severidad,titulo:"Observaci\xf3n:",alerta:this.state.alert}),r.a.createElement(R.a,{container:!0,spacing:3,md:12,justify:"center"},r.a.createElement(R.a,{item:!0,md:10,justify:"flex-start"},r.a.createElement(y.a,{elevation:0,style:gt.paperitem},r.a.createElement(I.a,{variant:"h5"},"Datos Generales"))),r.a.createElement(R.a,{item:!0,md:2,justify:"flex-end"},r.a.createElement(D.a,{variant:"outlined",color:"primary",onClick:this.handleHabilitar},"Editar")),r.a.createElement(R.a,{item:!0,md:4},r.a.createElement("div",null,r.a.createElement("img",{style:Et.imagen,src:"data:image/"+(null===(e=this.state.institucion)||void 0===e?void 0:e.EXTENSION)+";base64,"+(null===(a=this.state.institucion)||void 0===a?void 0:a.IMAGEN)})),r.a.createElement("div",null,r.a.createElement(D.a,{disabled:this.state.deshabilitar,variant:"outlined",component:"label",color:"primary"},"Importar",r.a.createElement("input",{type:"file",onChange:this.handleOnChangeImg,style:{display:"none"}})))),r.a.createElement(R.a,{item:!0,md:6},r.a.createElement(B.a,{required:!0,disabled:this.state.deshabilitar,margin:"dense",id:"NOMBRE",label:"Nombre",value:null===(t=this.state.institucion)||void 0===t?void 0:t.NOMBRE,onChange:this.handleOnChangeNombre,fullWidth:!0,InputLabelProps:{shrink:!0}}),r.a.createElement(B.a,{required:!0,disabled:this.state.deshabilitar,margin:"dense",id:"iniciales",label:"Iniciales",value:null===(n=this.state.institucion)||void 0===n?void 0:n.INICIALES,onChange:this.handleOnChangeInicial,fullWidth:!0,InputLabelProps:{shrink:!0}}),r.a.createElement(B.a,{required:!0,disabled:this.state.deshabilitar,margin:"dense",id:"DOMINIO",label:"Dominio",value:null===(i=this.state.institucion)||void 0===i?void 0:i.DOMINIO,onChange:this.handleOnChangeDominio,fullWidth:!0,InputLabelProps:{shrink:!0}}),r.a.createElement(B.a,{disabled:this.state.deshabilitar,margin:"dense",id:"DOMINIO",label:"Dominio Opcional",value:null===(o=this.state.institucion)||void 0===o?void 0:o.DOMINIO2,onChange:this.handleOnChangeDominio2,fullWidth:!0,InputLabelProps:{shrink:!0}}),r.a.createElement(B.a,{disabled:this.state.deshabilitar,margin:"dense",id:"telefono",label:"Tel\xe9fono",value:null===(s=this.state.institucion)||void 0===s?void 0:s.TELEFONO,onChange:this.handleOnChangeTelefono,fullWidth:!0,InputLabelProps:{shrink:!0}}),r.a.createElement(B.a,{disabled:this.state.deshabilitar,margin:"dense",id:"ubicacion",label:"Ubicaci\xf3n",value:null===(c=this.state.institucion)||void 0===c?void 0:c.UBICACION,onChange:this.handleOnChangeUbicacion,fullWidth:!0,InputLabelProps:{shrink:!0}}),r.a.createElement(B.a,{disabled:this.state.deshabilitar,margin:"dense",id:"sitioweb",label:"Sitio Web",value:null===(l=this.state.institucion)||void 0===l?void 0:l.PAGINA_WEB,onChange:this.handleOnChangePagina,fullWidth:!0,InputLabelProps:{shrink:!0}}),r.a.createElement(R.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(R.a,{item:!0},r.a.createElement(D.a,{disabled:this.state.deshabilitar,variant:"contained",color:"primary",onClick:this.handleOnClick},"Guardar")),r.a.createElement(R.a,{item:!0},r.a.createElement(D.a,{disabled:this.state.deshabilitar,variant:"outlined",color:"primary",onClick:this.handleOnClickCancelar},"Cancelar")))))))}}]),t}(r.a.Component),Et={imagen:{width:"70%",borderRadius:"0%"}},vt=Object(re.a)(d.f)((function(e){var a=Object(n.useState)({institucion:{ID_INSTITUCION:"1",NOMBRE:"",INICIALES:"",IMAGEN:"",TELEFONO:"",PAGINA_WEB:"",DOMINIO:"",UBICACION:"",EXTENSION:"png"}}),t=Object(u.a)(a,2),i=t[0];t[1];return Object(n.useEffect)((function(){}),[]),r.a.createElement("div",null,r.a.createElement(xa,{titulo:"Configuraci\xf3n de la Instituci\xf3n"}),r.a.createElement(bt,{institucion:i}))})),jt=function(e){var a=e.open,t=e.close,i=e.id,o=e.parentCallback,s=Object(n.useState)(0),m=Object(u.a)(s,2),d=m[0],p=m[1],h=Object(n.useState)(!1),f=Object(u.a)(h,2),O=f[0],g=f[1],b=Object(n.useState)({mensaje:"\xbfEst\xe1 seguro de eliminar la Unidad de Apoyo?"}),E=Object(u.a)(b,2),v=E[0],j=E[1],S=function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={servicio:"/api/areaapoyo/eliminar/"+i,request:{}},e.next=4,$(t);case 4:return n=e.sent,console.log("got updated coord from back:",n),n&&("registro eliminado"!==n.resultado?(g(!1),j({mensaje:"Ocurri\xf3 un error, intente de nuevo"})):(g(!0),j({mensaje:""}))),p(r=d+1),e.next=11,o(r);case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(Oa.a,{open:a,onClose:t,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,justify:"center"},!O&&r.a.createElement(qa.a,{color:"error",style:{fontSize:70}}),O&&r.a.createElement(Ba.a,{color:"primary",style:{fontSize:70}}))),r.a.createElement(ba.a,null,r.a.createElement(R.a,{container:!0,md:12,justify:"center"},!O&&r.a.createElement(I.a,{variant:"subtitle1"},v.mensaje),O&&r.a.createElement(I.a,{variant:"subtitle1"},"La Unidad de Apoyo se elimin\xf3 satisfactoriamente"))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"outlined",onClick:t,color:"inherit"},"Cancelar"),r.a.createElement(D.a,{variant:"contained",onClick:O?t:function(e){return S(e)},color:"primary"},!O&&"Eliminar",O&&"Aceptar"))))},St=Object(h.a)((function(e){return{foto:{backgroundImage:"url(https://pps.whatsapp.net/v/t61.24694-24/97969579_3102912936463371_7208379054937379558_n.jpg?oe=5EC495F5&oh=68e4ca58a0f65f680df95105f6ba41ae)",backgroundSize:"cover",backgroundPosition:"center",alignItems:"center",padding:e.spacing(5),width:e.spacing(15),height:e.spacing(15)}}})),At=function(e){var a=e.open,t=e.close,i=e.unidad,o=e.parentCallback,s=Object(n.useState)(0),m=Object(u.a)(s,2),d=m[0],p=m[1],h=r.a.useState({ID_AREA_APOYO:i.ID_AREA_APOYO,NOMBRE:i.NOMBRE,TELEFONO:i.TELEFONO,CORREO:i.CORREO,CONTACTO:i.CONTACTO}),f=Object(u.a)(h,2),O=f[0],g=f[1],b=Object(n.useState)(Aa),v=Object(u.a)(b,2),j=v[0],S=v[1],A=(St(),Object(n.useState)({mensajeStrong:"",mensajeStrongError:"por favor revisalos!",mensajeStrongExito:"satisfactoriamente!",mensajeError:"Existen errores al completar el formulario",mensajeExito:"Programa registrado",mensaje:""})),C=Object(u.a)(A,2),I=C[0],y=C[1],x=Object(n.useState)({severidad:"",severW:"warning",severE:"error",severS:"success"}),k=Object(u.a)(x,2),N=k[0],T=k[1],U=Object(n.useState)(""),w=Object(u.a)(U,2),M=w[0],L=w[1],P=Object(n.useState)(""),F=Object(u.a)(P,2),G=F[0],_=F[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/institucion"});case 2:(a=e.sent)&&a.institucion&&(L(a.institucion.DOMINIO),_(a.institucion.DOMINIO2));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[M,G]);var H=function(){var e=Object(l.a)(c.a.mark((function e(a,t,n){var r,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.NOMBRE&&""!==t.CORREO&&""!==t.TELEFONO&&""!==t.CONTACTO){e.next=4;break}return T({severidad:"error"}),y({mensaje:"Todos los datos son obligatorios."}),e.abrupt("return");case 4:if(!j.name.error){e.next=8;break}return T({severidad:"error"}),y({mensaje:j.name.mesage}),e.abrupt("return");case 8:if(!j.telefono.error){e.next=12;break}return T({severidad:"error"}),y({mensaje:j.telefono.message}),e.abrupt("return");case 12:if(!j.email.error){e.next=16;break}return T({severidad:"error"}),y({mensaje:j.email.mesage}),e.abrupt("return");case 16:if(!j.contacto.error){e.next=20;break}return T({severidad:"error"}),y({mensaje:j.name.message}),e.abrupt("return");case 20:return n(Object(E.a)({},t)),console.log(t),r={servicio:"/api/areaapoyo/modificar",request:{areaApoyo:t}},console.log("saving new prog in DB:",t),e.next=26,$(r);case 26:i=e.sent,console.log("got updated prog from back:",i),i&&(null!==i.areaApoyo?(T({severidad:"success"}),y({mensaje:"Unidad de Apoyo modificada satisfactoriamente"}),p(s=d+1),o(s)):(T({severidad:"error"}),y({mensaje:"La unidad ya existe"})));case 29:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(Oa.a,{open:a,onClose:t,"aria-labelledby":"form-dialog-title"},r.a.createElement(se,{severity:N.severidad,titulo:"Observacion:",alerta:I}),r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,justify:"space-between",direction:"row"},r.a.createElement(R.a,{item:!0,md:11},"Modificar Unidad de Apoyo"),r.a.createElement(R.a,{item:!0,md:1,alignContent:"flex-end"},r.a.createElement(Sa.a,{onClick:t})))),r.a.createElement(ba.a,null,r.a.createElement(R.a,{container:!0,spacing:2},r.a.createElement(R.a,{item:!0,md:12,container:!0,style:{marginRight:"1%",marginLeft:"1%"}},r.a.createElement(B.a,{required:!0,error:j.name.error,margin:"dense",id:"nombre",label:"Nombre",fullWidth:!0,defaultValue:O.NOMBRE,onChange:function(e){return function(e,a,t,n,r){if(e.target.value.length>40){r(Object(E.a)(Object(E.a)({},n),{},{name:{error:!0,mesage:"La longitud m\xe1xima del nombre es de 40 caracteres."}}))}else{r(Object(E.a)(Object(E.a)({},n),{},{name:{error:!1,mesage:""}})),t(Object(E.a)(Object(E.a)({},a),{},{NOMBRE:e.target.value}))}}(e,O,g,j,S)},helperText:j.name.mesage}),r.a.createElement(B.a,{required:!0,error:j.telefono.error,margin:"dense",id:"TELEFONO",label:"Tel\xe9fono",fullWidth:!0,defaultValue:O.TELEFONO,onChange:function(e){return function(e,a,t,n,r){if(isNaN(e.target.value)){r(Object(E.a)(Object(E.a)({},n),{},{telefono:{error:!0,message:"El tel\xe9fono debe ser una cadena num\xe9rica."}}))}else if(e.target.value.length>15){r(Object(E.a)(Object(E.a)({},n),{},{telefono:{error:!0,message:"El tel\xe9fono debe ser m\xe1ximo de 15 caracteres."}}))}else{r(Object(E.a)(Object(E.a)({},n),{},{telefono:{error:!1,message:""}})),t(Object(E.a)(Object(E.a)({},a),{},{TELEFONO:e.target.value}))}}(e,O,g,j,S)},helperText:j.telefono.message}),r.a.createElement(B.a,{required:!0,error:j.email.error,margin:"dense",id:"CORREO",label:"Correo",fullWidth:!0,defaultValue:O.CORREO,onChange:function(e){return function(e,a,t,n,r,i,o){var s=q(e.target.value,i,o);r(Object(E.a)(Object(E.a)({},n),{},{email:s})),t(Object(E.a)(Object(E.a)({},a),{},{CORREO:e.target.value}))}(e,O,g,j,S,M,G)},helperText:j.email.mesage}),r.a.createElement(B.a,{required:!0,error:j.contacto.error,margin:"dense",id:"CONTACTO",label:"Contacto",fullWidth:!0,defaultValue:O.CONTACTO,onChange:function(e){return function(e,a,t,n,r){if(e.target.value.length>100){r(Object(E.a)(Object(E.a)({},n),{},{contacto:{error:!0,message:"La longitud m\xe1xima del nombre es de 100 caracteres."}}))}else{r(Object(E.a)(Object(E.a)({},n),{},{contacto:{error:!1,message:""}})),t(Object(E.a)(Object(E.a)({},a),{},{CONTACTO:e.target.value}))}}(e,O,g,j,S)},helperText:j.contacto.message})))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"outlined",onClick:e.close,color:"primary"},"Cancelar"),r.a.createElement(D.a,{variant:"contained",onClick:function(e){return H(e,O,g)},color:"primary"},"Modificar"))))};var Ct=function(e){return r.a.createElement(Na.a,{title:"",columns:e.unidades.columns,data:e.unidades.data,options:{rowStyle:{backgroundColor:"#FFF"},headerStyle:{backgroundColor:"#3AAFA9",color:"#FFF",fontSize:16}}})},It={paper:{marginTop:"3%",marginLeft:"3%",marginRight:"3%",marginBottom:"3%",display:"flex",flexDirection:"column",alignItems:"left",backgroundImage:""}},Rt=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(U.a)(this,t),(n=a.call(this,e)).handleOnOpenModificar=function(e){n.setState({open2:!0}),n.state.unidad=e,console.log("unidad",n.state.unidad)},n.handleOnOpenEliminar=function(e){n.setState({open3:!0}),n.state.idUnidad=e,console.log("elimina id",n.state.idUnidad)},n.callback=function(e){var a=n.state.flag+1;console.log("veamos: ",a),n.setState({flag:a})},n.state={unidades:{columns:[{title:"Nombre",field:"nombre"}],data:[{nombre:""}]},unidad:[],flag:0,idUnidad:"",open2:!1,open3:!1},n.establecerData=n.establecerData.bind(Object(M.a)(n)),n.handleOnClose=n.handleOnClose.bind(Object(M.a)(n)),n.handleOnOpenEliminar=n.handleOnOpenEliminar.bind(Object(M.a)(n)),n}return Object(w.a)(t,[{key:"establecerData",value:function(e){var a,t=this,n=[],i=Object(ka.a)(e.areasApoyo);try{var o=function(){var e=a.value;n.push({nombre:e.NOMBRE,telefono:e.TELEFONO,correo:e.CORREO,contacto:e.CONTACTO,edit:r.a.createElement("div",null,r.a.createElement(ye.a,{color:"primary"},r.a.createElement(wa.a,{color:"secondary",fontsize:"large",onClick:function(){return t.handleOnOpenModificar(e)}})),r.a.createElement(ye.a,{color:"primary"},r.a.createElement(La.a,{color:"error",fontsize:"large",onClick:function(){return t.handleOnOpenEliminar(e.ID_AREA_APOYO)}})))})};for(i.s();!(a=i.n()).done;)o()}catch(c){i.e(c)}finally{i.f()}var s={columns:[{title:"Nombre",field:"nombre"},{title:"Tel\xe9fono",field:"telefono"},{title:"Correo",field:"correo"},{title:"Contacto",field:"contacto"},{title:"",field:"edit"}],data:n};this.setState({unidades:s})}},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("update",this.props.unidades!==t.unidades,this.props.flag!==t.flag,a.flag!==this.state.flag),console.log("unidadesprops",this.props.flag,t.flag),console.log("unidadesstate",a.unidades,this.state.unidades),this.props.flag===t.flag&&a.flag===this.state.flag){e.next=9;break}if(a.unidades===this.state.unidades){e.next=9;break}return e.next=7,X({servicio:"/api/areaapoyo"});case 7:(n=e.sent)&&this.establecerData(n);case 9:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/areaapoyo"});case 2:a=e.sent,console.log("arreglo: ",a),a&&this.establecerData(a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleOnClose",value:function(){this.setState({open2:!1}),this.setState({open3:!1})}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.open2&&r.a.createElement(At,{open:this.handleOnOpenModificar,close:this.handleOnClose,unidad:this.state.unidad,parentCallback:this.callback}),this.state.open3&&r.a.createElement(jt,{open:this.handleOnOpenEliminar,close:this.handleOnClose,id:this.state.idUnidad,parentCallback:this.callback}),r.a.createElement(y.a,{elevation:0,style:It.paper},r.a.createElement(Ct,{unidades:this.state.unidades})))}}]),t}(r.a.Component),yt=function(e){e.flag;var a=e.setFlag,t=r.a.useState({NOMBRE:"",TELEFONO:"",CORREO:"",CONTACTO:""}),i=Object(u.a)(t,2),o=i[0],s=i[1],m=Object(n.useState)({mensajeStrong:"",mensajeStrongError:"por favor revisalos!",mensajeStrongExito:"satisfactoriamente!",mensajeError:"Existen errores al completar el formulario",mensajeExito:"Unidad de Apoyo registrada",mensaje:""}),d=Object(u.a)(m,2),p=d[0],h=d[1],f=Object(n.useState)({severidad:"",severW:"warning",severE:"error",severS:"success"}),O=Object(u.a)(f,2),g=O[0],b=O[1],v=Object(n.useState)(Aa),j=Object(u.a)(v,2),S=j[0],A=j[1],C=r.a.useState(!1),I=Object(u.a)(C,2),y=I[0],x=I[1],k=function(){x(!1),b({severidad:""}),h({mensaje:""})},N=function(){var e=Object(l.a)(c.a.mark((function e(t,n,r){var i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n.NOMBRE&&""!==n.CORREO&&""!==n.TELEFONO&&""!==n.CONTACTO){e.next=4;break}return b({severidad:"error"}),h({mensaje:"Todos los datos son obligatorios."}),e.abrupt("return");case 4:if(!S.name.error){e.next=8;break}return b({severidad:"error"}),h({mensaje:S.name.mesage}),e.abrupt("return");case 8:if(!S.telefono.error){e.next=12;break}return b({severidad:"error"}),h({mensaje:S.telefono.message}),e.abrupt("return");case 12:if(!S.email.error){e.next=16;break}return b({severidad:"error"}),h({mensaje:S.email.mesage}),e.abrupt("return");case 16:if(!S.contacto.error){e.next=20;break}return b({severidad:"error"}),h({mensaje:S.name.message}),e.abrupt("return");case 20:return i={servicio:"/api/areaapoyo",request:{areaApoyo:n}},e.next=23,$(i);case 23:(o=e.sent)&&(o.error?(b({severidad:"error"}),h({mensaje:o.error})):(b({severidad:"success"}),h({mensaje:"Unidad de apoyo registrada"})),a((function(e){return e+1})));case 25:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),T=Object(n.useState)(""),U=Object(u.a)(T,2),w=U[0],M=U[1],L=Object(n.useState)(""),P=Object(u.a)(L,2),F=P[0],G=P[1];return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/institucion"});case 2:(a=e.sent)&&a.institucion&&(M(a.institucion.DOMINIO),G(a.institucion.DOMINIO2));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[w,F]),Object(n.useEffect)((function(){}),[g,p]),r.a.createElement("div",null,r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:function(){x(!0)}},"Registrar"),r.a.createElement(Oa.a,{open:y,onClose:k,"aria-labelledby":"form-dialog-title"},r.a.createElement(se,{severity:g.severidad,titulo:"Observacion:",alerta:p}),r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,spacing:1},r.a.createElement(R.a,{item:!0,md:11},"Registrar Unidades de Apoyo"),r.a.createElement(R.a,{item:!0,md:1,alignContent:"flex-end"},r.a.createElement(Sa.a,{onClick:k})))),r.a.createElement(ba.a,null,r.a.createElement(R.a,{container:!0,spacing:12},r.a.createElement(R.a,{item:!0,md:12,sm:!0,container:!0},r.a.createElement(R.a,{item:!0,xs:!0,container:!0,direction:"column",justify:"center",spacing:2},r.a.createElement(R.a,{item:!0,xs:!0},r.a.createElement(B.a,{required:!0,error:S.name.error,margin:"dense",id:"nombre",label:"Nombre",fullWidth:!0,onChange:function(e){return function(e,a,t,n,r){if(e.target.value.length>40){r(Object(E.a)(Object(E.a)({},n),{},{name:{error:!0,mesage:"La longitud m\xe1xima del nombre es de 40 caracteres."}}))}else{r(Object(E.a)(Object(E.a)({},n),{},{name:{error:!1,mesage:""}})),t(Object(E.a)(Object(E.a)({},a),{},{NOMBRE:e.target.value}))}}(e,o,s,S,A)},helperText:S.name.mesage})),r.a.createElement(R.a,{item:!0,xs:!0},r.a.createElement(B.a,{required:!0,error:S.telefono.error,margin:"dense",id:"TELEFONO",label:"Tel\xe9fono",fullWidth:!0,onChange:function(e){return function(e,a,t,n,r){if(isNaN(e.target.value)){r(Object(E.a)(Object(E.a)({},n),{},{telefono:{error:!0,message:"El tel\xe9fono debe ser una cadena num\xe9rica."}}))}else if(e.target.value.length>15){r(Object(E.a)(Object(E.a)({},n),{},{telefono:{error:!0,message:"El tel\xe9fono debe ser m\xe1ximo de 15 caracteres."}}))}else{r(Object(E.a)(Object(E.a)({},n),{},{telefono:{error:!1,message:""}})),t(Object(E.a)(Object(E.a)({},a),{},{TELEFONO:e.target.value}))}}(e,o,s,S,A)},helperText:S.telefono.message})),r.a.createElement(R.a,{item:!0,xs:!0},r.a.createElement(B.a,{required:!0,error:S.email.error,margin:"dense",id:"CORREO",label:"Correo",fullWidth:!0,onChange:function(e){return function(e,a,t,n,r,i,o){var s=q(e.target.value,i,o);r(Object(E.a)(Object(E.a)({},n),{},{email:s})),t(Object(E.a)(Object(E.a)({},a),{},{CORREO:e.target.value}))}(e,o,s,S,A,w,F)},helperText:S.email.mesage})),r.a.createElement(R.a,{item:!0,xs:!0},r.a.createElement(B.a,{required:!0,error:S.contacto.error,margin:"dense",id:"CONTACTO",label:"Contacto",fullWidth:!0,onChange:function(e){return function(e,a,t,n,r){if(e.target.value.length>100){r(Object(E.a)(Object(E.a)({},n),{},{contacto:{error:!0,message:"La longitud m\xe1xima del nombre es de 100 caracteres."}}))}else{r(Object(E.a)(Object(E.a)({},n),{},{contacto:{error:!1,message:""}})),t(Object(E.a)(Object(E.a)({},a),{},{CONTACTO:e.target.value}))}}(e,o,s,S,A)},helperText:S.contacto.message})))))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"outlined",onClick:k,color:"primary"},"Cancelar"),r.a.createElement(D.a,{variant:"contained",onClick:function(e){return N(e,o,s)},color:"primary"},"Crear"))))},xt=function(){var e=Object(n.useState)([]),a=Object(u.a)(e,2),t=a[0],i=a[1],o=Object(n.useState)(0),s=Object(u.a)(o,2),m=s[0],d=s[1],p=Object(n.useState)(0),h=Object(u.a)(p,2),f=h[0],O=h[1];return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/areaapoyo",a={servicio:"/api/areaapoyo"},e.next=4,X(a);case 4:(t=e.sent)&&i(t.areasApoyo);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),{}),r.a.createElement("div",null,r.a.createElement(xa,{titulo:"Unidades de apoyo"}),r.a.createElement(R.a,{container:!0,md:12,justify:"flex-end",alignItems:"center",spacing:1},r.a.createElement(R.a,{item:!0,style:{marginRight:"3%",marginTop:"1%"}},r.a.createElement(yt,{flag:f,setFlag:d}))),r.a.createElement(Rt,{unidades:t,flag:m,setFlag:O}))},kt=t(1267),Dt=t(1252),Nt={paper:{marginTop:"1%",marginLeft:"7%",marginRight:"7%",flexDirection:"column",alignItems:"left",backgroundImage:"",minHeight:400},paperTutor:{marginTop:"1%",marginLeft:"1%",marginRight:"1%"},papermini:{marginTop:"1%",marginLeft:"1%",marginRight:"1%"},envoltorioFormulario:{alignItems:"center",paddingTop:"1%",paddingBottom:"2%",width:"100%",backgroundColor:"#f2f2f2"},tabs:{backgroundColor:"#ffffff"}},Tt=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e,n=this;return Object(U.a)(this,t),(e=a.call(this)).mostrarTab=function(a){return e.setState({procesoActivo:e.state.procesos[a.tab].proceso}),r.a.createElement(n.state.procesoActivo,{regreso:e.activarTab})},e.state={tabActivada:0,procesoActivo:{},procesos:[]},e.activarTab=e.activarTab.bind(Object(M.a)(e)),e.rendertabs=e.rendertabs.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"activarTab",value:function(e){this.setState({tabActivada:e}),this.setState({procesoActivo:this.state.procesos[e].proceso})}},{key:"componentWillMount",value:function(){this.props.procesos&&(this.setState({procesos:this.props.procesos}),this.setState({procesoActivo:this.props.procesos[0].proceso}))}},{key:"rendertabs",value:function(){var e=this;return 1===this.props.procesos.length&&0===this.props.procesos[0].titulo.length?r.a.createElement(r.a.Fragment,null):r.a.createElement(kt.a,{centered:!0,value:this.state.tabActivada,indicatorColor:"primary",textColor:"primary",onChange:this.handleTabOnChange,"aria-label":"disabled tabs example"},this.props.procesos.map((function(a){return r.a.createElement(Dt.a,{onClick:function(){return e.activarTab(a.index)},label:a.titulo})})))}},{key:"render",value:function(){return this.props.paperTutor?r.a.createElement("div",{style:Nt.tabs},this.rendertabs(),r.a.createElement("div",{style:Nt.envoltorioFormulario},r.a.createElement("div",{style:Nt.paperTutor},r.a.createElement(this.state.procesoActivo,null)))):r.a.createElement("div",{style:Nt.tabs},this.rendertabs(),r.a.createElement("div",{style:Nt.envoltorioFormulario},!1===this.props.procesos[this.state.tabActivada].paper?!1===this.props.procesos[this.state.tabActivada].paper?r.a.createElement("div",{style:Nt.papermini},r.a.createElement(this.state.procesoActivo,null)):r.a.createElement(y.a,{elevation:5,style:Nt.paper},r.a.createElement(this.state.procesoActivo,null)):this.props.paper&&!0===this.props.paper?r.a.createElement(y.a,{elevation:5,style:Nt.paper},r.a.createElement(this.state.procesoActivo,null)):r.a.createElement(this.state.procesoActivo,null)))}}]),t}(n.Component),Ut=t(69),wt=t.n(Ut),Mt=t(20),Lt=t.n(Mt),Pt=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={sesiones:{columns:[{title:"Nombre",field:"nombre"}],data:[{nombre:""}]}},e}return Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a,t,n,r,i,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/sugerencia/"});case 2:if((a=e.sent).sugerencias){e.next=5;break}return e.abrupt("return");case 5:if(t=[],n=0,a){console.log(">>Col=>",a),r=Object(ka.a)(a.sugerencias);try{for(r.s();!(i=r.n()).done;)o=i.value,n++,t.push({campoCont:n,sugerencia:o.SUGERENCIA})}catch(c){r.e(c)}finally{r.f()}}s={columns:[{title:"N\xb0",field:"campoCont"},{title:"Sugerencias Recibidas",field:"sugerencia"}],data:t},this.setState({sesiones:s});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(wt.a,{columns:this.state.sesiones.columns,data:this.state.sesiones.data,title:"Lista de sugerencias al ".concat(Lt()(new Date).format("DD-MM-YYYY")),exportar:!0}))}}]),t}(n.Component),Ft={paper:{marginTop:"3%",marginLeft:"3%",marginRight:"3%",marginBottom:"3%",display:"flex",flexDirection:"column",alignItems:"left",backgroundImage:""}},Bt=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={procesos:[{index:0,titulo:"",proceso:function(){return r.a.createElement(Pt,null)}}]},e}return Object(w.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(xa,{titulo:"Buz\xf3n de sugerencias recibidas "}),r.a.createElement(y.a,{elevation:0,style:Ft.paper},r.a.createElement(Tt,{procesos:this.state.procesos})))}}]),t}(n.Component),Gt=function(e){var a=Y(),t=Object(u.a)(a,2),n=t[0],i=(n.usuario,n.auth);t[1];if(!i)return e.history.push("/"),je;var o=Q().rol.toLowerCase().split(" ")[0];return"administrador"!==o&&e.history.push("/"+o),r.a.createElement(f.a,{theme:g},r.a.createElement("div",null,r.a.createElement(d.a,{exact:!0,path:"/administrador/",component:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{N:3}),r.a.createElement(pa,null))}}),r.a.createElement(ea,null,r.a.createElement(d.a,{exact:!0,path:"/administrador/perfil",component:pa}),r.a.createElement(d.a,{exact:!0,path:"/administrador/institucion",component:vt}),r.a.createElement(d.a,{exact:!0,path:"/administrador/facultades",component:Va}),r.a.createElement(d.a,{exact:!0,path:"/administrador/coordinadores",component:Ot}),r.a.createElement(d.a,{exact:!0,path:"/administrador/unidadesdeapoyo",component:xt}),r.a.createElement(d.a,{exact:!0,path:"/administrador/buzondesugerencias",component:Bt}))))},qt=t(228),_t=t(264),Ht=t.n(_t),zt=Object(h.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(250,"px)"),marginLeft:250,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:250,flexShrink:0},drawerPaper:{width:250},drawerHeader:Object(E.a)(Object(E.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-250},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}})),Vt=function(e){var a=zt(),t=Object(Ae.a)(),n=r.a.useState(!1),i=Object(u.a)(n,2),o=i[0],s=i[1],c=Y(),l=Object(u.a)(c,2);Object(qt.a)(l[0]);var d=l[1],p=function(){s(!0)},h=Q(),O=h.usuario,g=h.rol;return console.log(">Jenn98=>",O),r.a.createElement("div",{className:a.root},r.a.createElement(Ie.a,null),r.a.createElement(A.a,{position:"fixed",className:Object(Se.a)(a.appBar,Object(N.a)({},a.appBarShift,o))},r.a.createElement(f.a,{theme:t},r.a.createElement(Qe,{MenuIconButton:function(){return r.a.createElement(ye.a,{color:"inherit","aria-label":"open drawer",onClick:p,edge:"start",className:Object(Se.a)(a.menuButton,o&&a.hide)},r.a.createElement(ke.a,null))},imagenPerfil:O.IMAGEN?O.IMAGEN:"https://www.w3schools.com/howto/img_avatar.png",rol:g,NOMBRE:O.NOMBRE,APELLIDOS:O.APELLIDOS}))),r.a.createElement(Ce.a,{className:a.drawer,variant:"persistent",anchor:"left",open:o,classes:{paper:a.drawerPaper}},r.a.createElement("div",{className:a.drawerHeader},r.a.createElement(R.a,{container:!0,spacing:1},r.a.createElement(R.a,{item:!0,md:9},r.a.createElement(de,{src:"https://ututor-recursos.s3.amazonaws.com/Imagenes/ututor-main-logo-inverted.png",logoVerde:!0})),r.a.createElement(R.a,{item:!0,md:3},r.a.createElement(ye.a,{onClick:function(){s(!1)}},"ltr"===t.direction?r.a.createElement(Ne.a,null):r.a.createElement(Ue.a,null))),r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(I.a,{variant:"h6",textAlign:"center",style:{"text-align":"center"}},g)))),r.a.createElement(F.a,null),r.a.createElement(Re.a,null,["Perfil","Facultades","Programas","Coordinadores de Programa","Procesos de Tutoria","Alumnos","Tutores","Disponibilidades","Asignacion de Tutor","Asignar Roles","Reportes"].filter((function(e){return"Coordinador Programa"===Q().rol?"Coordinadores de Programa"!==e&&"Facultades"!==e:e===e})).map((function(e,a){return r.a.createElement(we.a,{button:!0,key:e,component:m.b,to:11===a?"/":"/coordinador/"+e.split(" ").join("").toLowerCase()},r.a.createElement(Me.a,null,0===a?r.a.createElement(_e.a,{color:"primary"}):1===a?r.a.createElement(Ge.a,{color:"primary"}):2===a?"Coordinador Facultad"===Q().rol?r.a.createElement(Ge.a,{color:"primary"}):r.a.createElement(Fe.a,{color:"primary"}):3===a||4===a?r.a.createElement(Fe.a,{color:"primary"}):7===a?"Coordinador Facultad"===Q().rol?r.a.createElement(Fe.a,{color:"primary"}):r.a.createElement(ze.a,{color:"primary"}):8===a?"Coordinador Facultad"===Q().rol?r.a.createElement(ze.a,{color:"primary"}):r.a.createElement(Ht.a,{color:"primary"}):9===a?r.a.createElement(ze.a,{color:"primary"}):10===a?r.a.createElement(Ht.a,{color:"primary"}):r.a.createElement(Fe.a,{color:"primary"})),r.a.createElement(Le.a,{primary:e}))})),r.a.createElement(we.a,{button:!0,key:"Cerrar Sesion",component:m.b,to:"/",onClick:function(){te(d)}},r.a.createElement(Me.a,null,r.a.createElement(We.a,{color:"primary"})),r.a.createElement(Le.a,{primary:"Cerrar Sesion"})))),r.a.createElement("main",{className:Object(Se.a)(a.content,Object(N.a)({},a.contentShift,o))},r.a.createElement("div",{className:a.drawerHeader}),e.contenido,e.children))},Wt=Object(h.a)((function(e){return{icon:{marginTop:e.spacing(1)},formControl:{minWidth:"100%"},selectEmpty:{marginTop:e.spacing(2)}}})),Yt=function(e){var a=Wt(),t=e.disabled,n=e.programas,i=e.programa,o=e.setPrograma;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{className:a.formControl,disabled:t},r.a.createElement(k.a,{id:"demo-simple-select-label"},"Programa"),r.a.createElement(sa.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",defaultValue:i,value:i,onChange:function(e){o(e.target.value)}},n.map((function(e){return r.a.createElement(ca.a,{key:e.ID_PROGRAMA,value:e.ID_PROGRAMA},e.NOMBRE)})))))},Jt=Object(h.a)((function(e){return{icon:{marginTop:e.spacing(1)},formControl:{minWidth:"100%"},selectEmpty:{marginTop:e.spacing(2)}}})),Kt=function(e){var a=Jt(),t=e.programas,n=e.programa,i=e.setPrograma,o=e.setDisabled;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{className:a.formControl},r.a.createElement(k.a,{id:"demo-simple-select-label"},"Facultad"),r.a.createElement(sa.a,{labelId:"demo-simple-select-label",label:n,id:"demo-simple-select",value:n,onChange:function(e){i(e.target.value),o(!1)}},t.map((function(e){return r.a.createElement(ca.a,{key:"Coordinador Programa"===Q().rol?e.FACULTAD.ID_PROGRAMA:e.ID_PROGRAMA,value:"Coordinador Programa"===Q().rol?e.FACULTAD.ID_PROGRAMA:e.ID_PROGRAMA},"Coordinador Programa"===Q().rol?e.FACULTAD.NOMBRE:e.NOMBRE)})))))},Qt=Object(h.a)((function(e){return{caja:Object(N.a)({padding:e.spacing(5),width:e.spacing(150)},e.breakpoints.down("sm"),{padding:e.spacing(1),width:e.spacing(40)})}})),Xt=function(e){var a=Qt(),t=Q().usuario.ID_USUARIO,i=Q().idRol,o=Object(n.useState)(!0),s=Object(u.a)(o,2),m=s[0],d=s[1],p=e.datos,h=e.setDatos,f=e.handleClose,O=Object(n.useState)(Aa),g=Object(u.a)(O,2),b=g[0],v=g[1],j=Object(n.useState)([]),S=Object(u.a)(j,2),A=S[0],C=S[1],I=Object(n.useState)(""),x=Object(u.a)(I,2),k=x[0],N=x[1],T=Object(n.useState)([]),U=Object(u.a)(T,2),w=U[0],M=U[1],L=Object(n.useState)(""),P=Object(u.a)(L,2),F=P[0],G=P[1],_=Object(n.useState)(""),H=Object(u.a)(_,2),z=H[0],V=H[1],W=Object(n.useState)(""),Y=Object(u.a)(W,2),J=Y[0],K=Y[1],Z=Object(n.useState)(""),ee=Object(u.a)(Z,2),ae=ee[0],te=ee[1],ne=Object(n.useState)({mensaje:""}),re=Object(u.a)(ne,2),ie=re[0],oe=re[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/institucion"});case 2:if((a=e.sent).institucion){e.next=5;break}return e.abrupt("return");case 5:V(a.institucion.DOMINIO),K(a.institucion.DOMINIO2);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[z,J]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 6===i?a="/api/facultad/coordinador/"+t:2===i&&(a="/api/facultad/lista/"+t),n={servicio:a},e.next=4,X(n);case 4:(r=e.sent)&&C(r.facultades);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i,t]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 6===i?a="/api/programa/lista/"+k:2===i&&(a="/api/programa/lista/"+t+"/"+k),n={servicio:a},e.next=4,X(n);case 4:null!==(r=e.sent)&&(6===i?r&&M(r.programa):2===i&&r&&M(r.programas));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==k&&function(){e.apply(this,arguments)}()}),[k]);var ce=function(){var e=Object(l.a)(c.a.mark((function e(a,t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(b.name.error||b.lastnames.error||b.email.error||b.phoneNumber.error||b.address.error||b.code.error||""===t.APELLIDOS||""===t.NOMBRE||""===t.CORREO||""===t.CODIGO||""===F)){e.next=6;break}return te("error"),oe({mensaje:"Existen errores en el formulario"}),e.abrupt("return");case 6:r={servicio:"/api/tutor",request:{tutor:Object(E.a)(Object(E.a)({},t),{},{PROGRAMA:[F]})}},null===(i=$(r))||void 0===i||void 0!==i.error?void 0!==i.error?(te("error"),oe({mensaje:i.error})):null===i&&(te("error"),oe({mensaje:"Algo sali\xf3 mal :("})):(te("success"),oe({mensaje:"Se registr\xf3 correctamente el tutor"}));case 9:return e.next=11,setTimeout(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f();case 1:case"end":return e.stop()}}),e)}))),3e3);case 11:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}();return r.a.createElement(y.a,{className:a.caja,variant:"outlined"},r.a.createElement(se,{severity:ae,titulo:"Observacion:",alerta:ie}),r.a.createElement(R.a,{container:!0,direction:"column",spacing:4,justify:"center",alignItems:"center"},r.a.createElement(R.a,{item:!0,xs:12,container:!0,spacing:10},r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(B.a,{required:!0,error:b.name.error,margin:"dense",id:"nombres",label:"Nombres",type:"text",fullWidth:!0,onChange:function(e){return function(e,a,t,n,r){var i=e.target.value;t(Object(E.a)(Object(E.a)({},a),{},{NOMBRE:i}));var o=Ca(i);r(Object(E.a)(Object(E.a)({},n),{},{name:o}))}(e,p,h,b,v)},helperText:b.name.mesage})),r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(B.a,{required:!0,error:b.lastnames.error,margin:"dense",id:"apellidos",label:"Apellidos",type:"text",fullWidth:!0,onChange:function(e){return function(e,a,t,n,r){var i=e.target.value;t(Object(E.a)(Object(E.a)({},a),{},{APELLIDOS:i}));var o=$a(i);r(Object(E.a)(Object(E.a)({},n),{},{lastnames:o}))}(e,p,h,b,v)},helperText:b.lastnames.mesage}))),r.a.createElement(R.a,{item:!0,xs:12,container:!0,spacing:10},r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(B.a,{required:!0,error:b.email.error,margin:"dense",id:"email",label:"Correo",type:"email",fullWidth:!0,onChange:function(e){return function(e,a,t,n,r,i,o){var s=e.target.value;t(Object(E.a)(Object(E.a)({},a),{},{CORREO:s,USUARIO:s}));var c=q(s,i,o);r(Object(E.a)(Object(E.a)({},n),{},{email:c}))}(e,p,h,b,v,z,J)},helperText:b.email.mesage})),r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(B.a,{error:b.phoneNumber.error,margin:"dense",id:"telefono",label:"Tel\xe9fono",type:"text",fullWidth:!0,onChange:function(e){return function(e,a,t,n,r){var i=e.target.value;t(Object(E.a)(Object(E.a)({},a),{},{TELEFONO:i}));var o=et(i);r(Object(E.a)(Object(E.a)({},n),{},{phoneNumber:o}))}(e,p,h,b,v)},helperText:b.phoneNumber.mesage}))),r.a.createElement(R.a,{item:!0,xs:12,container:!0,spacing:10},r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(B.a,{error:b.address.error,margin:"dense",id:"direccion",label:"Direcci\xf3n",type:"text",fullWidth:!0,onChange:function(e){return function(e,a,t,n,r){var i=e.target.value;t(Object(E.a)(Object(E.a)({},a),{},{DIRECCION:i}));var o=at(i);r(Object(E.a)(Object(E.a)({},n),{},{address:o}))}(e,p,h,b,v)},helperText:b.address.mesage})),r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(B.a,{required:!0,error:b.code.error,margin:"dense",id:"codigo",label:"C\xf3digo",type:"text",fullWidth:!0,onChange:function(e){return function(e,a,t,n,r){var i=e.target.value;t(Object(E.a)(Object(E.a)({},a),{},{CODIGO:i}));var o=tt(i);r(Object(E.a)(Object(E.a)({},n),{},{code:o}))}(e,p,h,b,v)},helperText:b.code.mesage}))),r.a.createElement(R.a,{item:!0,xs:12,container:!0,spacing:10},r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(Kt,{programas:A,programa:k,setPrograma:N,setDisabled:d})),r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(Yt,{disabled:m,programas:w,programa:F,setPrograma:G}))),r.a.createElement(R.a,{item:!0,xs:12,container:!0,justify:"flex-end",alignItems:"center"},r.a.createElement(R.a,{item:!0,xs:2},r.a.createElement(D.a,{color:"primary",variant:"outlined",onClick:f},"Cancelar")),r.a.createElement(R.a,{item:!0,xs:2},r.a.createElement(D.a,{color:"primary",variant:"contained",onClick:function(e){return ce(e,p,h)}},"Guardar")))))};function Zt(e){var a=e.datos,t=e.setDatos,n=r.a.useState(!1),i=Object(u.a)(n,2),o=i[0],s=i[1],c=function(){s(!1)};return r.a.createElement("div",null,r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:function(){s(!0)}},"Registrar tutor"),r.a.createElement(Oa.a,{open:o,onClose:c,"aria-labelledby":"form-dialog-title",maxWidth:"lg"},r.a.createElement(Ea.a,{id:"form-dialog-title"},"Registro de tutor"),r.a.createElement(ba.a,null,r.a.createElement(Xt,{datos:a,setDatos:t,handleClose:c}))))}var $t=t(350),en=t.n($t),an=Object(h.a)((function(e){return{caja:Object(N.a)({padding:e.spacing(5),width:e.spacing(150)},e.breakpoints.down("sm"),{padding:e.spacing(1),width:e.spacing(40)})}})),tn=function(e){var a=an(),t=Q().usuario.ID_USUARIO,i=Q().idRol,o=Object(n.useState)(!1),s=Object(u.a)(o,2),m=s[0],d=s[1],p=r.a.useState({ID_TUTOR:e.datos.ID_USUARIO,NOMBRE:e.datos.NOMBRE,APELLIDOS:e.datos.APELLIDOS,CODIGO:e.datos.CODIGO,CORREO:e.datos.CORREO,TELEFONO:e.datos.TELEFONO,DIRECCION:e.datos.DIRECCION,USUARIO:e.datos.USUARIO,IMAGEN:"",PROGRAMA:e.datos.ROL_X_USUARIO_X_PROGRAMAs.map((function(e){return e.ID_PROGRAMA}))}),h=Object(u.a)(p,2),f=h[0],O=h[1],g=Object(n.useState)(Aa),b=Object(u.a)(g,2),v=b[0],j=b[1],S=Object(n.useState)([]),A=Object(u.a)(S,2),C=A[0],I=A[1],x=Object(n.useState)(e.facultad),k=Object(u.a)(x,2),N=k[0],T=k[1],U=Object(n.useState)([]),w=Object(u.a)(U,2),M=w[0],L=w[1],P=Object(n.useState)(e.programa),F=Object(u.a)(P,2),G=F[0],_=F[1],H=Object(n.useState)(""),z=Object(u.a)(H,2),V=z[0],W=z[1],Y=Object(n.useState)(""),J=Object(u.a)(Y,2),K=J[0],Z=J[1],ee=Object(n.useState)(""),ae=Object(u.a)(ee,2),te=ae[0],ne=ae[1],re=Object(n.useState)({mensaje:""}),ie=Object(u.a)(re,2),oe=ie[0],ce=ie[1],le=r.a.useState(!1),ue=Object(u.a)(le,2),me=ue[0],de=ue[1],pe=function(){de(!1)};Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/institucion"});case 2:a=e.sent,W(a.institucion.DOMINIO),Z(a.institucion.DOMINIO2);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[V,K]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 6===i?a="/api/facultad/coordinador/"+t:2===i&&(a="/api/facultad/lista/"+t),n={servicio:a},e.next=4,X(n);case 4:(r=e.sent)&&I(r.facultades);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i,t]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 6===i?a="/api/programa/lista/"+N:2===i&&(a="/api/programa/lista/"+t+"/"+N),n={servicio:a},e.next=4,X(n);case 4:null!==(r=e.sent)&&(6===i?r&&L(r.programa):2===i&&r&&L(r.programas));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==N&&function(){e.apply(this,arguments)}()}),[N]);var he=function(){var e=Object(l.a)(c.a.mark((function e(a,t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(v.name.error||v.lastnames.error||v.email.error||v.phoneNumber.error||v.address.error||v.code.error)){e.next=6;break}return ne("error"),ce({mensaje:"Existen errores en el formulario"}),e.abrupt("return");case 6:return r={servicio:"/api/tutor/modificar",request:{tutor:Object(E.a)(Object(E.a)({},t),{},{PROGRAMA:[G]})}},e.next=9,$(r);case 9:null!==(i=e.sent)||""===i.error?(ne("success"),ce({mensaje:"Se modific\xf3 correctamente el tutor"})):(ne("warning"),ce({mensaje:"Algo sali\xf3 mal :("}));case 11:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ye.a,{color:"inherit",onClick:function(){de(!0)}},r.a.createElement(en.a,null)),r.a.createElement(Oa.a,{open:me,onClose:pe,"aria-labelledby":"form-dialog-title",maxWidth:"lg"},r.a.createElement(Ea.a,{id:"form-dialog-title"},"Modificar tutor"),r.a.createElement(ba.a,null,r.a.createElement(y.a,{className:a.caja,variant:"outlined"},r.a.createElement(se,{severity:te,titulo:"Observacion:",alerta:oe}),r.a.createElement(R.a,{container:!0,direction:"column",spacing:4,justify:"center",alignItems:"center"},r.a.createElement(R.a,{item:!0,xs:12,container:!0,spacing:10},r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(B.a,{required:!0,error:v.name.error,margin:"dense",id:"nombres",label:"Nombres",type:"text",fullWidth:!0,onChange:function(e){return function(e,a,t,n,r){var i=e.target.value;t(Object(E.a)(Object(E.a)({},a),{},{NOMBRE:i}));var o=Ca(i);r(Object(E.a)(Object(E.a)({},n),{},{name:o}))}(e,f,O,v,j)},helperText:v.name.mesage,defaultValue:f.NOMBRE})),r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(B.a,{required:!0,error:v.lastnames.error,margin:"dense",id:"apellidos",label:"Apellidos",type:"text",fullWidth:!0,onChange:function(e){return function(e,a,t,n,r){var i=e.target.value;t(Object(E.a)(Object(E.a)({},a),{},{APELLIDOS:i}));var o=$a(i);r(Object(E.a)(Object(E.a)({},n),{},{lastnames:o}))}(e,f,O,v,j)},helperText:v.lastnames.mesage,defaultValue:f.APELLIDOS}))),r.a.createElement(R.a,{item:!0,xs:12,container:!0,spacing:10},r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(B.a,{required:!0,error:v.email.error,margin:"dense",id:"email",label:"Correo",type:"email",fullWidth:!0,onChange:function(e){return function(e,a,t,n,r,i,o){var s=e.target.value;t(Object(E.a)(Object(E.a)({},a),{},{CORREO:s,USUARIO:s}));var c=q(s,i,o);r(Object(E.a)(Object(E.a)({},n),{},{email:c}))}(e,f,O,v,j,V,K)},helperText:v.email.mesage,defaultValue:f.CORREO})),r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(B.a,{error:v.phoneNumber.error,margin:"dense",id:"telefono",label:"Tel\xe9fono",type:"text",fullWidth:!0,onChange:function(e){return function(e,a,t,n,r){var i=e.target.value;t(Object(E.a)(Object(E.a)({},a),{},{TELEFONO:i}));var o=et(i);r(Object(E.a)(Object(E.a)({},n),{},{phoneNumber:o}))}(e,f,O,v,j)},helperText:v.phoneNumber.mesage,defaultValue:f.TELEFONO}))),r.a.createElement(R.a,{item:!0,xs:12,container:!0,spacing:10},r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(B.a,{error:v.address.error,margin:"dense",id:"direccion",label:"Direcci\xf3n",type:"text",fullWidth:!0,onChange:function(e){return function(e,a,t,n,r){var i=e.target.value;t(Object(E.a)(Object(E.a)({},a),{},{DIRECCION:i}));var o=at(i);r(Object(E.a)(Object(E.a)({},n),{},{address:o}))}(e,f,O,v,j)},helperText:v.address.mesage,defaultValue:f.DIRECCION})),r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(B.a,{required:!0,error:v.code.error,margin:"dense",id:"codigo",label:"C\xf3digo",type:"text",fullWidth:!0,onChange:function(e){return function(e,a,t,n,r){var i=e.target.value;t(Object(E.a)(Object(E.a)({},a),{},{CODIGO:i}));var o=tt(i);r(Object(E.a)(Object(E.a)({},n),{},{code:o}))}(e,f,O,v,j)},helperText:v.code.mesage,defaultValue:f.CODIGO}))),r.a.createElement(R.a,{item:!0,xs:12,container:!0,spacing:10},r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(Kt,{programas:C,programa:N,setPrograma:T,setDisabled:d})),r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(Yt,{disabled:m,programas:M,programa:G,setPrograma:_}))),r.a.createElement(R.a,{item:!0,xs:12,container:!0,justify:"flex-end",alignItems:"center"},r.a.createElement(R.a,{item:!0,xs:2},r.a.createElement(D.a,{color:"primary",variant:"outlined",onClick:pe},"Cancelar")),r.a.createElement(R.a,{item:!0,xs:2},r.a.createElement(D.a,{color:"primary",variant:"contained",onClick:function(e){return he(e,f,O)}},"Modificar"))))))))},nn=t(1255),rn=t(351),on=t.n(rn);function sn(e){var a=Object(n.useState)(!1),t=Object(u.a)(a,2),i=t[0],o=t[1],s=Object(n.useState)("\xbfDesea eliminar al tutor "+e.datos.NOMBRE+"?"),m=Object(u.a)(s,2),d=m[0],p=m[1],h=function(){o(!1)};return r.a.createElement("div",null,r.a.createElement(ye.a,{color:"inherit",onClick:function(){o(!0)}},r.a.createElement(on.a,{style:{color:"red"}})),r.a.createElement(Oa.a,{open:i,onClose:h,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Ea.a,{id:"alert-dialog-title"},"Eliminar tutor"),r.a.createElement(ba.a,null,r.a.createElement(nn.a,{id:"alert-dialog-description"},d)),r.a.createElement(ga.a,null,r.a.createElement(D.a,{onClick:h,color:"primary"},"Cancelar"),r.a.createElement(D.a,{onClick:function(){function a(){return(a=Object(l.a)(c.a.mark((function a(){var t,n,r;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t="/api/tutor/eliminar/"+e.datos.ID_USUARIO,console.log(t),n={servicio:t},a.next=5,X(n);case 5:if(r=a.sent,console.log(r),!r){a.next=21;break}if(!r.status){a.next=15;break}return p("El tutor fue eliminado correctamente"),a.next=12,setTimeout(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h();case 1:case"end":return e.stop()}}),e)}))),1500);case 12:window.location.reload(),a.next=19;break;case 15:if(!r.message){a.next=19;break}return p(r.message),a.next=19,setTimeout(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h();case 1:case"end":return e.stop()}}),e)}))),2500);case 19:a.next=24;break;case 21:return p("Algo sali\xf3 mal, intente otra vez m\xe1s tarde"),a.next=24,setTimeout(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h();case 1:case"end":return e.stop()}}),e)}))),3e3);case 24:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()},color:"primary",autoFocus:!0},"S\xed"))))}var cn=function(e,a,t){return e===[]||null===e||void 0===e?{columns:[{title:"C\xf3digo",field:"codigo"},{title:"Nombre",field:"nombre"},{title:"Correo Electr\xf3nico",field:"correo"},{title:"Modificar Tutor",field:"modificar"},{title:"Eliminar Tutor",field:"eliminar"}],data:[]}:{columns:[{title:"C\xf3digo",field:"codigo"},{title:"Nombre",field:"nombre"},{title:"Correo Electr\xf3nico",field:"correo"},{title:"Modificar Tutor",field:"modificar"},{title:"Eliminar Tutor",field:"eliminar"}],data:e.map((function(e){return{id:e.USUARIO.ID_USUARIO,codigo:e.USUARIO.CODIGO,nombre:e.USUARIO.NOMBRE+" "+e.USUARIO.APELLIDOS,correo:e.USUARIO.CORREO,modificar:r.a.createElement(tn,{datos:e.USUARIO,facultad:a,programa:t}),eliminar:r.a.createElement(sn,{datos:e.USUARIO})}}))}};var ln=function(e){var a=e.columnas,t=e.datos;return r.a.createElement(Na.a,{title:"",columns:a,data:t,options:{rowStyle:{backgroundColor:"#FFF"},headerStyle:{backgroundColor:"#3AAFA9",color:"#FFF",fontSize:14}}})},un=Object(h.a)((function(e){return{caja:Object(N.a)({marginTop:e.spacing(3),padding:e.spacing(2)},e.breakpoints.down("sm"),{padding:e.spacing(1),width:e.spacing(40)})}})),mn=function(){var e=un(),a=Object(n.useState)({NOMBRE:"",APELLIDOS:"",CODIGO:"",CORREO:"",TELEFONO:"",DIRECCION:"",USUARIO:"",CONTRASENHA:"contra",IMAGEN:"",PROGRAMA:[]}),t=Object(u.a)(a,2),i=t[0],o=t[1],s=Q().usuario.ID_USUARIO,m=Q().idRol,d=Object(n.useState)(!0),p=Object(u.a)(d,2),h=(p[0],p[1],Object(n.useState)([])),f=Object(u.a)(h,2),O=f[0],g=f[1],b=Object(n.useState)(""),v=Object(u.a)(b,2),j=v[0],S=v[1],A=Object(n.useState)([]),C=Object(u.a)(A,2),I=C[0],x=C[1],k=Object(n.useState)(""),D=Object(u.a)(k,2),N=D[0],T=D[1],U=Object(n.useState)({columns:[{title:"C\xf3digo",field:"codigo"},{title:"Nombre",field:"nombre"},{title:"Correo Electr\xf3nico",field:"correo"},{title:"Modificar Tutor",field:"modificar"},{title:"Eliminar Tutor",field:"eliminar"}],data:[]}),w=Object(u.a)(U,2),M=w[0],L=w[1];return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 6===m?a="/api/facultad/coordinador/"+s:2===m&&(a="/api/facultad/lista/"+s),t={servicio:a},e.next=4,X(t);case 4:(n=e.sent)&&(g(n.facultades),n.facultades[0]&&S(6===m?n.facultades[0].ID_PROGRAMA:n.facultades[0].FACULTAD.ID_PROGRAMA));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[m,s]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 6===m?a="/api/programa/lista/"+j:2===m&&(a="/api/programa/lista/"+s+"/"+j),t={servicio:a},e.next=4,X(t);case 4:null!==(n=e.sent)&&(6===m?(x(n.programa),n.programa[0]&&(T(n.programa[0].ID_PROGRAMA),console.log("asdf",N))):2===m&&(x(n.programas),n.programas[0]&&(T(n.programas[0].ID_PROGRAMA),console.log("asdf",N))));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==j&&function(){e.apply(this,arguments)}()}),[j]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={servicio:"/api/tutor/lista/"+N},e.next=4,X(a);case 4:(t=e.sent)&&(n=cn(t.tutores,j,N),L(Object(E.a)(Object(E.a)({},M),{},{data:n.data})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}-1!==N&&function(){e.apply(this,arguments)}()}),[N]),r.a.createElement("div",null,r.a.createElement(xa,{titulo:"Tutores"}),r.a.createElement(R.a,{container:!0,justify:"center",alignItems:"center",spacing:4,md:12},r.a.createElement(R.a,{item:!0,xs:12,md:8},r.a.createElement(y.a,{className:e.caja},r.a.createElement(R.a,{container:!0,spacing:3,justify:"center"},r.a.createElement(R.a,{item:!0,xs:10,md:4},r.a.createElement(Kt,{programas:O,programa:j,setPrograma:S})),r.a.createElement(R.a,{item:!0,xs:10,md:4},r.a.createElement(Yt,{programas:I,programa:N,setPrograma:T})),r.a.createElement(R.a,{item:!0,xs:10,md:2},r.a.createElement(Zt,{datos:i,setDatos:o}))))),r.a.createElement(R.a,{item:!0,xs:12,md:11,style:{marginBottom:"3%"}},r.a.createElement(ln,{columnas:M.columns,datos:M.data}))))},dn=t(1270),pn=t(352),hn=t.n(pn),fn=t(353),On=t.n(fn),gn=(t(582),{paper:{marginTop:"1%",marginRight:"10%",marginLeft:"10%",flexDirection:"column"},paperStrecht:{marginTop:"1%",marginRight:"1%",marginLeft:"1%",flexDirection:"column"}}),bn=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).handle=function(a,t){console.log("+.+ etiqueta",a),console.log("+.+ valor",t);var n={id:a,agregar:t},r=e.state.etiquetasSeleccionadas,i=!1,o=!1;r.forEach((function(e){e.id===n.id&&(i=!0,e.agregar!==n.agregar&&(e.agregar=n.agregar,o=!0))})),i&&!o||(i||r.push(n),e.setState({etiquetasSeleccionadas:r}),e.props.obtenerEtiquetas(e.state.etiquetasSeleccionadas))},e.state={etiquetas:[],etiquetasSeleccionadas:[],icon:r.a.createElement(hn.a,{fontSize:"small",color:"primary"}),checkedIcon:r.a.createElement(On.a,{fontSize:"small",color:"primary"})},e.handle=e.handle.bind(Object(M.a)(e)),e.getValueEnSubNivel=e.getValueEnSubNivel.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:this.props.enlace});case 2:if(a=e.sent){e.next=5;break}return e.abrupt("return");case 5:this.setState({etiquetas:this.props.keyServicio?a[this.props.keyServicio]:a.etiquetas});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getValueEnSubNivel",value:function(e){var a=e;this.props.keySubNivel.forEach((function(e){a=a[e]}));var t=this.props.valueSubNivel,n="";return t.forEach((function(e){n=n+" "+a[e]})),n}},{key:"render",value:function(){var e=this;return r.a.createElement(y.a,{elevation:0,style:this.props.strecht?gn.paperStrecht:gn.paper},this.props.titulo?r.a.createElement(k.a,{id:"demo-simple-select-placeholder-label-label"},this.props.titulo):r.a.createElement(r.a.Fragment,null),this.props.small?r.a.createElement(r.a.Fragment,null):r.a.createElement("br",null),r.a.createElement(dn.a,{color:"primary",multiple:!0,options:this.state.etiquetas||[],disableCloseOnSelect:!0,getOptionLabel:function(a){return e.props.keySubNivel?e.getValueEnSubNivel(a):a.DESCRIPCION},renderOption:function(a,t){var n=t.selected;return e.handle(e.props.ID?a[e.props.ID]:a.ID_ETIQUETA,n),r.a.createElement(r.a.Fragment,null,r.a.createElement(va.a,{color:"primary",checkedIcon:e.state.checkedIcon,style:{marginRight:8},checked:n}),e.props.keySubNivel?e.getValueEnSubNivel(a):a.DESCRIPCION)},renderInput:function(a){return r.a.createElement(B.a,Object.assign({},a,{variant:"outlined",label:e.props.label||"Etiquetas",color:"primary"}))}}))}}]),t}(r.a.Component),En={paper:{marginLeft:"10%",marginRight:"10%",marginTop:"3%",flexDirection:"column"}},vn=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={listaItems:[],item:[],mensajeError:"",local:!1},e.handleOnChange=e.handleOnChange.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"handleOnChange",value:function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.state.listaItems.length){e.next=2;break}return e.abrupt("return");case 2:if(this.state.mensajeError.length>0&&this.setState({mensajeError:""}),t=a.target.value,n=[],!this.props.allObject){e.next=10;break}return e.next=8,this.props.escogerItem(t);case 8:e.next=14;break;case 10:return n.push(t[this.props.id]),n.push(t.DURACION),e.next=14,this.props.escogerItem(n);case 14:this.setState({item:a.target.value});case 15:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.datos){e.next=4;break}a=this.props.datos,e.next=9;break;case 4:return e.next=6,X({servicio:this.props.enlace});case 6:if(a=e.sent){e.next=9;break}return e.abrupt("return");case 9:if(a[this.props.keyServicio]&&0!==a[this.props.keyServicio].length){e.next=15;break}return this.props.allObject?this.props.escogerItem(void 0):this.props.escogerItem([0]),e.next=13,this.setState({listaItems:[]});case 13:e.next=21;break;case 15:if(!(a[this.props.keyServicio].length>0)){e.next=21;break}return this.setState({item:a[this.props.keyServicio][0]}),e.next=19,this.setState({listaItems:a[this.props.keyServicio]});case 19:return e.next=21,this.props.escogerItem(this.props.subnombre?[this.state.item[this.props.subnombre][this.props.id]]:[this.state.item[this.props.id],this.state.item.DURACION]);case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(){var e=Object(l.a)(c.a.mark((function e(a){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.enlace===this.props.enlace){e.next=21;break}return e.next=3,X({servicio:a.enlace});case 3:if((t=e.sent)[this.props.keyServicio]&&0!==t[this.props.keyServicio].length){e.next=10;break}return this.props.allObject?this.props.escogerItem(void 0):this.props.escogerItem([0]),e.next=8,this.setState({listaItems:[]});case 8:e.next=21;break;case 10:if(!(t[this.props.keyServicio].length>0)){e.next=21;break}return this.setState({item:t[this.props.keyServicio][0]}),e.next=14,this.setState({listaItems:t[this.props.keyServicio]});case 14:if(!this.props.allObject){e.next=19;break}return e.next=17,this.props.escogerItem(this.props.subnombre?this.state.item[this.props.subnombre]:this.state.item);case 17:e.next=21;break;case 19:return e.next=21,this.props.escogerItem(this.props.subnombre?[this.state.item[this.props.subnombre][this.props.id]]:[this.state.item[this.props.id]]);case 21:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return 0===this.state.listaItems.length?r.a.createElement("h1",null):r.a.createElement(y.a,{elevation:0,style:En.paper},this.props.small?r.a.createElement(r.a.Fragment,null):r.a.createElement("br",null),r.a.createElement(x.a,{fullWidth:!0},r.a.createElement(k.a,null,this.props.titulo),r.a.createElement(sa.a,{value:this.state.item,onChange:this.handleOnChange},this.state.listaItems.map((function(a){return r.a.createElement(ca.a,{key:e.props.subnombre?a[e.props.subnombre][e.props.id]:a[e.props.id],value:a},e.props.subnombre?a[e.props.subnombre][e.props.nombre]:a[e.props.nombre])}))),r.a.createElement(G.a,null,this.props.placeholder?this.props.placeholder:"")),r.a.createElement(G.a,{error:!0},this.state.mensajeError))}}]),t}(n.Component),jn={centerizable:{textAlign:"center",color:"#ffffff"},verderizable:{backgroundColor:"#3AAFA9"}},Sn=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={titulo:""},e}return Object(w.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:jn.verderizable},r.a.createElement("br",null),r.a.createElement(I.a,{variant:"h6",style:jn.centerizable},this.props.titulo),r.a.createElement("br",null))}}]),t}(n.Component),An=(t(1040),{generalBlanco:{marginTop:"2%",textAlign:"center",backgroundColor:"#ffffff"},general:{textAlign:"center"},loading:{marginTop:"25%",color:"#3AAFA9",textAlign:"center"},miniLoading:{color:"#3AAFA9",textAlign:"center"},md:{textAlign:"center",marginTop:"15%"},lg:{textAlign:"center",marginTop:"30%"},base:{height:"20px"},tema:{background:"#3AAFA9"}}),Cn=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={},e}return Object(w.a)(t,[{key:"render",value:function(){var e=this.props,a=e.size,t=e.base,n=e.fondoBlanco;return"lg"===a?r.a.createElement("div",{style:An.general},r.a.createElement("div",{className:"lds-roller",style:An.lg},r.a.createElement("div",{style:An.tema}),r.a.createElement("div",{style:An.tema}),r.a.createElement("div",{style:An.tema}),r.a.createElement("div",{style:An.tema}),r.a.createElement("div",{style:An.tema}),r.a.createElement("div",{style:An.tema}),r.a.createElement("div",{style:An.tema}),r.a.createElement("div",{style:An.tema})),r.a.createElement("p",null,this.props.mensaje),r.a.createElement("div",{style:t?An.base:{display:"none"}})):"md"===a?r.a.createElement("div",{style:n?An.generalBlanco:An.general},r.a.createElement("div",{className:"lds-roller",style:An.md},r.a.createElement("div",{style:An.tema}),r.a.createElement("div",{style:An.tema}),r.a.createElement("div",{style:An.tema}),r.a.createElement("div",{style:An.tema}),r.a.createElement("div",{style:An.tema}),r.a.createElement("div",{style:An.tema}),r.a.createElement("div",{style:An.tema}),r.a.createElement("div",{style:An.tema})),r.a.createElement("p",null,this.props.mensaje),r.a.createElement("div",{style:t?An.base:{display:"none"}})):r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("div",{className:"lds-roller",style:"xs"===this.props.size?An.miniLoading:An.loading},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)),r.a.createElement("p",null,this.props.mensaje))}}]),t}(n.Component),In=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).handleOnChange=function(a){var t=Object.assign({},e.state.alumno);t[a.name]=a.value,e.setState({alumno:t})},e.handleTabOnChange=function(e){},e.handleOnChangeEtiquetas=function(a){var t=[];a.forEach((function(e){e.agregar&&t.push(e.id)})),e.setState({etiqueta:t})},e.state={modal:!1,institucion:{ID:"",NOMBRE:"",INICIALES:"",IMAGEN:"",TELEFONO:"",PAGINA_WEB:"",DOMINIO:"",DOMINIO2:"",UBICACION:"",EXTENSION:""},validacionNombreMensaje:"",programas:["","Ingenieria Informatica","Ingenieria industrial","Ingenieria Civil","Ingenieria Mecatronica"],programaActual:[],etiqueta:[],alumno:{codigo:"",nombres:"",apellidos:"",correo:"",programa:[],telefono:"",direccion:""},mensaje:{codigo:"",nombres:"",apellidos:"",correo:"",programa:"",telefono:"",direccion:""},alert:{mensajeStrong:"",mensajeStrongError:"por favor revisalos!",mensajeStrongExito:"satisfactoriamente!",mensajeError:"Existen errores al completar el formulario",mensajeExito:"Alumno registrado",mensaje:""},severidad:"warning",validacionOk:!1,errores:[]},e.handleOnChangeEtiquetas=e.handleOnChangeEtiquetas.bind(Object(M.a)(e)),e.handleOnClick=e.handleOnClick.bind(Object(M.a)(e)),e.handleOnChangePrograma=e.handleOnChangePrograma.bind(Object(M.a)(e)),e.handleOnChange=e.handleOnChange.bind(Object(M.a)(e)),e.validarEntrada=e.validarEntrada.bind(Object(M.a)(e)),e.handleOnChangeFacultad=e.handleOnChangeFacultad.bind(Object(M.a)(e)),e.getSubRol=e.getSubRol.bind(Object(M.a)(e)),e.getEnlace=e.getEnlace.bind(Object(M.a)(e)),e.mostrarAlerta=e.mostrarAlerta.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"validarEntrada",value:function(e){var a=void 0,t=!1,n=this.state.errores.forEach((function(t){t.llave===e.llave&&(a=t)}));if(a?0===e.error.length&&(n=!0):0!==e.error.length&&(t=!0),t){var r=this.state.errores;return r.push(e),void this.setState({errores:r})}if(n){var i=[];this.state.errores.forEach((function(a){a.llave!==e.llave&&i.push(a)})),this.setState({errores:i})}}},{key:"limpiarAlerta",value:function(){var e=Object.assign({},this.state.alert);e.mensaje="",e.mensajeStrong="",this.setState({alert:e}),this.setState({severidad:"warning"})}},{key:"mostrarAlerta",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t){var n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:new Promise(function(){var e=Object(l.a)(c.a.mark((function e(r,i){var o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(o=Object.assign({},n.state.alert)).mensaje=o.mensajeError,o.mensajeStrong=t,n.setState({alert:o}),n.setState({severidad:a}),r();case 6:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()),new Promise(function(){var e=Object(l.a)(c.a.mark((function e(a,t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,setTimeout(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.limpiarAlerta();case 1:case"end":return e.stop()}}),e)}))),2e3);case 2:a();case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"handleOnClick",value:function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n,r,i,o,s,l,u,m,d,p,h,f,O,g,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.institucion.DOMINIO,n=this.state.institucion.DOMINIO2,r=this.state.alumno.correo,t||n){e.next=6;break}return this.mostrarAlerta("error","Primero debe registrar alg\xfan dominio para los correos de la instituci\xf3n."),e.abrupt("return");case 6:if(!(t.length>0&&r.substr(-t.length)!==t&&n.length>0&&r.substr(-n.length)!==n)){e.next=9;break}return this.mostrarAlerta("error","El correo debe pertenecer a los dominios de la instituci\xf3n."),e.abrupt("return");case 9:if(0!==this.state.errores.length){e.next=29;break}return i=this.state.alumno,o=i.nombres,s=i.apellidos,l=i.codigo,u=i.correo,i.programa,m=i.telefono,d=i.direccion,p={alumno:{APELLIDOS:s,CODIGO:l,CONTRASENHA:"contra",CORREO:u,DIRECCION:d,NOMBRE:o,PROGRAMA:this.state.programaActual,TELEFONO:m,USUARIO:"UsuarioPruebaRegistrar",ETIQUETA:this.state.etiqueta}},h={servicio:"/api/alumno",request:p},e.next=15,$(h);case 15:if(!(f=e.sent)){e.next=27;break}if(!f.error){e.next=21;break}return O=Object.assign({},this.state.alert),this.mostrarAlerta("error","".concat(O.mensajeError,": ").concat(f.error)),e.abrupt("return");case 21:(g=Object.assign({},this.state.alert)).mensaje=g.mensajeExito,g.mensajeStrong=g.mensajeStrongExito,this.setState({alert:g}),this.setState({severidad:"success"}),this.state.alert.mensaje=this.state.alert.mensajeExito;case 27:e.next=35;break;case 29:(b=Object.assign({},this.state.alert)).mensaje="".concat(b.mensajeError,": ").concat(this.state.errores.map((function(e){return e.error}))),b.mensajeStrong=b.mensajeStrongError,this.setState({alert:b}),this.setState({severidad:"error"}),this.state.alert.mensaje=this.state.alert.mensajeError;case 35:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"handleOnChangePrograma",value:function(e){this.setState({programaActual:[e[0]]})}},{key:"handleOnChangeFacultad",value:function(e){var a=Q().usuario,t=this.getSubRol(Q().rol),n=a.ID_USUARIO,r=a?"facultad"===t?"/api/programa/lista/".concat(e[0]):"programa"===t?"/api/programa/lista/".concat(n,"/").concat(e[0]):"":"";this.setState({filtroFacultad:r})}},{key:"getSubRol",value:function(e){var a=null===e||void 0===e?void 0:e.split(" ");return a?a[1].toLowerCase():""}},{key:"getEnlace",value:function(e){var a=this.getSubRol(Q().rol),t=e.ID_USUARIO;return e?"facultad"===a?"/api/facultad/coordinador/"+t:"programa"===a?"/api/facultad/lista/"+t:"":""}},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a,t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/institucion"});case 2:(a=e.sent).institucion||(t=Object(u.a)(this.context,2),n=t[0],n.openMensaje,n.mensaje,r=t[1],he(r,{open:!0,mensaje:"W>Los datos de la institucion no se cargaron correctamente, intente nuevamente en unos instantes."})),this.setState({institucion:a.institucion}),void 0!==this.props.modalOrden&&this.setState({modal:!0});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){this.props.modalOrden!==e.modalOrden&&this.handleOnClick()}},{key:"render",value:function(){return this.state.institucion?r.a.createElement(r.a.Fragment,null,r.a.createElement(se,{severity:this.state.severidad,titulo:"Observacion:",alerta:this.state.alert}),r.a.createElement(R.a,{container:!0,spacing:0},r.a.createElement(R.a,{item:!0,md:6,xs:12},r.a.createElement(H,{requerido:!0,autoFocus:!0,name:"nombres",label:"Nombres",inicial:"",validacion:{lim:25},onChange:this.handleOnChange,validarEntrada:this.validarEntrada}),r.a.createElement(H,{requerido:!0,autoFocus:!0,name:"apellidos",label:"Apellidos",validacion:{lim:50},onChange:this.handleOnChange,validarEntrada:this.validarEntrada}),r.a.createElement(H,{requerido:!0,autoFocus:!0,name:"correo",type:"email",label:"Correo",validacion:{lim:35,tipo:"email"},dominio:this.state.institucion.DOMINIO,dominio2:this.state.institucion.DOMINIO2,onChange:this.handleOnChange,validarEntrada:this.validarEntrada}),r.a.createElement(H,{requerido:!1,autoFocus:!0,name:"telefono",label:"Tel\xe9fono",validacion:{lim:45,tipo:"telefono"},onChange:this.handleOnChange,validarEntrada:this.validarEntrada}),r.a.createElement(H,{requerido:!1,autoFocus:!0,name:"direccion",label:"Direcci\xf3n",validacion:{lim:50,tipo:"direccion"},onChange:this.handleOnChange,validarEntrada:this.validarEntrada}),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(R.a,{item:!0,md:6,xs:12},r.a.createElement(H,{requerido:!0,autoFocus:!0,name:"codigo",label:"C\xf3digo",validacion:{lim:10,tipo:"codigo"},onChange:this.handleOnChange,validarEntrada:this.validarEntrada}),r.a.createElement(vn,{mensaje:"facultad",titulo:"Facultad",enlace:this.getEnlace(Q().usuario),id:"ID_PROGRAMA",nombre:"NOMBRE",subnombre:"programa"===this.getSubRol(Q().rol)?"FACULTAD":void 0,keyServicio:"facultades",escogerItem:this.handleOnChangeFacultad,small:!0,inicial:!0,placeholder:"Escoja la facultad"}),this.state.filtroFacultad?r.a.createElement(vn,{mensaje:"programa",titulo:"Programa",enlace:this.state.filtroFacultad,id:"ID_PROGRAMA",nombre:"NOMBRE",keyServicio:"programa"===this.getSubRol(Q().rol)?"programas":"programa",escogerItem:this.handleOnChangePrograma,small:!0,inicial:!0,placeholder:"Escoja el programa"}):r.a.createElement(r.a.Fragment,null),r.a.createElement(bn,{strecht:!1,titulo:"Etiquetas(opcional):",obtenerEtiquetas:this.handleOnChangeEtiquetas,enlace:"/api/etiqueta"}),r.a.createElement(R.a,{item:!0,md:12,xs:12,style:{alignText:"center"}},r.a.createElement(z,{N:3}),r.a.createElement(D.a,{type:"submit",size:"large",variant:"contained",color:"primary",onClick:this.handleOnClick,style:{display:this.state.modal?"none":"block"}},"Guardar"))))):r.a.createElement(r.a.Fragment,null)}}]),t}(n.Component);In.contextType=fe;var Rn=In,yn=t(355),xn=t.n(yn),kn=t(354),Dn=t.n(kn),Nn=function(){var e=Object(l.a)(c.a.mark((function e(a,t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){try{var i=[],o=a[t],s=o[0];s.forEach((function(e){n?i.push({title:e.toUpperCase(),field:e.toLowerCase(),grouping:!1}):i.push({title:e,field:e.toLowerCase()})}));var c=[];o=o.slice(1);var l=!1;o.forEach((function(e,a){var t={},r=[];t.key=a,i.forEach((function(a,n){t[a.field]=e[n],r+=Mn(e[n],a.field)})),n&&(r.length>0?(l=!0,t[n.toLowerCase()]="Con errores",t.errores=r):t[n.toLowerCase()]="Sin errores"),c.push(t)})),n&&l&&(i.push({title:n,field:n.toLowerCase(),defaultGroupOrder:0}),i.push({title:"ERRORES",field:"errores",grouping:!1})),e({data:c,columns:i,huboErrores:l})}catch(u){e({data:[],columns:[]})}})));case 1:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),Tn=function(){var e=Object(l.a)(c.a.mark((function e(a,t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var i=a,o=[],s=!1;try{t.forEach((function(e){n?o.push({title:e,field:e.toLowerCase(),grouping:!1}):o.push({title:e,field:e.toLowerCase()})})),i.forEach((function(e,a){e.key=a;var r=[];t.forEach((function(a){e[a.toLowerCase()]||(e[a.toLowerCase()]=""),r+=Mn(e[a.toLowerCase()],a.toLowerCase())})),r.length>0?(s=!0,e[n.toLowerCase()]="Con errores",e.errores=r):e[n.toLowerCase()]="Sin errores"})),n&&s&&(o.push({title:n,field:n.toLowerCase(),defaultGroupOrder:0}),o.push({title:"Errores",field:"errores",grouping:!1})),e({data:i,columns:o,huboErrores:s})}catch(c){r()}})));case 1:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),Un={email:/^[a-z0-9](\.?[a-z0-9]){5,}@pucp(\.edu)?\.pe$/,codigo:/^[a-zA-Z0-9]*$/,telefono:/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im,direccion:/[A-Za-z\xe1\xe9\xed\xf3\xfa\xf10-9 ()-,.]+/i},wn={nombre:{lim:25,req:!0},apellidos:{lim:50,req:!0},correo:{lim:35,tipo:"email",req:!0},telefono:{lim:45,tipo:"telefono",req:!1},direccion:{lim:50,tipo:"direccion",req:!0},codigo:{lim:10,tipo:"codigo",req:!0}},Mn=function(e,a){var t=wn[a];if(!t.req)return[];var n=[];if(0===e.length&&n.push("*".concat(a," no puede ser vacio\n")),e.length>t.lim&&n.push("*".concat(a," debe ser maximo de ").concat(t.lim," caracteres\n")),"email"===t.tipo&&"pucp.pe"!==e.substr(-"pucp.pe".length)&&"pucp.edu.pe"!==e.substr(-"pucp.edu.pe".length)){var r="";r+="pucp.pe",r+=" - pucp.edu.pe",n.push('* Un correo valido debe contener caracteres alfanumericos, un "@" y ser del dominio de la instituci\xf3n: '.concat(r,"\n"))}return"telefono"===t.tipo&&Un.telefono.test(String(e))&&n.push("* Un telefono valido debe contener caracteres numericos y los caracteres - , +, ( , )\n"),"direccion"===t.tipo&&(Un.direccion.test(String(e))||n.push("* Una direccion valido debe contener caracteres alfanumericos y los caracteres - , ( , )\n")),"codigo"===t.tipo&&(Un.codigo.test(String(e))||n.push("* Un codigo valido debe contener caracteres alfanumericos y caracters especiales\n")),n},Ln=t(172),Pn=t.n(Ln),Fn=t(189),Bn=t.n(Fn),Gn=(t(1041),t(1169),{centerDialog:{marginLeft:"1%",marginRight:"1%",color:"#002D3D",textAlign:"center",minHeight:550,maxHeight:900}}),qn=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={open:!1},e.handleClose=e.handleClose.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"handleClose",value:function(){this.props.hadleClose()}},{key:"componentDidMount",value:function(){this.setState({open:!1})}},{key:"render",value:function(){var e=this,a=this.props.maxWidth,t="xl"===a?1:2;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Oa.a,{open:this.props.open,onClose:function(){return e.handleClose},scroll:"paper",fullWidth:!0,maxWidth:a,"aria-describedby":"scroll-dialog-description","aria-labelledby":"max-width-dialog-title"},r.a.createElement(Ea.a,{id:"scroll-dialog-title"},r.a.createElement(R.a,{container:!0,spacing:2},r.a.createElement(R.a,{item:!0,md:t,xs:t},r.a.createElement(de,{src:"https://ututor-recursos.s3.amazonaws.com/ututor-main-logo-inverted.png",square:!0})),r.a.createElement(R.a,{item:!0,md:12-t,xs:12-t},r.a.createElement(Sn,{titulo:this.props.titulo})))),r.a.createElement(ba.a,{dividers:"paper"},r.a.createElement(nn.a,{style:Gn.centerDialog,id:"scroll-dialog-description",tabIndex:-1},this.props.body)),this.props.botonIzquierdo||this.props.botonDerecho?r.a.createElement(ga.a,null,this.props.botonIzquierdo?r.a.createElement(D.a,{onClick:this.handleClose,variant:"outlined",color:"primary"},this.props.botonIzquierdo):r.a.createElement(r.a.Fragment,null),this.props.botonDerecho?r.a.createElement(D.a,{onClick:Object(l.a)(c.a.mark((function a(){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.props.botonDerecho.onClick();case 2:case"end":return a.stop()}}),a)}))),variant:"contained",color:"primary"},this.props.botonDerecho.name):r.a.createElement(r.a.Fragment,null)):r.a.createElement(r.a.Fragment,null)))}}]),t}(n.Component),_n={imagen:{objectFit:"cover",width:"100%"}},Hn=(n.Component,t(156)),zn=t.n(Hn),Vn={paper:{marginTop:"1%",marginLeft:"1%",marginRight:"1%"},divini:{width:"100%",height:"100%"}},Wn=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).handleOnClickRegistroSSJ_masivo=Object(l.a)(c.a.mark((function a(){var t,n,r,i,o,s,m,d;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=Object(u.a)(e.context,2),n=t[0],n.openMensaje,n.mensaje,r=t[1],he(r,{open:!0,mensaje:"L>Registrando alumnos en lote. Profavor espere"}),(i=e.state.alumnosTabla.data)&&0!==(null===i||void 0===i?void 0:i.length)){a.next=12;break}return(o=e.state.mensajesResultado).push("No hay registros que Registrar"),e.setState({mensajesResultado:o}),he(r,{open:!1,mensaje:"N>Naranjas"}),he(r,{open:!0,mensaje:"W>Aun no hay datos que registrar"}),a.abrupt("return");case 12:he(r,{open:!1,mensaje:"N>Naranjas"}),he(r,{open:!0,mensaje:"L>Registrando ".concat(i.length," alumnos en lote. Profavor espere")});case 14:return s=e.state.columnasLimpias,m=[],a.next=18,i.forEach(function(){var a=Object(l.a)(c.a.mark((function a(t){var n;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={},a.next=3,s.forEach((function(e){n[e.toUpperCase()]=t[e.toLowerCase()]}));case 3:n.PROGRAMA=[e.state.programas[0]],n.CONTRASENHA="contra",n.USUARIO=n.CORREO,n.ETIQUETA=e.state.etiquetas,m.push(n);case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());case 18:return d=void 0,a.next=21,$({servicio:"/api/alumno/registromasivo",request:{alumnos:m}});case 21:(d=a.sent)?d.errores?(he(r,{open:!1,mensaje:"N>Naranjas"}),he(r,{open:!0,mensaje:"X> Se encontro el siguiente error: ".concat(d.errores,". \nNo se pudo registrar a los alumnos en lote. No se registrar\xf3 ningun alumno, porfavor corrija los errores e intentelo nuevamente.")})):(he(r,{open:!1,mensaje:"N>Naranjas"}),he(r,{open:!0,mensaje:"C>Se registr\xf3 satisfactoriamente a todos los alumnos en lote ."})):(he(r,{open:!1,mensaje:"N>Naranjas"}),he(r,{open:!0,mensaje:"X>No se pudo registrar los alumnos en lote. \nProfavor intente nuevamente en unos intantes"})),e.removerDatos();case 24:case"end":return a.stop()}}),a)}))),e.handleOnChangeEtiquetas=function(){var a=Object(l.a)(c.a.mark((function a(t){var n;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=[],t.forEach((function(e){e.agregar&&n.push(e.id)})),a.next=4,e.setState({etiquetas:n});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),e.handleOnSuccesLoad=function(){var a=Object(l.a)(c.a.mark((function a(t,n){var r;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.setState({fileName:n});case 2:return a.next=4,Nn(t,"alumnos","Estado");case 4:return r=a.sent,e.setState({columnasLimpias:t.alumnos[0]}),a.next=8,e.setState({alumnosTabla:r});case 8:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),e.handleOnChangeTexto=function(a){var t=Object.assign({},e.state.tutoria);t[a.name]=a.value,e.setState({tutoria:t})},e.onUpdateDatos=function(){var a=Object(l.a)(c.a.mark((function a(t,n,r){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(){var a=Object(l.a)(c.a.mark((function a(i,o){var s,l;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s=e.state.alumnosTabla.data,a.t0=t,a.next="agregar"===a.t0?4:"eliminar"===a.t0?7:"actualizar"===a.t0?9:11;break;case 4:return r.key=s.length+1,s.push(r),a.abrupt("break",12);case 7:return s.splice(n,1),a.abrupt("break",12);case 9:return s[n]=r,a.abrupt("break",12);case 11:return a.abrupt("break",12);case 12:return a.next=14,Tn(s,e.state.columnasLimpias,"Estado");case 14:return l=a.sent,a.next=17,e.setState({alumnosTabla:{data:l.data,columns:l.columns,huboErrores:l.huboErrores},numUpdates:e.state.numUpdates?void 0:1});case 17:i();case 18:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()));case 1:case"end":return a.stop()}}),a)})));return function(e,t,n){return a.apply(this,arguments)}}(),e.state={peticiones:0,mensajesResultado:[],fileName:"",formato:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",maxTamanio:100,errores:[],alert:{mensajeStrong:"",mensajeStrongError:"por favor revisalos!",mensajeStrongExito:"satisfactoriamente!",mensajeError:"Existen errores al completar el formulario",mensajeExito:"Proceso de Tutoria registrado",mensaje:""},severidad:"warning",usuario:null,loguedIn:!1,alumnosTabla:{},numUpdates:0,columnasLimpias:[],etiquetas:[],open:!1},e.handleOnSuccesLoad=e.handleOnSuccesLoad.bind(Object(M.a)(e)),e.validarEntrada=e.validarEntrada.bind(Object(M.a)(e)),e.handleOnChangeTexto=e.handleOnChangeTexto.bind(Object(M.a)(e)),e.getSubRol=e.getSubRol.bind(Object(M.a)(e)),e.getEnlace=e.getEnlace.bind(Object(M.a)(e)),e.handleOnChangeFacultad=e.handleOnChangeFacultad.bind(Object(M.a)(e)),e.handleOnChangePrograma=e.handleOnChangePrograma.bind(Object(M.a)(e)),e.renderToolbar=e.renderToolbar.bind(Object(M.a)(e)),e.handleOnClickRegistroSSJ_masivo=e.handleOnClickRegistroSSJ_masivo.bind(Object(M.a)(e)),e.removerDatos=e.removerDatos.bind(Object(M.a)(e)),e.onUpdateDatos=e.onUpdateDatos.bind(Object(M.a)(e)),e.handleClickOpenLoading=e.handleClickOpenLoading.bind(Object(M.a)(e)),e.handleCloseLoading=e.handleCloseLoading.bind(Object(M.a)(e)),e.handleOnSuccesLoad=e.handleOnSuccesLoad.bind(Object(M.a)(e)),e.renderBodyLoading=e.renderBodyLoading.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"handleOnChangePrograma",value:function(e){this.setState({programas:e})}},{key:"handleOnChangeFacultad",value:function(e){var a=this.state.usuario,t=this.getSubRol(Q().rol),n=a.ID_USUARIO,r=a?"facultad"===t?"/api/programa/lista/".concat(e[0]):"programa"===t?"/api/programa/lista/".concat(n,"/").concat(e[0]):"":"";this.setState({filtroFacultad:r})}},{key:"getSubRol",value:function(e){var a=null===e||void 0===e?void 0:e.split(" ");return a?a[1].toLowerCase():""}},{key:"getEnlace",value:function(e){var a=this.getSubRol(Q().rol),t=e.ID_USUARIO;return e?"facultad"===a?"/api/facultad/coordinador/"+t:"programa"===a?"/api/facultad/lista/"+t:"":""}},{key:"validarEntrada",value:function(e){var a=void 0,t=!1,n=this.state.errores.forEach((function(t){t.llave===e.llave&&(a=t)}));if(a?0===e.error.length&&(n=!0):0!==e.error.length&&(t=!0),t){var r=this.state.errores;return r.push(e),void this.setState({errores:r})}if(n){var i=[];this.state.errores.forEach((function(a){a.llave!==e.llave&&i.push(a)})),this.setState({errores:i})}}},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props.usuario){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.setState({loguedIn:!0,usuario:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removerDatos",value:function(){this.setState({alumnosTabla:[]})}},{key:"renderToolbar",value:function(){var e,a=this;return r.a.createElement(R.a,{container:!0,spacing:2,style:{textAlign:"center",display:"flex"}},r.a.createElement(R.a,{item:!0,md:8,xs:12},r.a.createElement("h4",null,r.a.createElement(zn.a,null),"Descarga nuesta plantilla en .csv"),r.a.createElement("p",{className:"text-justify",style:{textAlign:"left",display:"flex"}},"Para poder imporar alumnos en lote, primero debes descargar nuestra plantilla de ejemplo. (contiene 2 alumnos). Luego debes subir tu archivo en el mismo formato. :)")),r.a.createElement(R.a,{item:!0,md:2,xs:!1}),r.a.createElement(R.a,{item:!0,md:2,xs:12},r.a.createElement("a",{id:"superDownload",href:"https://ututor-recursos.s3.amazonaws.com/TemplateCargaMasivaAlumnos_uTutor.csv",download:"Plantilla para carga masiva de alumnos.csv"},r.a.createElement(D.a,(e={color:"primary",variant:"outlined"},Object(N.a)(e,"color","primary"),Object(N.a)(e,"onClick",(function(){})),Object(N.a)(e,"startIcon",r.a.createElement(xn.a,null)),e),"Descargar Plantilla"))),r.a.createElement(F.a,null),r.a.createElement(R.a,{item:!0,md:2,xs:6},r.a.createElement(D.a,{color:"primary",onClick:function(){return a.removerDatos()},startIcon:r.a.createElement(Pn.a,null)},"Deshacer Carga")),r.a.createElement(R.a,{item:!0,md:8,xs:!1}),r.a.createElement(R.a,{item:!0,md:2,xs:6},r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:this.handleOnClickRegistroSSJ_masivo,startIcon:r.a.createElement(Bn.a,null)},"Registrar alumnos")))}},{key:"renderTable",value:function(e){var a=this;if(e!==this.state.datosNuevos)return r.a.createElement(Dn.a,{toolbar:function(){return a.renderToolbar()},title:"Vista Previa de los datos antes del registro (solo archivos .CSV)",agrupar:e.huboErrores,other:this.state.numUpdates,data:e.data,columns:e.columns,onUpdateDatos:this.onUpdateDatos,superPlaceHolder:!0,embebed:!1,handleOnSuccesLoad:this.handleOnSuccesLoad,formato:this.state.formato,maxTamanio:this.state.maxTamanio})}},{key:"handleClickOpenLoading",value:function(){this.setState({open:!0})}},{key:"handleCloseLoading",value:function(){var e=this;new Promise(function(){var a=Object(l.a)(c.a.mark((function a(t,n){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,setTimeout(Object(l.a)(c.a.mark((function a(){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.setState({open:!1,mensajesResultado:[],peticiones:0});case 1:case"end":return a.stop()}}),a)}))),5e3);case 2:t();case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}())}},{key:"renderBodyLoading",value:function(e){return r.a.createElement("div",null,r.a.createElement("h5",null,"Registrando Alumnos:"),r.a.createElement("ol",{style:{"text-align":"left"}},e.map((function(e){return r.a.createElement("li",null,e)}))))}},{key:"render",value:function(){return this.state.loguedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{container:!0,spacing:1,style:Vn.paper},r.a.createElement(R.a,{item:!0,md:2,xs:12},r.a.createElement(H,{variant:"outlined",name:"nombre",label:"Nombre del archivo",requerido:!0,autoFocus:!0,inicial:this.state.fileName,validacion:{lim:25},onChange:this.handleOnChangeTexto,validarEntrada:this.validarEntrada,value:this.state.fileName,disabled:!0})),r.a.createElement(R.a,{item:!0,md:3,xs:12},r.a.createElement(vn,{mensaje:"facultad",titulo:"Facultad",enlace:this.getEnlace(this.state.usuario),id:"ID_PROGRAMA",nombre:"NOMBRE",subnombre:"programa"===this.getSubRol(Q().rol)?"FACULTAD":void 0,keyServicio:"facultades",escogerItem:this.handleOnChangeFacultad,small:!0,inicial:!0,placeholder:"Escoja la facultad"})),r.a.createElement(R.a,{item:!0,md:3,xs:12},this.state.filtroFacultad?r.a.createElement(vn,{mensaje:"programa",titulo:"Programa",enlace:this.state.filtroFacultad,id:"ID_PROGRAMA",nombre:"NOMBRE",keyServicio:"programa"===this.getSubRol(Q().rol)?"programas":"programa",escogerItem:this.handleOnChangePrograma,small:!0,inicial:!0,placeholder:"Escoja el programa"}):r.a.createElement(r.a.Fragment,null)),r.a.createElement(R.a,{item:!0,md:4,xs:12},r.a.createElement(bn,{small:!0,strecht:!1,titulo:"Etiquetas(opcional):",obtenerEtiquetas:this.handleOnChangeEtiquetas,enlace:"/api/etiqueta"})),r.a.createElement(R.a,{item:!0,md:12,xs:12},this.renderTable(this.state.alumnosTabla)))):r.a.createElement(Cn,{mensaje:"Cargando",size:"xs"})}}]),t}(n.Component);Wn.contextType=fe;var Yn=Wn;var Jn=function(e){return r.a.createElement(Na.a,{title:"",columns:e.alumnos.columns,data:e.alumnos.data,options:{rowStyle:{backgroundColor:"#FFF"},headerStyle:{backgroundColor:"#3AAFA9",color:"#FFF",fontSize:14}}})},Kn={paper:{marginTop:"3%",marginLeft:"3%",display:"flex",flexDirection:"column",alignItems:"left",backgroundImage:""}},Qn=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={alumnos:{columns:[{title:"Nombre",field:"nombre"}],data:[{nombre:""}]},alumnosSeleccionados:[]},e.handleOnChangeChecked=e.handleOnChangeChecked.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a,t,n,i,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/alumno/"});case 2:a=e.sent,t=[],n=Object(ka.a)(a.alumnos);try{for(n.s();!(i=n.n()).done;)o=i.value,t.push({codigo:o.USUARIO.CODIGO,nombre:o.USUARIO.NOMBRE+" "+o.USUARIO.APELLIDOS,correo:o.USUARIO.CORREO,checkbox:r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",id:o.ID_USUARIO,name:"alumnos",value:o.ID_USUARIO,onChange:this.handleOnChangeChecked}))})}catch(c){n.e(c)}finally{n.f()}s={columns:[{title:"C\xf3digo",field:"codigo"},{title:"Nombre",field:"nombre"},{title:"Correo Electr\xf3nico",field:"correo"},{title:"",field:"checkbox"}],data:t},this.setState({alumnos:s});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleOnChangeChecked",value:function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.target.value,n=document.getElementById(a.target.value),0!==this.state.alumnosSeleccionados.length?!1===n.checked?-1!==(r=this.state.alumnosSeleccionados.findIndex((function(e){return e===t})))&&this.state.alumnosSeleccionados.splice(r,1):this.state.alumnosSeleccionados.push(t):!0===n.checked&&this.state.alumnosSeleccionados.push(t),e.next=5,this.props.escogerAlumnos(this.state.alumnosSeleccionados);case 5:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y.a,{elevation:0,style:Kn.paper},r.a.createElement(Jn,{alumnos:this.state.alumnos})))}}]),t}(r.a.Component),Xn=(n.Component,t(356)),Zn=t.n(Xn),$n={paper:{marginTop:"1%",marginLeft:"1%",marginRight:"1%"},margen:{marginTop:"1%",marginLeft:"4%",marginRight:"4%"},divini:{width:"100%",height:"100%",objectFit:"cover",marginRight:"4%"}},er=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).handleOnChangeTexto=function(a){e.setState({descripcion:a.value})},e.handleOnSuccesLoadURL=function(){var a=Object(l.a)(c.a.mark((function a(t,n,r){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.length,a.next=3,e.setState({FILE:t});case 3:e.setState({fileName:n,ext:r}),"pdf"===r&&e.setState({PDFURL:t});case 5:case"end":return a.stop()}}),a)})));return function(e,t,n){return a.apply(this,arguments)}}(),e.handleOnSuccesLoad=function(){var a=Object(l.a)(c.a.mark((function a(t,n){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.setState({fileName:n}),e.setState({FILE:t});case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),e.handleOnClickRegistroSSJ_masivo=Object(l.a)(c.a.mark((function a(){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:new Promise(function(){var a=Object(l.a)(c.a.mark((function a(t,n){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,setTimeout(Object(l.a)(c.a.mark((function a(){var t;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t={archivo:{ID_ALUMNO:e.props.idAlumno,ARCHIVO:e.state.FILE,EXTENSION:e.state.ext,DESCRIPCION:"".concat(e.state.descripcion)}},a.next=3,$({servicio:"/api/alumno/informacionrelevante",request:t});case 3:if(a.sent){a.next=8;break}return a.abrupt("return");case 8:case"end":return a.stop()}}),a)}))),1e3);case 2:t();case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}());case 1:case"end":return a.stop()}}),a)}))),e.state={ext:"",FILE:void 0,PDFURL:void 0,formato:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",maxTamanio:100,errores:[],alert:{mensajeStrong:"",mensajeStrongError:"por favor revisalos!",mensajeStrongExito:"satisfactoriamente!",mensajeError:"Existen errores al completar el formulario",mensajeExito:"Proceso de Tutoria registrado",mensaje:""},severidad:"warning",usuario:null,loguedIn:!1,alumnosTabla:{},numUpdates:0,columnasLimpias:[],etiquetas:[],descripcion:"",Npartes:0},e.handleOnSuccesLoad=e.handleOnSuccesLoad.bind(Object(M.a)(e)),e.validarEntrada=e.validarEntrada.bind(Object(M.a)(e)),e.getSubRol=e.getSubRol.bind(Object(M.a)(e)),e.getEnlace=e.getEnlace.bind(Object(M.a)(e)),e.handleOnChangeFacultad=e.handleOnChangeFacultad.bind(Object(M.a)(e)),e.handleOnChangePrograma=e.handleOnChangePrograma.bind(Object(M.a)(e)),e.renderToolbar=e.renderToolbar.bind(Object(M.a)(e)),e.handleOnClickRegistroSSJ_masivo=e.handleOnClickRegistroSSJ_masivo.bind(Object(M.a)(e)),e.removerDatos=e.removerDatos.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"handleOnChangePrograma",value:function(e){this.setState({programas:e})}},{key:"handleOnChangeFacultad",value:function(e){var a=this.state.usuario,t=this.getSubRol(Q().rol),n=a.ID_USUARIO,r=a?"facultad"===t?"/api/programa/lista/".concat(e[0]):"programa"===t?"/api/programa/lista/".concat(n,"/").concat(e[0]):"":"";this.setState({filtroFacultad:r})}},{key:"getSubRol",value:function(e){var a=null===e||void 0===e?void 0:e.split(" ");return a?a[1].toLowerCase():""}},{key:"getEnlace",value:function(e){var a=this.getSubRol(Q().rol),t=e.ID_USUARIO;return e?"facultad"===a?"/api/facultad/coordinador/"+t:"programa"===a?"/api/facultad/lista/"+t:"":""}},{key:"validarEntrada",value:function(e){}},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a,t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props,t=a.usuario,n=a.idAlumno,t&&n){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.setState({loguedIn:!0,usuario:t});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removerDatos",value:function(){this.setState({PDFURL:void 0})}},{key:"renderToolbar",value:function(){}},{key:"render",value:function(){var e=this;return this.state.loguedIn?r.a.createElement(R.a,{container:!0,spacing:2,style:{textAlign:"center"}},r.a.createElement(R.a,{container:!0,spacing:0},this.state.PDFURL?r.a.createElement(R.a,{item:!0,md:2,xs:6},r.a.createElement(D.a,{color:"primary",onClick:function(){return e.removerDatos()},startIcon:r.a.createElement(Pn.a,null)},"Deshacer Carga")):r.a.createElement(R.a,{item:!0,md:2,xs:!1}),r.a.createElement(R.a,{item:!0,md:5,xs:12},r.a.createElement("h3",null,"Vista Previa: (Solo archivos .pdf)")),r.a.createElement(R.a,{item:!0,md:3,xs:12},r.a.createElement(H,{variant:"outlined",name:"nombre",label:"Descripcion o comentarios",requerido:!0,autoFocus:!0,inicial:this.state.fileName,validacion:{lim:25},onChange:this.handleOnChangeTexto,validarEntrada:this.validarEntrada,value:this.state.fileName})),this.state.PDFURL||this.state.FILE?r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{item:!0,md:2,xs:6},r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:this.handleOnClickRegistroSSJ_masivo,startIcon:r.a.createElement(Bn.a,null),disabled:!this.state.FILE},"Registrar"))):r.a.createElement(R.a,{item:!0,md:2,xs:!1})),r.a.createElement(R.a,{item:!0,md:12,xs:12},this.state.PDFURL?r.a.createElement("div",{style:$n.divini},r.a.createElement("iframe",{src:this.state.PDFURL,height:800,frameborder:"1",allowfullscreen:!0,sandbox:!0,width:"100%"})):r.a.createElement(y.a,{style:$n.margen},r.a.createElement(Zn.a,{embebed:!0,contained:!0,id_drop_zone:"drop_zone_archivo",onSuccesLoadURL:this.handleOnSuccesLoadURL,onSuccesLoad:this.handleOnSuccesLoad,formato:this.state.formato,maxTamanio:this.state.maxTamanio,extension:"any"})))):r.a.createElement("h1",null,"Algo paso reintente en un momento")}}]),t}(n.Component),ar=t(651),tr=t.n(ar),nr=t(650),rr=t.n(nr),ir={paper:{marginTop:"1%",marginLeft:"1%",marginRight:"1%"},margen:{marginTop:"1%",marginLeft:"4%",marginRight:"4%"},divini:{width:"100%",height:"100%",objectFit:"cover",marginRight:"4%"},fa:{fontSize:"1.3rem",color:"#2E908A"}},or=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e,n;return Object(U.a)(this,t),(n=a.call(this)).handleOnChangeTexto=function(e){n.setState({descripcion:e.value})},n.handleOnSuccesLoad=function(){var e=Object(l.a)(c.a.mark((function e(a,t,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.length,e.next=3,n.setState({archivo:a,fileName:t,ext:r,extension:r,botonRegistrar:!0});case 3:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),n.handleOnClickRegistroSSJ_masivo=Object(l.a)(c.a.mark((function e(){var a,t,r,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(u.a)(n.context,2),t=a[0],t.openMensaje,t.mensaje,r=a[1],he(r,{open:!0,mensaje:"L>Registrando Archivo: ".concat(n.state.descripcion)}),i={archivo:{ID_ALUMNO:n.props.idAlumno,ARCHIVO:n.state.archivo,EXTENSION:n.state.ext,DESCRIPCION:"".concat(n.state.descripcion)}},e.next=5,$({servicio:"/api/alumno/informacionrelevante",request:i});case 5:(o=e.sent)?o.error?(he(r,{open:!1,mensaje:"X>"+o.error}),he(r,{open:!0,mensaje:"X>"+o.error})):o.informacionRelevante.ID_INFORMACION_RELEVANTE&&(he(r,{open:!1,mensaje:"C>Se registr\xf3 satisfactoriamente el archivo: "+n.state.file}),he(r,{open:!0,mensaje:"C>Se registr\xf3 satisfactoriamente el archivo: "+n.state.file}),n.refreshSSJ()):(he(r,{open:!1,mensaje:"W>Lo sentimos pero no se pudo registrar el archivo"+n.state.file+". Intentelo nuevamente en unos momentos."}),he(r,{open:!0,mensaje:"W>Lo sentimos pero no se pudo registrar el archivo"+n.state.file+". Intentelo nuevamente en unos momentos."}));case 7:case"end":return e.stop()}}),e)}))),n.state=(e={open:!1,mensajesResultado:[],botonRegistrar:!1,loading:1,idArchivo:0,descripcion:"",fileName:"",PDFURL:void 0,extension:"",archivo:void 0,tipoDialogo:0},Object(N.a)(e,"open",!1),Object(N.a)(e,"currentID",0),Object(N.a)(e,"alumno",{}),Object(N.a)(e,"title1","Resultados historicos del alumno"),Object(N.a)(e,"title2","al ".concat((new Date).toISOString().split("T")[0])),Object(N.a)(e,"datosTabla",{}),Object(N.a)(e,"datosTablaOffline",{columns:[{title:"Nro",field:"nro"},{title:"Nombre del archivo",field:"nombreArchivo"},{title:"Vista Previa",field:"vistaPrevia"},{title:"Descargar",field:"descargar"}],data:[]}),e),n.refreshSSJ=n.refreshSSJ.bind(Object(M.a)(n)),n.handleOnSuccesLoad=n.handleOnSuccesLoad.bind(Object(M.a)(n)),n.removerDatos=n.removerDatos.bind(Object(M.a)(n)),n.handleOnClickRegistroSSJ_masivo=n.handleOnClickRegistroSSJ_masivo.bind(Object(M.a)(n)),n.handleVistaPrevia=n.handleVistaPrevia.bind(Object(M.a)(n)),n.handleDescargar=n.handleDescargar.bind(Object(M.a)(n)),n.getArchivo=n.getArchivo.bind(Object(M.a)(n)),n.renderBodyLoading=n.renderBodyLoading.bind(Object(M.a)(n)),n.handleClickOpenLoading=n.handleClickOpenLoading.bind(Object(M.a)(n)),n.handleCloseLoading=n.handleCloseLoading.bind(Object(M.a)(n)),n}return Object(w.a)(t,[{key:"renderTabla",value:function(e){if(e!==this.state.datosNuevos)return r.a.createElement(wt.a,{columns:this.state.datosTabla.columns,data:this.state.datosTabla.data,title:"Archivos del Alumno"})}},{key:"getArchivo",value:function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/alumno/informacionrelevante/descargar/".concat(a)});case 2:if((t=e.sent).informacionRelevante){e.next=7;break}return n=Object(u.a)(this.context,2),r=n[0],r.openMensaje,r.mensaje,i=n[1],he(i,{open:!0,mensaje:"W>Disculpe las molestias, el archivo seleccionado no es accesible en este momento. Si el problema persiste, comun\xedquese con el administrador del sistema. Gracias."}),e.abrupt("return");case 7:return e.next=9,this.setState({filename:t.informacionRelevante.DESCRIPCION,extension:t.informacionRelevante.DESCRIPCION.split(".")[1]});case 9:return e.abrupt("return","pdf"===this.state.extension?"data:application/pdf;base64,".concat(t.informacionRelevante.ARCHIVO):"data:application/octet-stream;base64,".concat(t.informacionRelevante.ARCHIVO));case 10:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"handleVistaPrevia",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t){var n,r,i,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,r=n.archivo,i=n.idArchivo,!r){e.next=13;break}if(i===t){e.next=11;break}return this.setState({archivo:void 0}),e.next=6,this.getArchivo(t);case 6:return o=e.sent,e.next=9,this.setState({archivo:o,idArchivo:t});case 9:e.next=11;break;case 11:e.next=18;break;case 13:return e.next=15,this.getArchivo(t);case 15:return s=e.sent,e.next=18,this.setState({archivo:s,idArchivo:t});case 18:"pdf"!==this.state.extension.toLowerCase()?this.clickInput():this.setState({botonRegistrar:!1});case 19:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"handleDescargar",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t){var n,r,i,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,r=n.archivo,i=n.idArchivo,!r){e.next=15;break}if(i===t){e.next=12;break}return this.setState({archivo:void 0}),e.next=6,this.getArchivo(t);case 6:return o=e.sent,e.next=9,this.setState({archivo:o,idArchivo:t});case 9:this.clickInput(),e.next=13;break;case 12:this.clickInput();case 13:e.next=21;break;case 15:return e.next=17,this.getArchivo(t);case 17:return s=e.sent,e.next=20,this.setState({archivo:s,idArchivo:t});case 20:this.clickInput();case 21:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"refreshSSJ",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a,t,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:1}),e.next=3,X({servicio:"/api/alumno/informacionrelevante/".concat(this.props.idAlumno)});case 3:if(a=e.sent,t=[],a){e.next=7;break}return e.abrupt("return");case 7:if(!a.informacionRelevante){e.next=13;break}return a.informacionRelevante.forEach((function(e,a){var i=e.ID_INFORMACION_RELEVANTE,o=e.DESCRIPCION,s=o.split(".")[1];t.push({nro:a+1,nombreArchivo:"".concat(o),vistaPrevia:r.a.createElement(ye.a,{color:"primary","aria-label":"add",name:"view",onClick:function(e){return n.handleVistaPrevia(e,i)}},r.a.createElement("i",{style:ir.fa,className:"fa fa-file".concat("-"+("pdf"===s?"pdf":"docx"===s||"docx"===s?"word":"excel")+"-o"),"aria-hidden":"true"})),descargar:r.a.createElement(ye.a,null,r.a.createElement(rr.a,{fontSize:"large",name:"download",color:"primary","aria-label":"add",onClick:function(e){return n.handleDescargar(e,i)}}))})})),e.next=11,this.setState({datosTabla:{columns:this.state.datosTablaOffline.columns,data:t},loading:0});case 11:e.next=14;break;case 13:this.setState({loading:2});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.idAlumno){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.refreshSSJ();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clickInput",value:function(){document.getElementById("superDownload").click()}},{key:"removerDatos",value:function(){this.setState({archivo:void 0})}},{key:"handleClickOpenLoading",value:function(e){var a=Object(u.a)(this.context,2),t=a[0],n=(t.openMensaje,t.mensaje,a[1]);he(n,{open:!0,mensaje:"L>Registrando Archivo ".concat(e)})}},{key:"handleCloseLoading",value:function(e){var a=Object(u.a)(this.context,2),t=a[0],n=(t.openMensaje,t.mensaje,a[1]);he(n,{open:!0,mensaje:e})}},{key:"renderBodyLoading",value:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Registrando Archivo: ",this.state.fileName),e)}},{key:"render",value:function(){var e=this;switch(this.state.loading){case 0:return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{container:!0,spacing:2,style:{textAlign:"center"}},r.a.createElement(R.a,{item:!0,md:4,xs:12},this.renderTabla(this.state.datosTabla)),r.a.createElement(R.a,{item:!0,md:8,xs:12},r.a.createElement(R.a,{container:!0,spacing:0},this.state.archivo?r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{item:!0,md:2,xs:6},r.a.createElement(D.a,{color:"primary",onClick:function(){return e.removerDatos()},startIcon:r.a.createElement(Pn.a,null)},"Deshacer Carga")),r.a.createElement(R.a,{item:!0,md:3,xs:12},r.a.createElement("h3",null,"Vista Previa: (Solo PDF)")),r.a.createElement(R.a,{item:!0,md:5,xs:12},r.a.createElement(H,{variant:"outlined",name:"nombre",label:"Nombre del archivo",requerido:!0,autoFocus:!0,inicial:this.state.fileName,validacion:{lim:25},onChange:this.handleOnChangeTexto,validarEntrada:function(){},value:this.state.fileName})),r.a.createElement(R.a,{item:!0,md:2,xs:6},r.a.createElement("div",{style:{display:this.state.botonRegistrar?"block":"none"}},r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:this.handleOnClickRegistroSSJ_masivo,startIcon:r.a.createElement(Bn.a,null),disabled:!this.state.archivo},"Registrar")))):r.a.createElement(R.a,{item:!0,md:12,xs:!1})),r.a.createElement("a",{id:"superDownload",href:this.state.archivo,style:{display:"none"},download:this.state.filename}),this.state.archivo&&"pdf"===this.state.extension?r.a.createElement("div",{style:ir.divini},r.a.createElement("iframe",{src:this.state.archivo,height:800,frameborder:"1",allowfullscreen:!0,sandbox:!0,width:"100%"})):r.a.createElement(R.a,{style:ir.margen},("Coordinador Facultad"===Q().rol||"Coordinador Programa"===Q().rol)&&r.a.createElement(Zn.a,{embebed:!0,contained:!0,id_drop_zone:"drop_zone_archivo",onSuccesLoadURL:this.handleOnSuccesLoad,onSuccesLoad:this.handleOnSuccesLoad,formato:this.state.formato,maxTamanio:this.state.maxTamanio,extension:"any"})))));case 1:return r.a.createElement(Cn,{size:"xs",mensaje:this.renderBodyLoading(this.state.mensajesResultado)});default:return r.a.createElement(r.a.Fragment,null)}}}]),t}(n.Component);or.contextType=fe;var sr=or,cr=function(e){var a=e.open,t=e.close,i=e.id,o=e.parentCallback,s=Object(n.useState)(0),m=Object(u.a)(s,2),d=m[0],p=m[1],h=Object(n.useState)(!1),f=Object(u.a)(h,2),O=f[0],g=f[1],b=Object(n.useState)({mensaje:"\xbfEst\xe1 seguro de eliminar el alumno?"}),E=Object(u.a)(b,2),v=E[0],j=E[1],S=function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={servicio:"/api/alumno/eliminar/"+i,request:{}},e.next=4,$(t);case 4:return(n=e.sent)&&("success"!==n.status?(g(!1),j({mensaje:"El alumno no puede eliminarse porque cuenta con sesiones pendientes"})):(g(!0),j({mensaje:""}))),p(r=d+1),e.next=10,o(r);case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(Oa.a,{open:a,onClose:t,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,justify:"center"},!O&&r.a.createElement(qa.a,{color:"error",style:{fontSize:70}}),O&&r.a.createElement(Ba.a,{color:"primary",style:{fontSize:70}}))),r.a.createElement(ba.a,null,r.a.createElement(R.a,{container:!0,md:12,justify:"center"},!O&&r.a.createElement(I.a,{variant:"subtitle1"},v.mensaje),O&&r.a.createElement(I.a,{variant:"subtitle1"},"El alumno se elimin\xf3 satisfactoriamente"))),r.a.createElement(ga.a,null,r.a.createElement("div",{style:{display:O?"none":"block"}},r.a.createElement(D.a,{variant:"outlined",onClick:t,color:"inherit"},"Cancelar")),r.a.createElement(D.a,{variant:"contained",onClick:O?t:function(e){return S(e)},color:"primary"},!O&&"Eliminar",O&&"Aceptar"))))},lr=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).handleOnChangePrograma=function(){var a=Object(l.a)(c.a.mark((function a(t){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.setState({programa:t}),t&&e.refrescarDatosSSJ(t);case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),e.renderToolbar=function(){return r.a.createElement(r.a.Fragment,null)},e.handleOnOpenEliminar=function(a){e.setState({open2:!0}),a&&e.setState({currentID:a})},e.callback=function(a){var t=e.state.flag+1;e.setState({flag:t})},e.state={registrarAlumno:!1,tipoDialogo:0,open:!1,currentID:0,alumno:{},title1:"Resultados historicos del alumno",title2:"al ".concat((new Date).toISOString().split("T")[0]),datosTabla:{},flag:0,datosTablaOffline:{columns:[{title:"Nro",field:"nro"},{title:"Codigo",field:"codigo"},{title:"Nombre",field:"nombre"},{title:"Correo",field:"correo"},{title:"Telefono",field:"telefono"},{title:"Informaci\xf3n Historica",field:"agregarInfo",export:!1,render:function(a){return r.a.createElement(R.a,{container:!0,spacing:2,style:{textAlign:"center"}},r.a.createElement(R.a,{item:!0,md:6,xs:6},r.a.createElement(ye.a,null,r.a.createElement(tr.a,{fontSize:"large",color:"primary","aria-label":"add",onClick:function(t){return e.handleOpenDialog(t,4,a.agregarInfo)}}))))}},{title:"Historial de Asistencias",field:"perfil",export:!1,render:function(a){return r.a.createElement("div",null,r.a.createElement(D.a,{variant:"outlined",color:"primary",onClick:function(){return e.props.history.push(a.perfil)}},"Asistencias"))}},{title:"Mantenimiento",field:"mantenimiento",export:!1,render:function(a){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ye.a,{color:"primary"},r.a.createElement(La.a,{color:"error",fontsize:"large",onClick:function(t){return e.handleOnOpenEliminar(a.mantenimiento)}}))," ")}}],data:[]}},e.renderToolbar=e.renderToolbar.bind(Object(M.a)(e)),e.handleOnChangeFacultad=e.handleOnChangeFacultad.bind(Object(M.a)(e)),e.handleOnChangePrograma=e.handleOnChangePrograma.bind(Object(M.a)(e)),e.getSubRol=e.getSubRol.bind(Object(M.a)(e)),e.getEnlace=e.getEnlace.bind(Object(M.a)(e)),e.handleEliminar=e.handleEliminar.bind(Object(M.a)(e)),e.handleOnOpenEliminar=e.handleOnOpenEliminar.bind(Object(M.a)(e)),e.handleEditar=e.handleEditar.bind(Object(M.a)(e)),e.handleOpenDialog=e.handleOpenDialog.bind(Object(M.a)(e)),e.handleOnClose=e.handleOnClose.bind(Object(M.a)(e)),e.refrescarDatosSSJ=e.refrescarDatosSSJ.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"handleOpenDialog",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({cuerpoDialogo:t});case 2:n&&this.setState({currentID:n}),this.setState({open:!0});case 4:case"end":return e.stop()}}),e,this)})));return function(a,t,n){return e.apply(this,arguments)}}()},{key:"handleOnClick",value:function(e,a){this.setState({currentID:a,open:!0})}},{key:"handleEliminar",value:function(e){}},{key:"handleEditar",value:function(e){}},{key:"refrescarDatosSSJ",value:function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({datosTabla:{}}),e.next=3,X({servicio:"/api/alumno/lista/".concat(a)});case 3:if(t=e.sent,n=[],!t.alumnos){e.next=9;break}return t.alumnos.forEach((function(e,a){var t=e.ID_USUARIO,r=e.USUARIO,i=r.NOMBRE,o=r.APELLIDOS,s=r.CORREO,c=r.CODIGO,l=r.TELEFONO;n.push({nro:a+1,codigo:c,nombre:"".concat(i," ").concat(o),correo:s,telefono:l,perfil:"/coordinador/alumno/"+t+"/"+JSON.stringify(o+", "+i),agregarInfo:t,mantenimiento:t})})),e.next=9,this.setState({datosTabla:{columns:this.state.datosTablaOffline.columns,data:n}});case 9:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"handleOnChangeFacultad",value:function(e){var a=Q().usuario,t=this.getSubRol(Q().rol),n=a.ID_USUARIO,r=a?"facultad"===t?"/api/programa/lista/".concat(e[0]):"programa"===t?"/api/programa/lista/".concat(n,"/").concat(e[0]):"":"";this.setState({filtroFacultad:r})}},{key:"getSubRol",value:function(e){var a=null===e||void 0===e?void 0:e.split(" ");return a?a[1].toLowerCase():""}},{key:"getEnlace",value:function(e){var a=this.getSubRol(Q().rol),t=e.ID_USUARIO;return e?"facultad"===a?"/api/facultad/coordinador/"+t:"programa"===a?"/api/facultad/lista/"+t:"":""}},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.flag,a.flag;case 1:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.idPrograma;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderTabla",value:function(e){return this.state.datosTabla.data?e!==this.state.datosNuevos?r.a.createElement(f.a,{theme:g},r.a.createElement(wt.a,{columns:this.state.datosTabla.columns,data:this.state.datosTabla.data,title:"Listado de Alumnos",exportar:!0})):void 0:r.a.createElement(Cn,{mensaje:"Cargando Alumnos",size:"md",base:!0})}},{key:"handleClose",value:function(){}},{key:"handleOnClose",value:function(){this.setState({open2:!1}),this.refrescarDatosSSJ(this.state.programa)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{backgroundColor:"#ffffff"}},r.a.createElement(qn,{titulo:["Registro de Nuevo Alumno","Importar Alumnos desde un CSV","Actualizar alumno: ","Eliminar alumno: ","Informaci\xf3n relevante del alumno: "][this.state.cuerpoDialogo],body:0===this.state.cuerpoDialogo?r.a.createElement(Rn,{modalOrden:this.state.registrarAlumno}):1===this.state.cuerpoDialogo?r.a.createElement(Yn,{usuario:Q().usuario}):2===this.state.cuerpoDialogo?r.a.createElement("h2",null,"Actualizar Alumno con ID : ",this.state.currentID):3===this.state.cuerpoDialogo?null:r.a.createElement(sr,{usuario:Q().usuario,idAlumno:this.state.currentID}),open:this.state.open,hadleClose:function(){e.setState({open:!1}),e.refrescarDatosSSJ(e.state.programa)},maxWidth:4!==this.state.cuerpoDialogo?"lg":"xl",botonIzquierdo:"Cerrar",botonDerecho:0===this.state.cuerpoDialogo?{name:"Registrar",onClick:function(){e.setState({registrarAlumno:!e.state.registrarAlumno})}}:void 0}),r.a.createElement(R.a,{container:!0,spacing:2,style:{textAlign:"center"}},r.a.createElement(R.a,{item:!0,md:4,xs:6},r.a.createElement(vn,{mensaje:"facultad",titulo:"Facultad",enlace:this.getEnlace(Q().usuario),id:"ID_PROGRAMA",nombre:"NOMBRE",subnombre:"programa"===this.getSubRol(Q().rol)?"FACULTAD":void 0,keyServicio:"facultades",escogerItem:this.handleOnChangeFacultad,small:!0,inicial:!0,placeholder:"Escoja la facultad"})),r.a.createElement(R.a,{item:!0,md:4,xs:6},this.state.filtroFacultad?r.a.createElement(vn,{mensaje:"programa",titulo:"Programa",enlace:this.state.filtroFacultad,id:"ID_PROGRAMA",nombre:"NOMBRE",keyServicio:"programa"===this.getSubRol(Q().rol)?"programas":"programa",escogerItem:this.handleOnChangePrograma,small:!0,inicial:!0,placeholder:"Escoja el programa"}):r.a.createElement(r.a.Fragment,null)),r.a.createElement(R.a,{item:!0,md:2,sm:6,xs:12},r.a.createElement(D.a,{variant:"outlined",color:"primary",onClick:function(a){return e.handleOpenDialog(a,1)},startIcon:r.a.createElement(zn.a,null)},"Importar desde .CSV")),r.a.createElement(R.a,{item:!0,md:2,xs:6},r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:function(a){return e.handleOpenDialog(a,0)}},"Registrar Alumno"))),this.renderTabla(this.state.datosTabla),this.state.open2&&r.a.createElement(cr,{open:this.handleOnOpenEliminar,close:this.handleOnClose,id:this.state.currentID,parentCallback:this.callback}))}}]),t}(n.Component),ur=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(U.a)(this,t),(n=a.call(this)).state={procesos:[{index:0,paper:!1,titulo:"",proceso:function(){return r.a.createElement(lr,{prog:Q().usuario.ROL_X_USUARIO_X_PROGRAMAs,idPrograma:Q().usuario.ROL_X_USUARIO_X_PROGRAMAs[0].ID_PROGRAMA,ruta:n.props.history.location.pathname,history:n.props.history})}}]},n}return Object(w.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(xa,{titulo:"Alumnos"}),r.a.createElement(Tt,{procesos:this.state.procesos,paper:!0}))}}]),t}(r.a.Component),mr=Object(re.a)(d.f)(ur),dr=t(1262),pr=t(1259),hr=t(1260),fr=t(1261),Or=Object(h.a)((function(e){return{icon:{marginTop:e.spacing(1)},formControl:{minWidth:e.spacing(30)},selectEmpty:{marginTop:e.spacing(2)}}})),gr=function(e){var a=Or(),t=e.programas,n=e.programa,i=e.setPrograma;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{className:a.formControl},r.a.createElement(k.a,{id:"demo-simple-select-label"},"Facultad"),r.a.createElement(sa.a,{labelId:"demo-simple-select-label",label:n,id:"demo-simple-select",value:n,onChange:function(e){i(e.target.value)}},t.map((function(e){return r.a.createElement(ca.a,{key:"Coordinador Programa"===Q().rol?e.FACULTAD.ID_PROGRAMA:e.ID_PROGRAMA,value:"Coordinador Programa"===Q().rol?e.FACULTAD.ID_PROGRAMA:e.ID_PROGRAMA},"Coordinador Programa"===Q().rol?e.FACULTAD.NOMBRE:e.NOMBRE)})))))},br=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={programas:[],programa:[]},e.handleOnChange=e.handleOnChange.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"handleOnChange",value:function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.target.value,(n=[]).push(n),e.next=5,this.props.escogerPrograma(t.ID_PROGRAMA);case 5:this.setState({programa:a.target.value}),a.target.value=this.state.programa;case 7:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:this.props.enlace});case 2:a=e.sent,"Coordinador Programa"===Q().rol?this.setState({programas:a.programas}):this.setState({programas:a.programa});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"shouldComponentUpdate",value:function(e,a){return e.programas!==this.state.programas||e.programa!==this.state.programa}},{key:"render",value:function(){return r.a.createElement(x.a,{width:"5"},r.a.createElement(k.a,{id:"demo-simple-select-placeholder-label-label"},this.props.titulo),r.a.createElement(sa.a,{labelId:"demo-simple-select-placeholder-label-label",id:"demo-simple-select-placeholder-label",value:this.state.programa,onChange:this.handleOnChange},this.state.programas.map((function(e){return r.a.createElement(ca.a,{key:e.ID_PROGRAMA,value:e}," ",e.NOMBRE)}))),r.a.createElement(G.a,null,"Escoja el programa"))}}]),t}(r.a.Component),Er=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={tutorias:[],tutoria:[]},e.handleOnChange=e.handleOnChange.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"handleOnChange",value:function(){var e=Object(l.a)(c.a.mark((function e(a){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.target.value,[].push(t),e.next=5,this.props.escogerTutoria(t);case 5:this.setState({tutoria:a.target.value}),a.target.value=this.state.tutoria;case 7:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:this.props.enlace});case 2:a=e.sent,this.setState({tutorias:a.tutoria});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"shouldComponentUpdate",value:function(e,a){return e.tutorias!==this.state.tutorias||e.tutoria!==this.state.tutoria}},{key:"render",value:function(){return r.a.createElement(x.a,null,r.a.createElement(k.a,{id:"demo-simple-select-placeholder-label-label"},this.props.titulo),r.a.createElement(sa.a,{labelId:"demo-simple-select-placeholder-label-label",id:"demo-simple-select-placeholder-label",value:this.state.tutoria,onChange:this.handleOnChange,displayEmpty:!0},this.state.tutorias.map((function(e){return r.a.createElement(ca.a,{key:e.ID_PROCESO_TUTORIA,value:e}," ",e.NOMBRE)}))),r.a.createElement(G.a,null,"Escoja el Proceso de Tutor\xeda"))}}]),t}(r.a.Component),vr=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={tutores:[],tutor:[]},e.handleOnChange=e.handleOnChange.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"handleOnChange",value:function(){var e=Object(l.a)(c.a.mark((function e(a){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.target.value,[].push(t),e.next=5,this.props.escogerTutor(t);case 5:this.setState({tutor:a.target.value}),a.target.value=this.state.tutor;case 7:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:this.props.enlace});case 2:(a=e.sent)&&this.setState({tutores:a.tutores});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"shouldComponentUpdate",value:function(e,a){return e.tutores!==this.state.tutores||e.tutor!==this.state.tutor}},{key:"render",value:function(){return r.a.createElement(x.a,null,r.a.createElement(k.a,{id:"demo-simple-select-placeholder-label-label"},this.props.titulo),r.a.createElement(sa.a,{labelId:"demo-simple-select-placeholder-label-label",id:"demo-simple-select-placeholder-label-label",value:this.state.tutor,onChange:this.handleOnChange,displayEmpty:!0},this.state.tutores.map((function(e){return r.a.createElement(ca.a,{key:e.ID_TUTOR,value:e}," ",e.USUARIO.NOMBRE+" "+e.USUARIO.APELLIDOS)}))),r.a.createElement(G.a,null,"Escoja el Tutor"))}}]),t}(r.a.Component);var jr=function(e){return r.a.createElement(Na.a,{title:"",columns:e.alumnos.columns,data:e.alumnos.data,options:{rowStyle:{backgroundColor:"#FFF"},headerStyle:{backgroundColor:"#3AAFA9",color:"#FFF",fontSize:14}}})},Sr=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(U.a)(this,t),(n=a.call(this,e)).state={alumnos:{columns:[{title:"Nombre",field:"nombre"}],data:[{nombre:""}]},alumnosSeleccionados:[],flag:0},n.handleOnChangeChecked=n.handleOnChangeChecked.bind(Object(M.a)(n)),n.establecerData=n.establecerData.bind(Object(M.a)(n)),n.handleToggle=n.handleToggle.bind(Object(M.a)(n)),n}return Object(w.a)(t,[{key:"establecerData",value:function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n,i,o,s,l=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=Object(ka.a)(a.alumnos);try{for(o=function(){var e=i.value;t.push({codigo:e.CODIGO,nombre:e.NOMBRE+" "+e.APELLIDOS,correo:e.CORREO,checkbox:r.a.createElement("div",null,r.a.createElement(va.a,{id:e.ID_USUARIO,value:e.ID_USUARIO,color:"primary",defaultChecked:-1!==l.state.alumnosSeleccionados.findIndex((function(a){return a===e.ID_USUARIO})),onChange:function(){return l.handleToggle(e.ID_USUARIO)}}))})},n.s();!(i=n.n()).done;)o()}catch(c){n.e(c)}finally{n.f()}s={columns:[{title:"C\xf3digo",field:"codigo"},{title:"Nombre",field:"nombre"},{title:"Correo Electr\xf3nico",field:"correo"},{title:"",field:"checkbox"}],data:t},this.setState({alumnos:s});case 5:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.flag===this.state.flag){e.next=5;break}return e.next=3,X({servicio:this.props.enlace});case 3:(n=e.sent)&&this.establecerData(n);case 5:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:this.props.enlace});case 2:(a=e.sent)&&this.establecerData(a);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleToggle",value:function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return-1!==(t=this.state.alumnosSeleccionados.findIndex((function(e){return e===a})))?this.state.alumnosSeleccionados.splice(t,1):this.state.alumnosSeleccionados.push(a),n=this.state.flag+1,this.setState({flag:n}),e.next=6,this.props.escogerAlumnos(this.state.alumnosSeleccionados);case 6:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"handleOnChangeChecked",value:function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.target.value,n=document.getElementById(a.target.value),0!==this.state.alumnosSeleccionados.length?!1===n.checked?-1!==(r=this.state.alumnosSeleccionados.findIndex((function(e){return e===t})))&&this.state.alumnosSeleccionados.splice(r,1):this.state.alumnosSeleccionados.push(t):!0===n.checked&&this.state.alumnosSeleccionados.push(t),e.next=5,this.props.escogerAlumnos(this.state.alumnosSeleccionados);case 5:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(jr,{alumnos:this.state.alumnos}))}}]),t}(r.a.Component),Ar=t(453);function Cr(){var e=Object(Ar.a)(["",""]);return Cr=function(){return e},e}function Ir(){var e=Object(Ar.a)(["ya pertenece a la tutoria seleccionada"]);return Ir=function(){return e},e}var Rr={paper:{marginTop:"1%",marginLeft:"1%",marginRight:"1%"},divini:{width:"100%",height:"100%"},centerDialog:{marginLeft:"1%",marginRight:"1%",color:"#002D3D",textAlign:"center",minHeight:550,maxHeight:900}},yr=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).handleOnClickRegistroSSJ_masivo=Object(l.a)(c.a.mark((function a(){var t,n,i,o;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.handleClickOpenLoading(),t=e.state.alumnosTabla.data,n=e.state.columnasLimpias,t&&0!==(null===t||void 0===t?void 0:t.length)){a.next=9;break}return(i=e.state.mensajesResultado).push("No hay registros para"),e.setState({mensajesResultado:i}),e.handleCloseLoading(),a.abrupt("return");case 9:o=[],t.forEach(function(){var a=Object(l.a)(c.a.mark((function a(t){var i,s,l,u,m,d,p,h,f,O,g,b,E;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i={alumno:{}},n.forEach((function(e){i.alumno[e.toUpperCase()]=t[e.toLowerCase()]})),o.push(i),a.next=5,X({servicio:"/api/alumno/buscar/"+i.alumno.CODIGO});case 5:if(!(s=a.sent).alumno){a.next=62;break}return l=[],a.next=10,X({servicio:"/api/programa/alumno/"+s.alumno.ID_ALUMNO});case 10:if(!(l=a.sent).programas){a.next=57;break}u=Object(ka.a)(l.programas),a.prev=13,u.s();case 15:if((m=u.n()).done){a.next=47;break}if((d=m.value).ID_PROGRAMA!==e.props.programa){a.next=45;break}return a.next=20,X({servicio:"/api/tutoriaasignada/"+d.ID_PROGRAMA+"/"+s.alumno.ID_ALUMNO});case 20:p=a.sent,h=Object(ka.a)(p.tutoria),a.prev=22,h.s();case 24:if((f=h.n()).done){a.next=33;break}if(f.value.ID_PROCESO_TUTORIA!==e.props.proceso){a.next=31;break}return(O=e.state.mensajesResultado).push(r.a.createElement(r.a.Fragment,null,"El alumno de codigo:"(Cr(),i.alumno.CODIGO)(Ir()))),e.setState({mensajesResultado:O}),a.abrupt("return");case 31:a.next=24;break;case 33:a.next=38;break;case 35:a.prev=35,a.t0=a.catch(22),h.e(a.t0);case 38:return a.prev=38,h.f(),a.finish(38);case 41:(g=e.state.mensajesResultado).push(r.a.createElement(r.a.Fragment,null,"Se asign\xf3 satisfactoriamente:",r.a.createElement("ul",null,r.a.createElement("li",null,"".concat(i.alumno.CODIGO))))),e.setState({mensajesResultado:g}),e.state.alumnosCargados.push(s.alumno.ID_ALUMNO);case 45:a.next=15;break;case 47:a.next=52;break;case 49:a.prev=49,a.t1=a.catch(13),u.e(a.t1);case 52:return a.prev=52,u.f(),a.finish(52);case 55:a.next=60;break;case 57:(b=e.state.mensajesResultado).push(r.a.createElement(r.a.Fragment,null,"El c\xf3digo del alumno no pertenece al programa seleccionado:",r.a.createElement("ul",null,r.a.createElement("li",null,"".concat(i.alumno.CODIGO))))),e.setState({mensajesResultado:b});case 60:a.next=65;break;case 62:(E=e.state.mensajesResultado).push(r.a.createElement(r.a.Fragment,null,"El c\xf3digo registrado no pertenece a un alumno:",r.a.createElement("ul",null,r.a.createElement("li",null,"".concat(i.alumno.CODIGO))))),e.setState({mensajesResultado:E});case 65:e.setState({peticiones:e.state.peticiones+1}),e.state.peticiones+1===o.length&&e.handleCloseLoading(),e.props.escogerAlumnos(e.state.alumnosCargados);case 68:case"end":return a.stop()}}),a,null,[[13,49,52,55],[22,35,38,41]])})));return function(e){return a.apply(this,arguments)}}());case 11:case"end":return a.stop()}}),a)}))),e.handleOnSuccesLoad=function(){var a=Object(l.a)(c.a.mark((function a(t,n){var r;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.setState({fileName:n});case 2:return a.next=4,Nn(t,"alumnos","Estado");case 4:return r=a.sent,e.setState({columnasLimpias:t.alumnos[0]}),a.next=8,e.setState({alumnosTabla:r});case 8:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),e.handleOnChangeTexto=function(a){var t=Object.assign({},e.state.tutoria);t[a.name]=a.value,e.setState({tutoria:t})},e.onUpdateDatos=function(){var a=Object(l.a)(c.a.mark((function a(t,n,r){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(){var a=Object(l.a)(c.a.mark((function a(i,o){var s,l;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s=e.state.alumnosTabla.data,a.t0=t,a.next="agregar"===a.t0?4:"eliminar"===a.t0?7:"actualizar"===a.t0?9:11;break;case 4:return r.key=s.length+1,s.push(r),a.abrupt("break",12);case 7:return s.splice(n,1),a.abrupt("break",12);case 9:return s[n]=r,a.abrupt("break",12);case 11:return a.abrupt("break",12);case 12:return a.next=14,Tn(s,e.state.columnasLimpias,"Estado");case 14:return l=a.sent,a.next=17,e.setState({alumnosTabla:{data:l.data,columns:l.columns,huboErrores:l.huboErrores},numUpdates:e.state.numUpdates?void 0:1});case 17:i();case 18:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()));case 1:case"end":return a.stop()}}),a)})));return function(e,t,n){return a.apply(this,arguments)}}(),e.state={fileName:"",formato:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",maxTamanio:100,errores:[],peticiones:0,mensajesResultado:[],alert:{mensajeStrong:"",mensajeStrongError:"por favor revisalos!",mensajeStrongExito:"satisfactoriamente!",mensajeError:"Existen errores al completar el formulario",mensajeExito:"Proceso de Tutoria registrado",mensaje:""},severidad:"warning",usuario:null,loguedIn:!1,alumnosTabla:{},numUpdates:0,columnasLimpias:[],etiquetas:[],alumnosCargados:[],open:!1},e.handleOnSuccesLoad=e.handleOnSuccesLoad.bind(Object(M.a)(e)),e.validarEntrada=e.validarEntrada.bind(Object(M.a)(e)),e.handleOnChangeTexto=e.handleOnChangeTexto.bind(Object(M.a)(e)),e.getSubRol=e.getSubRol.bind(Object(M.a)(e)),e.getEnlace=e.getEnlace.bind(Object(M.a)(e)),e.renderToolbar=e.renderToolbar.bind(Object(M.a)(e)),e.handleOnClickRegistroSSJ_masivo=e.handleOnClickRegistroSSJ_masivo.bind(Object(M.a)(e)),e.removerDatos=e.removerDatos.bind(Object(M.a)(e)),e.onUpdateDatos=e.onUpdateDatos.bind(Object(M.a)(e)),e.handleClickOpenLoading=e.handleClickOpenLoading.bind(Object(M.a)(e)),e.handleCloseLoading=e.handleCloseLoading.bind(Object(M.a)(e)),e.handleOnSuccesLoad=e.handleOnSuccesLoad.bind(Object(M.a)(e)),e.renderBodyLoading=e.renderBodyLoading.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"getSubRol",value:function(e){var a=null===e||void 0===e?void 0:e.split(" ");return a?a[1].toLowerCase():""}},{key:"getEnlace",value:function(e){var a=this.getSubRol(Q().rol),t=e.ID_USUARIO;return e?"facultad"===a?"/api/facultad/coordinador/"+t:"programa"===a?"/api/facultad/lista/"+t:"":""}},{key:"validarEntrada",value:function(e){var a=void 0,t=!1,n=this.state.errores.forEach((function(t){t.llave===e.llave&&(a=t)}));if(a?0===e.error.length&&(n=!0):0!==e.error.length&&(t=!0),t){var r=this.state.errores;return r.push(e),void this.setState({errores:r})}if(n){var i=[];this.state.errores.forEach((function(a){a.llave!==e.llave&&i.push(a)})),this.setState({errores:i})}}},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props.usuario){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.setState({loguedIn:!0,usuario:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removerDatos",value:function(){this.setState({alumnosTabla:[]})}},{key:"renderToolbar",value:function(){var e,a=this;return r.a.createElement(R.a,{container:!0,spacing:2,style:{textAlign:"center"}},r.a.createElement(R.a,{item:!0,md:2,xs:6},r.a.createElement(D.a,{color:"primary",onClick:function(){return a.removerDatos()},startIcon:r.a.createElement(Pn.a,null)},"Deshacer Carga")),r.a.createElement(R.a,{item:!0,md:8,xs:12},r.a.createElement(R.a,{container:!0,spacing:2,style:{textAlign:"left"}},r.a.createElement(R.a,{item:!0,md:9,xs:6},r.a.createElement("h4",null,r.a.createElement(zn.a,null),"Descarga nuesta plantilla en .csv"),r.a.createElement("p",{className:"text-justify"},"Los alumnos a importar deben pertenecer al programa seleccionado y no tener asignado un tutor en el proceso de tutoria seleccionado")),r.a.createElement(R.a,{item:!0,md:3,xs:6},r.a.createElement("a",{id:"superDownload",href:"https://ututor-recursos.s3.amazonaws.com/Importar_Asignacion_Formato.csv",download:"Plantilla para carga masiva de alumnos.csv"},r.a.createElement(D.a,(e={color:"primary",variant:"outlined"},Object(N.a)(e,"color","primary"),Object(N.a)(e,"onClick",(function(){})),Object(N.a)(e,"startIcon",r.a.createElement(xn.a,null)),e),"Descargar Plantilla"))))),r.a.createElement(R.a,{item:!0,md:1,xs:6,style:{textAlign:"right"}},r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:this.handleOnClickRegistroSSJ_masivo},"Guardar")))}},{key:"renderTable",value:function(e){var a=this;if(e!==this.state.datosNuevos)return r.a.createElement(Dn.a,{toolbar:function(){return a.renderToolbar()},title:"Vista Previa (solo archivos .CSV)",agrupar:e.huboErrores,other:this.state.numUpdates,data:e.data,columns:e.columns,onUpdateDatos:this.onUpdateDatos,superPlaceHolder:!0,embebed:!1,handleOnSuccesLoad:this.handleOnSuccesLoad,formato:this.state.formato,maxTamanio:this.state.maxTamanio})}},{key:"handleClickOpenLoading",value:function(){this.setState({open:!0})}},{key:"handleCloseLoading",value:function(){var e=this;new Promise(function(){var a=Object(l.a)(c.a.mark((function a(t,n){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,setTimeout(Object(l.a)(c.a.mark((function a(){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.setState({open:!1,mensajesResultado:[],peticiones:0});case 1:case"end":return a.stop()}}),a)}))),5e3);case 2:t();case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}())}},{key:"renderBodyLoading",value:function(e){return r.a.createElement("div",null,r.a.createElement("h5",null,"Asignando Alumnos:"),r.a.createElement("ol",{style:{"text-align":"left"}},e.map((function(e){return r.a.createElement("li",null,e)}))))}},{key:"render",value:function(){var e=this;return this.state.loguedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement(Oa.a,{open:this.props.open,onClose:this.props.close,scroll:"paper",fullWidth:!0,maxWidth:!0,"aria-describedby":"scroll-dialog-description","aria-labelledby":"max-width-dialog-title"},r.a.createElement(Ea.a,{id:"scroll-dialog-title"},r.a.createElement(R.a,{container:!0,spacing:2},r.a.createElement(R.a,{item:!0,md:2,xs:2},r.a.createElement(de,{src:"https://ututor-recursos.s3.amazonaws.com/ututor-main-logo-inverted.png",square:!0})),r.a.createElement(R.a,{item:!0,md:10,xs:10},r.a.createElement(Sn,{titulo:"Importar Alumnos"})))),r.a.createElement(ba.a,{dividers:"paper"},r.a.createElement(nn.a,{style:Rr.centerDialog,id:"scroll-dialog-description",tabIndex:-1},this.renderTable(this.state.alumnosTabla)))),r.a.createElement(qn,{titulo:"Mensaje de Ututor.net",body:r.a.createElement(Cn,{size:"xs",mensaje:this.renderBodyLoading(this.state.mensajesResultado)}),open:this.state.open,handleClose:this.handleCloseLoading,disabled:this.state.peticiones,botonDerecho:{name:"Aceptar",onClick:function(){e.setState({open:!1,mensajesResultado:[],peticiones:0})}}})):r.a.createElement(Cn,{mensaje:"Cargando",size:"xs"})}}]),t}(n.Component),xr={paper:{marginTop:"3%",marginLeft:"3%",marginRight:"3%",display:"flex",flexDirection:"column",alignItems:"left",backgroundImage:""}},kr=Object(h.a)((function(e){return{root:{width:"100%"},button:{marginTop:e.spacing(2),marginRight:e.spacing(2)},actionsContainer:{marginBottom:e.spacing(2)},resetContainer:{padding:e.spacing(3)}}}));var Dr=function(){var e=r.a.useState({programa:"",tutor:"",tutoria:"",alumnos:[]}),a=Object(u.a)(e,2),t=(a[0],a[1],kr()),i=Object(n.useState)(!1),o=Object(u.a)(i,2),s=o[0],m=o[1],d=Object(n.useState)(!1),p=Object(u.a)(d,2),h=p[0],f=p[1],O=Object(n.useState)([]),g=Object(u.a)(O,2),b=(g[0],g[1],Object(n.useState)([])),E=Object(u.a)(b,2),v=E[0],j=E[1],S=Object(n.useState)([]),A=Object(u.a)(S,2),C=A[0],x=A[1],k=Object(n.useState)([]),N=Object(u.a)(k,2),T=N[0],U=N[1],w=Object(n.useState)([]),M=Object(u.a)(w,2),L=M[0],P=M[1],F=r.a.useState(0),B=Object(u.a)(F,2),G=B[0],q=B[1],_=Object(n.useState)([]),H=Object(u.a)(_,2),z=H[0],V=H[1],W=Object(n.useState)([]),Y=Object(u.a)(W,2),J=Y[0],K=Y[1],Z=Object(n.useState)(!0),ee=Object(u.a)(Z,2),ae=(ee[0],ee[1],Object(n.useState)({mensajeStrong:"",mensajeStrongError:"por favor revisalos!",mensajeStrongExito:"satisfactoriamente!",mensajeError:"Existen errores al completar el formulario",mensajeExito:"Coordinador registrado",mensaje:""})),te=Object(u.a)(ae,2),ne=te[0],re=te[1],ie=Object(n.useState)({severidad:"",severW:"warning",severE:"error",severS:"success"}),oe=Object(u.a)(ie,2),ce=oe[0],le=oe[1],ue=["Seleccionar Facultad","Seleccionar Programa","Seleccionar Proceso de Tutoria","Seleccionar Tutor","Seleccionar Alumno(s)","Guardar"];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n,r,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Coordinador Facultad"!==Q().rol){e.next=9;break}return a="/api/facultad/coordinador/"+Q().usuario.ID_USUARIO,t={servicio:a},e.next=5,X(t);case 5:(n=e.sent)&&n.facultades&&K(n.facultades),e.next=15;break;case 9:return r="/api/facultad/lista/"+Q().usuario.ID_USUARIO,i={servicio:r},e.next=13,X(i);case 13:(o=e.sent)&&K(o.facultades);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),{});var me=function(){0!==z.length&&0===G||0!==v.length&&1===G||0!==C.length&&2===G||0!==T.length&&3===G||0!==L.length&&4===G?(q((function(e){return e+1})),le({severidad:""}),re({mensaje:""})):(le({severidad:"error"}),re({mensaje:"Debe completar todos los campos"}))},de=function(){le({severidad:""}),re({mensaje:""}),q((function(e){return e-1}))},pe=function(e){j(e)},he=function(e){0===e.GRUPAL?f(!1):f(!0),x(e.ID_PROCESO_TUTORIA)},fe=function(e){U(e.ID_TUTOR)},Oe=function(e){P(e)},ge=function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n,r,i,o,s,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),t={asignacionTutoria:{PROCESO_TUTORIA:C,TUTOR:T,ALUMNOS:L,FECHA_ASIGNACION:Lt()(new Date).format("YYYY-MM-DD")}},!h){e.next=15;break}if(!(L.length>1)){e.next=10;break}return r={servicio:"/api/asignacion",request:t},e.next=7,$(r);case 7:n=e.sent,e.next=13;break;case 10:return le({severidad:"warning"}),re({mensaje:"Los procesos de tutoria grupales deben contar como m\xednimo con dos alumnos"}),e.abrupt("return");case 13:e.next=37;break;case 15:s=Object(ka.a)(L),e.prev=16,s.s();case 18:if((l=s.n()).done){e.next=29;break}return u=l.value,(o=[]).push(u),i={asignacionTutoria:{PROCESO_TUTORIA:C,TUTOR:T,ALUMNOS:o,FECHA_ASIGNACION:Lt()(new Date).format("YYYY-MM-DD")}},r={servicio:"/api/asignacion",request:i},e.next=26,$(r);case 26:n=e.sent;case 27:e.next=18;break;case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(16),s.e(e.t0);case 34:return e.prev=34,s.f(),e.finish(34);case 37:n&&(le({severidad:ce.severS}),re({mensaje:"Asignaci\xf3n realizada satisfactoriamente"}));case 38:case"end":return e.stop()}}),e,null,[[16,31,34,37]])})));return function(a){return e.apply(this,arguments)}}(),be=function(e){m(!0)},Ee=function(e){m(!1)};return r.a.createElement("div",null,r.a.createElement(y.a,{elevation:0,style:xr.paper},r.a.createElement(se,{severity:ce.severidad,titulo:"Observaci\xf3n:",alerta:ne}),r.a.createElement(dr.a,{activeStep:G,orientation:"vertical"},ue.map((function(e,a){return r.a.createElement(pr.a,{key:e},r.a.createElement(hr.a,null,r.a.createElement(I.a,{variant:"h5"},e)),r.a.createElement(fr.a,null,r.a.createElement(I.a,null,function(e){switch(e){case 0:return r.a.createElement("div",null,r.a.createElement(gr,{programas:J,programa:z[0],setPrograma:V}));case 1:return r.a.createElement("div",null,r.a.createElement(br,{titulo:"Programas",escogerPrograma:pe,enlace:"Coordinador Programa"===Q().rol?"/api/programa/lista/"+Q().usuario.ID_USUARIO+"/"+z:"/api/programa/lista/"+z}));case 2:return r.a.createElement("div",null,r.a.createElement(Er,{titulo:"Proceso de Tutor\xeda",escogerTutoria:he,enlace:"/api/tutoriafijaasignada/"+v,grupal:h,proceso:C}));case 3:return r.a.createElement("div",null,r.a.createElement(vr,{titulo:"Tutor",escogerTutor:fe,enlace:"/api/tutor/lista/"+v}));case 4:return r.a.createElement("div",null,r.a.createElement(R.a,{md:12,justify:"flex-end",style:{marginTop:"1%",marginBottom:"1%",marginLeft:"79%"}},r.a.createElement(D.a,{color:"primary",variant:"outlined",onClick:be,startIcon:r.a.createElement(zn.a,null)},"Importar desde .csv")),r.a.createElement(Sr,{escogerAlumnos:Oe,enlace:"/api/alumno/noasignados/"+C,programa:v,proceso:C}),s&&r.a.createElement(yr,{usuario:Q().usuario,open:be,close:Ee,escogerAlumnos:Oe,programa:v}));case 5:return r.a.createElement("div",null,r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:ge},"Guardar"))}}(a)),r.a.createElement("div",{className:t.actionsContainer},r.a.createElement("div",null,r.a.createElement(D.a,{disabled:0===G,onClick:de,className:t.button,variant:"outlined",color:"primary"},"Anterior"),G===ue.length-1?null:r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:me,className:t.button},"Siguiente")))))}))),G===ue.length&&r.a.createElement(y.a,{square:!0,elevation:0,className:t.resetContainer},r.a.createElement(I.a,null,"Asignaci\xf3n Registrada Satisfactoriamente"),r.a.createElement(D.a,{onClick:function(){q(0)},className:t.button},"Volver a Empezar"))))},Nr=Object(h.a)((function(e){return{formControl:{margin:e.spacing(1),width:e.spacing(35)},selectEmpty:{marginTop:e.spacing(2)}}})),Tr=function(e){Nr();var a=e.facultades,t=e.facultad,n=e.setFacultad;return r.a.createElement(x.a,{style:{width:230}},r.a.createElement(k.a,{id:"demo-simple-select-label"},"Facultad"),r.a.createElement(sa.a,{labelId:"demo-simple-select-label",id:"demo-simple-select-label",defaultValue:t,value:t,onChange:function(e){n(e.target.value)},fullWidth:!0},a.map((function(e){return r.a.createElement(ca.a,{key:e.ID_PROGRAMA,value:e.ID_PROGRAMA?e.ID_PROGRAMA:e.FACULTAD.ID_PROGRAMA},e.NOMBRE?e.NOMBRE:e.FACULTAD.NOMBRE)}))))},Ur=Object(h.a)((function(e){return{icon:{marginTop:e.spacing(1)},formControl:{minWidth:e.spacing(30)},selectEmpty:{marginTop:e.spacing(2)}}})),wr=function(e){var a=Ur(),t=e.procesosTutoria,n=e.procesoTutoria,i=e.setProcesoTutoria;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{className:a.formControl},r.a.createElement(k.a,{id:"demo-simple-select-label"},"Procesos de tutoria"),r.a.createElement(sa.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:n,onChange:function(e){i(e.target.value)}},t.map((function(e){return r.a.createElement(ca.a,{key:e.ID_PROCESO_TUTORIA,value:e.ID_PROCESO_TUTORIA},e.NOMBRE)})))))};var Mr=function(e){return r.a.createElement(Na.a,{title:"",columns:e.asignaciones.columns,data:e.asignaciones.data,options:{rowStyle:{backgroundColor:"#FFF"},headerStyle:{backgroundColor:"#3AAFA9",color:"#FFF",fontSize:16}}})},Lr=Object(h.a)((function(e){return{root:{flexGrow:1,maxWidth:752},demo:{backgroundColor:e.palette.background.paper}}}));function Pr(e){var a=e.alumnos,t=Lr(),n=r.a.useState(!1),i=Object(u.a)(n,2),o=i[0];i[1];return r.a.createElement("div",{className:t.root},r.a.createElement(R.a,{container:!0,md:12,spacing:2},r.a.createElement(R.a,{item:!0,md:12},r.a.createElement("div",{className:t.demo},r.a.createElement(Re.a,{dense:o},a.map((function(e){return r.a.createElement(we.a,null,r.a.createElement(Le.a,{primary:e.USUARIO.NOMBRE+" "+e.USUARIO.APELLIDOS}))})))))))}var Fr=function(e){var a=e.open,t=e.close,n=e.alumnos,i=r.a.useState({ID:"",CODIGO:"",NOMBRE:"",APELLIDOS:"",CORREO:"",TELEFONO:"",USUARIO:"",DIRECCION:"",IMAGEN:null,FACULTAD:[]}),o=Object(u.a)(i,2);o[0],o[1];return r.a.createElement("div",null,r.a.createElement(Oa.a,{open:a,onClose:t,"aria-labelledby":"form-dialog-title",fullWidth:!0},r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12},r.a.createElement(R.a,{item:!0,md:12},"Alumnos:"))),r.a.createElement(ba.a,null,r.a.createElement(R.a,{container:!0,md:12},r.a.createElement(Pr,{alumnos:n}))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"contained",onClick:t,color:"primary"},"Aceptar"))))},Br=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(U.a)(this,t),(n=a.call(this,e)).state={alumnos:{columns:[{title:"Nombre",field:"nombre"}],data:[{nombre:""}]},alumnosSeleccionados:n.props.alumnos,flag:0},n.establecerData=n.establecerData.bind(Object(M.a)(n)),n.handleToggle=n.handleToggle.bind(Object(M.a)(n)),n}return Object(w.a)(t,[{key:"establecerData",value:function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n,i,o,s,l=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=Object(ka.a)(a.alumnos);try{for(o=function(){var e=i.value;t.push({codigo:e.USUARIO.CODIGO,nombre:e.USUARIO.NOMBRE+" "+e.USUARIO.APELLIDOS,checkbox:r.a.createElement("div",null,r.a.createElement(va.a,{id:e.ID_USUARIO,value:e.ID_USUARIO,color:"primary",defaultChecked:-1!==l.state.alumnosSeleccionados.findIndex((function(a){return a===e.ID_USUARIO})),onChange:function(){return l.handleToggle(e.ID_USUARIO)}}))})},n.s();!(i=n.n()).done;)o()}catch(c){n.e(c)}finally{n.f()}s={columns:[{title:"C\xf3digo",field:"codigo"},{title:"Nombre",field:"nombre"},{title:"",field:"checkbox"}],data:t},this.setState({alumnos:s});case 5:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.flag===this.state.flag){e.next=5;break}return e.next=3,X({servicio:this.props.enlace});case 3:(n=e.sent)&&(console.log("arreglo: ",n),this.establecerData(n));case 5:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("enlace::",this.props.enlace),e.next=3,X({servicio:this.props.enlace});case 3:(a=e.sent)&&(console.log("arreglo: ",a),this.establecerData(a));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleToggle",value:function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return-1!==(t=this.state.alumnosSeleccionados.findIndex((function(e){return e===a})))?this.state.alumnosSeleccionados.splice(t,1):this.state.alumnosSeleccionados.push(a),n=this.state.flag+1,this.setState({flag:n}),console.log("listaalumnos",this.state.alumnosSeleccionados),e.next=7,this.props.escogerAlumnos(this.state.alumnosSeleccionados);case 7:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(jr,{alumnos:this.state.alumnos}))}}]),t}(r.a.Component),Gr=function(e){var a=e.open,t=e.close,i=e.asignacion,o=e.parentCallback,s=e.idPrograma,m=e.alumnos,d=Object(n.useState)(0),p=Object(u.a)(d,2),h=p[0],f=p[1],O=Object(n.useState)(!1),g=Object(u.a)(O,2),b=g[0],v=g[1],j=r.a.useState({idAsignacion:i.ID_ASIGNACION,idTutor:i.ID_TUTOR,idProceso:i.ID_PROCESO_TUTORIA,tutor:i.TUTOR.USUARIO.NOMBRE+" "+i.TUTOR.USUARIO.APELLIDOS,proceso:i.PROCESO_TUTORIA.NOMBRE,alumnos:[]}),S=Object(u.a)(j,2),A=S[0],C=S[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/tutoria/"+i.ID_PROCESO_TUTORIA});case 2:(a=e.sent)&&(0===a.tutoria.GRUPAL?v(!1):v(!0)),t=Object(ka.a)(i.ALUMNOS);try{for(r=function(){var e=n.value;-1===A.alumnos.findIndex((function(a){return a===e.ID_ALUMNO}))&&A.alumnos.push(e.ID_ALUMNO)},t.s();!(n=t.n()).done;)r()}catch(o){t.e(o)}finally{t.f()}console.log("ALUMNOSELCC",A.alumnos);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[b]);var y=Object(n.useState)({mensajeStrong:"",mensajeStrongError:"por favor revisalos!",mensajeStrongExito:"satisfactoriamente!",mensajeError:"Existen errores al completar el formulario",mensajeExito:"Facultad registrada",mensaje:""}),x=Object(u.a)(y,2),k=x[0],N=x[1],T=Object(n.useState)({severidad:"",severW:"warning",severE:"error",severS:"success"}),U=Object(u.a)(T,2),w=U[0],M=U[1],L=function(){var e=Object(l.a)(c.a.mark((function e(){var a,t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("validando: ",A.idProceso,A.idTutor,A.alumnos.length),!(""===A.idProceso||""===A.idTutor||b&&A.alumnos.length<2)){e.next=6;break}return b&&A.alumnos.length<2?(M({severidad:"error"}),N({mensaje:"Una tutor\xeda grupal debe tener al menos dos alumnos"})):(M({severidad:"error"}),N({mensaje:"Falta completar los datos del formulario"})),e.abrupt("return");case 6:return a={asignacionTutoria:{ID:A.idAsignacion,PROCESO_TUTORIA:A.idProceso,TUTOR:A.idTutor,ALUMNOS:A.alumnos,FECHA_ASIGNACION:Lt()(new Date).format("YYYY-MM-DD")}},console.log("grupal",b),n={servicio:"/api/asignacion/modificar",request:a},console.log("saving new asignacion in DB:",a),e.next=12,$(n);case 12:t=e.sent,console.log("asignado",t),t&&(M({severidad:"success"}),N({mensaje:"Asignaci\xf3n modificada satisfactoriamente"})),console.log("got updated alumno from back:",t);case 16:f(r=h+1),o(r);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(Oa.a,{open:a,onClose:t,"aria-labelledby":"form-dialog-title",fullWidth:!0},r.a.createElement(se,{severity:w.severidad,titulo:"Observacion:",alerta:k}),r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,spacing:1},r.a.createElement(R.a,{item:!0,md:11},"Modificacion de Asignaci\xf3n"),r.a.createElement(R.a,{item:!0,md:1,alignContent:"flex-end"},r.a.createElement(Sa.a,{onClick:t})))),r.a.createElement(ba.a,null,r.a.createElement(R.a,{container:!0,spacing:12},r.a.createElement(R.a,{item:!0,md:6},r.a.createElement(I.a,{variant:"subtitle1"},"Tutor: "+A.tutor)),r.a.createElement(R.a,{item:!0,md:4,style:{marginLeft:"3%",marginBottom:"2%"}},r.a.createElement(vr,{titulo:"Tutor",escogerTutor:function(e){C(Object(E.a)(Object(E.a)({},A),{},{idTutor:e.ID_TUTOR,tutor:e.USUARIO.NOMBRE+" "+e.USUARIO.APELLIDOS}))},enlace:"/api/tutor/lista/"+s})),b&&r.a.createElement(R.a,{item:!0,md:12,style:{marginBottom:"1%"}},r.a.createElement(I.a,{variant:"subtitle1"},"Alumnos: ")),b&&r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(Br,{escogerAlumnos:function(e){console.log("alumnos: ",e),A.alumnos=[];var a,t=Object(ka.a)(e);try{for(t.s();!(a=t.n()).done;){var n=a.value;A.alumnos.push(n)}}catch(r){t.e(r)}finally{t.f()}console.log("datosForm con alumnos: ",A)},enlace:"/api/alumno/listar/"+A.idTutor+"/"+A.idProceso+"/"+s,programa:s,proceso:A.idProceso,alumnos:m})))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"outlined",onClick:t,color:"primary"},"Cancelar"),r.a.createElement(D.a,{variant:"contained",onClick:L,color:"primary"},"Modificar"))))},qr=function(e){var a=e.open,t=e.close,i=e.id,o=e.parentCallback,s=Object(n.useState)(0),m=Object(u.a)(s,2),d=m[0],p=m[1],h=Object(n.useState)(!1),f=Object(u.a)(h,2),O=f[0],g=f[1],b=Object(n.useState)({mensaje:"\xbfEst\xe1 seguro de eliminar la asignaci\xf3n?"}),E=Object(u.a)(b,2),v=E[0],j=E[1],S=function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("id",i),t={servicio:"/api/asignacion/eliminar/"+i,request:{}},e.next=4,$(t);case 4:return n=e.sent,console.log("got updated coord from back:",n),n&&("success"!==n.resultado?(g(!1),console.log("elimino",O),j({mensaje:"La asignaci\xf3n no puede eliminarse porque cuenta sesiones pendientes"})):(g(!0),j({mensaje:""}))),p(r=d+1),e.next=11,o(r);case 11:console.log("elimino",O);case 12:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(Oa.a,{open:a,onClose:t,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,justify:"center"},!O&&r.a.createElement(qa.a,{color:"error",style:{fontSize:70}}),O&&r.a.createElement(Ba.a,{color:"primary",style:{fontSize:70}}))),r.a.createElement(ba.a,null,r.a.createElement(R.a,{container:!0,md:12,justify:"center"},!O&&r.a.createElement(I.a,{variant:"subtitle1"},v.mensaje),O&&r.a.createElement(I.a,{variant:"subtitle1"},"La asignaci\xf3n se elimin\xf3 satisfactoriamente"))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"outlined",onClick:t,color:"inherit"},"Cancelar"),r.a.createElement(D.a,{variant:"contained",onClick:O?t:function(e){return S(e)},color:"primary"},!O&&"Eliminar",O&&"Aceptar"))))},_r={paper:{marginTop:"3%",marginLeft:"3%",marginRight:"3%",display:"flex",flexDirection:"column",alignItems:"left",backgroundImage:""}},Hr=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(U.a)(this,t),(n=a.call(this,e)).handleOnOpen=function(e){n.setState({open:!0}),n.state.alumnos=e,console.log("alumnos",n.state.alumnos)},n.handleOnOpenModificar=function(e){if(n.setState({open2:!0}),n.state.asignacion=e,console.log("alumnosSelec",n.state.alumnosSelec),n.state.alumnosSelec=[],e.ALUMNOS){var a,t=Object(ka.a)(e.ALUMNOS);try{for(t.s();!(a=t.n()).done;){var r=a.value;n.state.alumnosSelec.push(r.ID_ALUMNO)}}catch(i){t.e(i)}finally{t.f()}}console.log("asignacion",n.state.asignacion),console.log("alumnosSelec",n.state.alumnosSelec)},n.handleOnOpenEliminar=function(e){n.setState({open3:!0}),n.state.idAsignacion=e},n.callback=function(e){var a=n.state.flag+1;n.setState({flag:a})},n.state={asignaciones:{columns:[{title:"Nombre",field:"nombre"}],data:[{nombre:""}]},alumnos:[],alumnosSelec:[],asignacion:[],flag:0,idAsignacion:""},n.establecerData=n.establecerData.bind(Object(M.a)(n)),n.handleOnOpen=n.handleOnOpen.bind(Object(M.a)(n)),n.handleOnClose=n.handleOnClose.bind(Object(M.a)(n)),n.handleOnOpenEliminar=n.handleOnOpenEliminar.bind(Object(M.a)(n)),n}return Object(w.a)(t,[{key:"establecerData",value:function(e){var a,t=this,n=[],i=Object(ka.a)(e.asignaciones);try{var o=function(){var e=a.value;null!==e.ID_ASIGNACION&&(console.log("fechaa",e.FECHA_ASIGNACION),n.push({fecha:e.FECHA_ASIGNACION.split("T")[0],tutor:e.TUTOR.USUARIO.NOMBRE+" "+e.TUTOR.USUARIO.APELLIDOS,tutoria:e.PROCESO_TUTORIA.NOMBRE,boton:r.a.createElement("div",null,r.a.createElement(D.a,{variant:"outlined",color:"primary",onClick:function(){return t.handleOnOpen(e.ALUMNOS)}},"Ver alumnos")),edit:r.a.createElement("div",null,r.a.createElement(ye.a,{color:"primary"},r.a.createElement(wa.a,{color:"secondary",fontsize:"large",onClick:function(){return t.handleOnOpenModificar(e)}})),r.a.createElement(ye.a,{color:"primary"},r.a.createElement(La.a,{color:"error",fontsize:"large",onClick:function(){return t.handleOnOpenEliminar(e.ID_ASIGNACION)}})))}))};for(i.s();!(a=i.n()).done;)o()}catch(c){i.e(c)}finally{i.f()}var s={columns:[{title:"Fecha",field:"fecha"},{title:"Tutor",field:"tutor"},{title:"Tutoria",field:"tutoria"},{title:"Alumnos",field:"boton"},{title:"",field:"edit"}],data:n};this.setState({asignaciones:s})}},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.idTutoria===a.idTutoria&&t.flag===this.state.flag){e.next=5;break}return e.next=3,X({servicio:"/api/asignacion/lista?tutoria="+this.props.idTutoria});case 3:(n=e.sent)&&this.establecerData(n);case 5:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/asignacion/lista?tutoria="+this.props.idTutoria});case 2:(a=e.sent)&&this.establecerData(a);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleOnClose",value:function(){this.setState({open:!1}),this.setState({open2:!1}),this.setState({open3:!1})}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.open&&r.a.createElement(Fr,{open:this.handleOnOpen,close:this.handleOnClose,alumnos:this.state.alumnos}),this.state.open2&&r.a.createElement(Gr,{open:this.handleOnOpen,close:this.handleOnClose,asignacion:this.state.asignacion,idPrograma:this.props.idPrograma,alumnos:this.state.alumnosSelec,parentCallback:this.callback}),this.state.open3&&r.a.createElement(qr,{open:this.handleOnOpenEliminar,close:this.handleOnClose,id:this.state.idAsignacion,parentCallback:this.callback}),r.a.createElement(y.a,{elevation:0,style:_r.paper},r.a.createElement(Mr,{asignaciones:this.state.asignaciones})))}}]),t}(r.a.Component),zr={paper:{marginTop:"3%",marginLeft:"3%",marginRight:"3%",display:"flex",flexDirection:"row",alignItems:"left",backgroundImage:""},paper2:{marginTop:"1%",marginLeft:"3%",marginRight:"3%",display:"flex",flexDirection:"row",alignItems:"left",backgroundImage:""}},Vr=function(){var e=Object(n.useState)([]),a=Object(u.a)(e,2),t=a[0],i=a[1],o=Object(n.useState)(""),s=Object(u.a)(o,2),m=s[0],d=s[1],p=Object(n.useState)([]),h=Object(u.a)(p,2),f=h[0],O=h[1],g=Object(n.useState)(""),b=Object(u.a)(g,2),E=b[0],v=b[1],j=Object(n.useState)([]),S=Object(u.a)(j,2),A=S[0],C=S[1],I=Object(n.useState)(""),y=Object(u.a)(I,2),x=y[0],k=y[1],D=Object(n.useState)(!0),N=Object(u.a)(D,2);N[0],N[1];return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n,r,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Coordinador Facultad"!==Q().rol){e.next=9;break}return a="/api/facultad/coordinador/"+Q().usuario.ID_USUARIO,t={servicio:a},e.next=5,X(t);case 5:(n=e.sent)&&(i(n.facultades),n.facultades[0]&&d(n.facultades[0].ID_PROGRAMA)),e.next=15;break;case 9:return r="/api/facultad/lista/"+Q().usuario.ID_USUARIO,o={servicio:r},e.next=13,X(o);case 13:(s=e.sent)&&(i(s.facultades),s.facultades[0]&&("Coordinador Facultad"===Q().rol?d(s.facultades[0].ID_PROGRAMA):d(s.facultades[0].FACULTAD.ID_PROGRAMA)));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),{}),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n,r,i,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Coordinador Programa"!==Q().rol){e.next=10;break}return a="/api/programa/lista/"+Q().usuario.ID_USUARIO+"/"+m,t={servicio:a},e.next=5,X(t);case 5:n=e.sent,console.log("proogramasss:",n),n&&(O(n.programas),n.programas[0]&&((r=[]).push(n.programas[0].ID_PROGRAMA),v(r),console.log("programa",E))),e.next=17;break;case 10:return i={servicio:"/api/programa/lista/"+m},e.next=14,X(i);case 14:o=e.sent,console.log("proogramasss:",o),o&&(O(o.programa),o.programa[0]&&((s=[]).push(o.programa[0].ID_PROGRAMA),v(s),console.log("programa",E)));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==m&&function(){e.apply(this,arguments)}()}),[m]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={servicio:"/api/tutoriafijaasignada/"+E},e.next=4,X(a);case 4:(t=e.sent)!==[]&&(C(t.tutoria),t.tutoria[0]&&(k(t.tutoria[0].ID_PROCESO_TUTORIA),console.log("asdf",t.tutoria)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==m&&""!==E&&function(){e.apply(this,arguments)}()}),[E]),r.a.createElement("div",null,r.a.createElement(R.a,{container:!0,md:12,style:zr.paper2},r.a.createElement(R.a,{item:!0,md:3},r.a.createElement(Tr,{facultades:t,facultad:m,setFacultad:d})),r.a.createElement(R.a,{item:!0,md:2,style:{marginRight:"5%"}},r.a.createElement(Yt,{programas:f,programa:E,setPrograma:v})),r.a.createElement(R.a,{item:!0,md:3},r.a.createElement(wr,{procesosTutoria:A,procesoTutoria:x,setProcesoTutoria:k}))),r.a.createElement(Hr,{idTutoria:x,idPrograma:E}))},Wr=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={procesos:[{index:0,titulo:"Registro",proceso:Dr},{index:1,titulo:"Historial",proceso:Vr}]},e}return Object(w.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(xa,{titulo:"Asignaci\xf3n de tutor"}),r.a.createElement(Tt,{procesos:this.state.procesos}))}}]),t}(n.Component),Yr=t(530),Jr=t(1269),Kr=t(1211),Qr=t(532),Xr={paper:{marginLeft:"10%",marginRight:"10%",marginTop:"2%",flexDirection:"column"},paperSmall:{textAlign:"center",marginLeft:"12%",marginRight:"3%",marginTop:"1%",flexDirection:"column"}},Zr=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={seleccion:0},e.obtenerSeleccion=e.obtenerSeleccion.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"renderRadios",value:function(e){if(e)return e.map((function(e){return r.a.createElement(Yr.a,{control:r.a.createElement(Jr.a,{value:e.titulo,color:"primary"}),label:e.titulo,labelPlacement:"end"})}))}},{key:"obtenerSeleccion",value:function(e){this.props.obtenerSeleccion({name:this.props.name,value:e.target.value}),this.setState({seleccion:e.target.value})}},{key:"componentDidMount",value:function(){this.setState({seleccion:this.props.radios[0].titulo}),this.props.obtenerSeleccion({name:this.props.name,value:this.props.radios[0].titulo}),this.setState({seleccion:this.props.radios[void 0!==this.props.editar?this.props.editar:0].titulo})}},{key:"render",value:function(){return r.a.createElement(y.a,{elevation:0,style:this.props.stretch?Xr.paperSmall:Xr.paper},this.props.stretch?r.a.createElement(r.a.Fragment,null):r.a.createElement("br",null),r.a.createElement(Kr.a,{component:"legend",color:"primary"},this.props.titulo),r.a.createElement(Qr.a,{row:!0,"aria-label":"gender",name:"gender1",value:this.state.seleccion,onChange:this.obtenerSeleccion},this.renderRadios(this.props.radios)))}}]),t}(n.Component),$r={paper:{marginTop:"3%",marginLeft:"5%",marginRight:"3%",flexDirection:"column",backgroundImage:""}},ei=(n.Component,t(635)),ai=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).handleOnChangeEtiquetas=function(a){var t=[];a.forEach((function(e){e.agregar&&t.push(e.id)})),e.setState({etiqueta:t})},e.handleOnChange=function(a){var t=Object.assign({},e.state.tutoria);t[a.name]=a.value,e.setState({tutoria:t})},e.state={modal:!1,usuarioLogueado:Q(),etiqueta:[],tutoriaInicial:void 0,tutoria:{nombre:"",descripcion:"",obligatorio:0,tutor_fijo:0,grupal:0,tutor_asignado:0,permanente:5,programa:"",duracion:0},radios:{permanente:[{titulo:"Semestral",valor:0},{titulo:"Permanente",valor:1}],obligatorio:[{titulo:"Obligatorio",valor:1},{titulo:"Opcional",valor:0}],tutor_asignado:[{titulo:"Solicitado",valor:0},{titulo:"Asignado",valor:1}],tutor_fijo:[{titulo:"Variable",valor:0},{titulo:"Fijo Semestral",valor:1}],grupal:[{titulo:"Grupal",valor:1},{titulo:"Individual",valor:0}]},validacionOk:!1,errores:[],duracion:{duracion:[{ID:30,NOMBRE:"30 min"},{ID:60,NOMBRE:"60 min"},{ID:90,NOMBRE:"90 min"}]},alert:{mensajeStrong:"",mensajeStrongError:"por favor revisalos!",mensajeStrongExito:"satisfactoriamente!",mensajeError:"Existen errores al completar el formulario",mensajeExito:"Proceso de Tutoria registrado",mensaje:""},severidad:"warning"},e.obtenerSeleccionRadio=e.obtenerSeleccionRadio.bind(Object(M.a)(e)),e.handleOnClick=e.handleOnClick.bind(Object(M.a)(e)),e.handleOnChangeEtiquetas=e.handleOnChangeEtiquetas.bind(Object(M.a)(e)),e.handleOnChangePrograma=e.handleOnChangePrograma.bind(Object(M.a)(e)),e.handleOnChangeDuracion=e.handleOnChangeDuracion.bind(Object(M.a)(e)),e.validarEntrada=e.validarEntrada.bind(Object(M.a)(e)),e.handleOnChangeFacultad=e.handleOnChangeFacultad.bind(Object(M.a)(e)),e.getSubRol=e.getSubRol.bind(Object(M.a)(e)),e.getEnlace=e.getEnlace.bind(Object(M.a)(e)),e.LanzarError=e.LanzarError.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"validarEntrada",value:function(e){var a=void 0,t=!1,n=this.state.errores.forEach((function(t){t.llave===e.llave&&(a=t)}));if(a?0===e.error.length&&(n=!0):0!==e.error.length&&(t=!0),t){var r=this.state.errores;return r.push(e),void this.setState({errores:r})}if(n){var i=[];this.state.errores.forEach((function(a){a.llave!==e.llave&&i.push(a)})),this.setState({errores:i})}}},{key:"obtenerSeleccionRadio",value:function(e){var a=this,t=Object.assign({},this.state.tutoria);this.state.radios[e.name].forEach((function(n){if(n.titulo===e.value)return t[e.name]=n.valor,void a.setState({tutoria:t})}))}},{key:"handleOnChangePrograma",value:function(e){var a=Object.assign({},this.state.tutoria);a.programa=e[0],this.setState({tutoria:a})}},{key:"handleOnChangeFacultad",value:function(e){var a=Q().usuario,t=this.getSubRol(Q().rol),n=a.ID_USUARIO,r=a?"facultad"===t?"/api/programa/lista/".concat(e[0]):"programa"===t?"/api/programa/lista/".concat(n,"/").concat(e[0]):"":"";this.setState({filtroFacultad:r})}},{key:"handleOnChangeDuracion",value:function(e){var a=Object.assign({},this.state.tutoria);a.duracion=e,this.setState({tutoria:a})}},{key:"handleOnClick",value:function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n,r,i,o,s,l,u,m,d,p,h,f,O,g,b,E;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.state.errores.length){e.next=34;break}if(t=this.state.tutoria,n=t.nombre,r=t.descripcion,i=t.obligatorio,o=t.tutor_fijo,s=t.grupal,l=t.tutor_asignado,u=t.permanente,m=t.programa,d=t.duracion,p={tutoria:{ID:this.props.idTutoria,NOMBRE:n,DESCRIPCION:r,OBLIGATORIO:i,TUTOR_FIJO:o,GRUPAL:s,TUTOR_ASIGNADO:l,PERMANENTE:u,ETIQUETA:this.state.etiqueta,PROGRAMA:m,DURACION:d}},h=void 0,!this.props.actualizarTutoria){e.next=11;break}return f={servicio:"/api/tutoria/modificar",request:p},e.next=8,$(f);case 8:h=e.sent,e.next=15;break;case 11:return O={servicio:"/api/tutoria",request:p},e.next=14,$(O);case 14:h=e.sent;case 15:if(!h){e.next=32;break}if(!h.error){e.next=24;break}return(g=Object.assign({},this.state.alert)).mensaje="".concat(g.mensajeError,": ").concat(h.error),g.mensajeStrong=g.mensajeStrongError,this.setState({alert:g}),this.setState({severidad:"error"}),this.state.alert.mensaje=this.state.alert.mensajeError,e.abrupt("return");case 24:(b=Object.assign({},this.state.alert)).mensaje=b.mensajeExito,b.mensajeStrong=b.mensajeStrongExito,this.setState({alert:b}),this.setState({severidad:"success"}),this.state.alert.mensaje=this.state.alert.mensajeExito,e.next=32;break;case 32:e.next=40;break;case 34:(E=Object.assign({},this.state.alert)).mensaje="".concat(E.mensajeError,": ").concat(this.state.errores.map((function(e){return e.error}))),E.mensajeStrong=E.mensajeStrongError,this.setState({alert:E}),this.setState({severidad:"error"}),this.state.alert.mensaje=this.state.alert.mensajeError;case 40:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"getSubRol",value:function(e){var a=null===e||void 0===e?void 0:e.split(" ");return a?a[1].toLowerCase():""}},{key:"getEnlace",value:function(e){var a=this.getSubRol(Q().rol),t=e.ID_USUARIO;return e?"facultad"===a?"/api/facultad/coordinador/"+t:"programa"===a?"/api/facultad/lista/"+t:"":""}},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.actualizarTutoria){e.next=6;break}return e.next=3,X({servicio:"/api/tutoria/".concat(this.props.idTutoria)});case 3:a=e.sent,console.log("Consegui esto",a),(null===a||void 0===a?void 0:a.tutoria)?(this.setState({tutoriaInicial:a}),{},this.setState({tutoria:{nombre:a.tutoria.NOMBRE,descripcion:a.tutoria.DESCRIPCION,obligatorio:a.tutoria.OBLIGATORIO,tutor_fijo:a.tutoria.TUTOR_FIJO,grupal:a.tutoria.GRUPAL,tutor_asignado:a.tutoria.TUTOR_ASIGNADO,permanente:a.tutoria.PERMANENTE,programa:a.tutoria.PROGRAMA,duracion:a.tutoria.DURACION},etiqueta:a.tutoria.ETIQUETA})):this.LanzarError();case 6:void 0!==this.props.modalOrden&&this.setState({modal:!0});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.modalOrden!==a.modalOrden&&this.handleOnClick(),this.props.idTutoria!==a.idTutoria&&this.handleOnClick();case 2:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"LanzarError",value:function(){var e=Object(u.a)(this.context,2),a=e[0],t=(a.openMensaje,a.mensaje,a.postClose,e[1]);he(t,{postClose:this.props.hadleClose,open:!0,mensaje:"X>Los datos de la tutoria no se pudiaron cargar correctamente, intente nuevamente en unos instantes."})}},{key:"render",value:function(){var e=this.state.tutoriaInicial;if(this.props.actualizarTutoria){if(e){if(this.state.tutoriaInicial){console.log("ENTREE: ",e);var a=e.tutoria;return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,{severity:this.state.severidad,titulo:"Observacion",alerta:this.state.alert}),r.a.createElement(R.a,{container:!0,spacing:0},r.a.createElement(R.a,{item:!0,md:6,xs:12},r.a.createElement(H,{name:"nombre",label:"Nombre de la Tutoria",requerido:!0,autoFocus:!0,inicial:a.NOMBRE,validacion:{lim:25},onChange:this.handleOnChange,validarEntrada:this.validarEntrada}),r.a.createElement(H,{autoFocus:!0,name:"descripcion",label:"Descripci\xf3n",validacion:{lim:100},variant:"outlined",rows:4,multiline:!0,requerido:!0,inicial:a.DESCRIPCION,onChange:this.handleOnChange,validarEntrada:this.validarEntrada}),r.a.createElement(vn,{mensaje:"facultad",titulo:"Facultad",enlace:this.getEnlace(Q().usuario),id:"ID_PROGRAMA",nombre:"NOMBRE",subnombre:"programa"===this.getSubRol(Q().rol)?"FACULTAD":void 0,keyServicio:"facultades",escogerItem:this.handleOnChangeFacultad,small:!0,inicial:!0,placeholder:"Escoja la facultad"}),this.state.filtroFacultad?r.a.createElement(vn,{mensaje:"programa",titulo:"Programa",enlace:this.state.filtroFacultad,id:"ID_PROGRAMA",nombre:"NOMBRE",keyServicio:"programa"===this.getSubRol(Q().rol)?"programas":"programa",escogerItem:this.handleOnChangePrograma,small:!0,inicial:!0,placeholder:"Escoja el programa"}):r.a.createElement(r.a.Fragment,null),r.a.createElement(vn,{mensaje:"periodo",escogerItem:this.handleOnChangeDuracion,titulo:"Duracion Maxima",datos:this.state.duracion,id:"ID",nombre:"NOMBRE",keyServicio:"duracion",placeholder:"Escoja una duraci\xf3n"}),r.a.createElement("br",null)),r.a.createElement(R.a,{item:!0,md:6,xs:12},r.a.createElement(bn,{titulo:"Etiquetas(opcional):",obtenerEtiquetas:this.handleOnChangeEtiquetas,enlace:"/api/etiqueta",base:e.ETIQUETA}),r.a.createElement(Zr,{editar:a.TUTOR_ASIGNADO,name:"tutor_asignado",id:"tipoAsignarTutor",titulo:"Tipo de Asignacion Tutor",radios:this.state.radios.tutor_asignado,obtenerSeleccion:this.obtenerSeleccionRadio}),r.a.createElement(Zr,{editar:0===a.OBLIGATORIO?1:0,name:"obligatorio",titulo:"Naturaleza de la Tutor\xeda",radios:this.state.radios.obligatorio,obtenerSeleccion:this.obtenerSeleccionRadio}),r.a.createElement(Zr,{editar:a.TUTOR_FIJO,name:"tutor_fijo",id:"tipoTutor",titulo:"Tipo de Tutor",radios:this.state.radios.tutor_fijo,obtenerSeleccion:this.obtenerSeleccionRadio}),r.a.createElement(Zr,{editar:0===a.GRUPAL?1:0,name:"grupal",id:"tipoAsignarTutor",titulo:"Tipo de Agrupacion de Alumnos",radios:this.state.radios.grupal,obtenerSeleccion:this.obtenerSeleccionRadio}),r.a.createElement("br",null),r.a.createElement(R.a,{container:!0,spacing:5},r.a.createElement(R.a,{item:!0,md:6,xs:8}),r.a.createElement(R.a,{item:!0,md:4,xs:4},r.a.createElement(D.a,{type:"submit",fullWidth:!0,size:"large",variant:"contained",color:"primary",onClick:this.handleOnClick,style:{display:this.state.modal?"none":"block"}},"Guardar")),r.a.createElement(R.a,{item:!0,md:6,xs:8})))),r.a.createElement("br",null))}return r.a.createElement(r.a.Fragment,null)}return r.a.createElement(Cn,{mensaje:"Cargando datos de la tutoria",size:"md",base:!0})}return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,{severity:this.state.severidad,titulo:"Observacion",alerta:this.state.alert}),r.a.createElement(R.a,{container:!0,spacing:0},r.a.createElement(R.a,{item:!0,md:6,xs:12},r.a.createElement(H,{name:"nombre",label:"Nombre de la Tutoria",requerido:!0,autoFocus:!0,inicial:"",validacion:{lim:25},onChange:this.handleOnChange,validarEntrada:this.validarEntrada}),r.a.createElement(H,{autoFocus:!0,name:"descripcion",label:"Descripci\xf3n",validacion:{lim:100},variant:"outlined",rows:4,multiline:!0,requerido:!0,inicial:"",onChange:this.handleOnChange,validarEntrada:this.validarEntrada}),r.a.createElement(vn,{mensaje:"facultad",titulo:"Facultad",enlace:this.getEnlace(Q().usuario),id:"ID_PROGRAMA",nombre:"NOMBRE",subnombre:"programa"===this.getSubRol(Q().rol)?"FACULTAD":void 0,keyServicio:"facultades",escogerItem:this.handleOnChangeFacultad,small:!0,inicial:!0,placeholder:"Escoja la facultad"}),this.state.filtroFacultad?r.a.createElement(vn,{mensaje:"programa",titulo:"Programa",enlace:this.state.filtroFacultad,id:"ID_PROGRAMA",nombre:"NOMBRE",keyServicio:"programa"===this.getSubRol(Q().rol)?"programas":"programa",escogerItem:this.handleOnChangePrograma,small:!0,inicial:!0,placeholder:"Escoja el programa"}):r.a.createElement(r.a.Fragment,null),r.a.createElement(vn,{mensaje:"periodo",escogerItem:this.handleOnChangeDuracion,titulo:"Duracion Maxima",datos:this.state.duracion,id:"ID",nombre:"NOMBRE",keyServicio:"duracion",placeholder:"Escoja una duraci\xf3n"}),r.a.createElement("br",null)),r.a.createElement(R.a,{item:!0,md:6,xs:12},r.a.createElement(bn,{titulo:"Etiquetas(opcional):",obtenerEtiquetas:this.handleOnChangeEtiquetas,enlace:"/api/etiqueta"}),r.a.createElement(Zr,{name:"tutor_asignado",id:"tipoAsignarTutor",titulo:"Tipo de Asignacion Tutor",radios:this.state.radios.tutor_asignado,obtenerSeleccion:this.obtenerSeleccionRadio}),r.a.createElement(Zr,{name:"obligatorio",titulo:"Naturaleza de la Tutor\xeda",radios:this.state.radios.obligatorio,obtenerSeleccion:this.obtenerSeleccionRadio}),r.a.createElement(Zr,{name:"tutor_fijo",id:"tipoTutor",titulo:"Tipo de Tutor",radios:this.state.radios.tutor_fijo,obtenerSeleccion:this.obtenerSeleccionRadio}),r.a.createElement(Zr,{name:"grupal",id:"tipoAsignarTutor",titulo:"Tipo de Agrupacion de Alumnos",radios:this.state.radios.grupal,obtenerSeleccion:this.obtenerSeleccionRadio}),r.a.createElement("br",null),r.a.createElement(R.a,{container:!0,spacing:5},r.a.createElement(R.a,{item:!0,md:6,xs:8}),r.a.createElement(R.a,{item:!0,md:4,xs:4},r.a.createElement(D.a,{type:"submit",fullWidth:!0,size:"large",variant:"contained",color:"primary",onClick:this.handleOnClick,style:{display:this.state.modal?"none":"block"}},"Guardar")),r.a.createElement(R.a,{item:!0,md:6,xs:8})))),r.a.createElement("br",null))}}]),t}(n.Component);ai.contextType=fe;var ti=ai,ni=function(e){var a=e.open,t=e.close,i=e.id,o=e.parentCallback,s=Object(n.useState)(0),m=Object(u.a)(s,2),d=m[0],p=m[1],h=Object(n.useState)(!1),f=Object(u.a)(h,2),O=f[0],g=f[1],b=Object(n.useState)({mensaje:"\xbfEst\xe1 seguro de eliminar la tutor\xeda?"}),E=Object(u.a)(b,2),v=E[0],j=E[1],S=function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("idFacu",i),t={servicio:"/api/tutoria/eliminar/"+i,request:{}},e.next=5,$(t);case 5:return n=e.sent,console.log("got updated coord from back:",n),n&&("success"!==n.resultado?(g(!1),console.log("elimino",O),j({mensaje:"La tutoria no puede eliminarse porque cuenta con sesiones pendientes"})):(g(!0),j({mensaje:""}))),p(r=d+1),e.next=12,o(r);case 12:console.log("elimino",O);case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(Oa.a,{open:a,onClose:t,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,justify:"center"},!O&&r.a.createElement(qa.a,{color:"error",style:{fontSize:70}}),O&&r.a.createElement(Ba.a,{color:"primary",style:{fontSize:70}}))),r.a.createElement(ba.a,null,r.a.createElement(R.a,{container:!0,md:12,justify:"center"},!O&&r.a.createElement(I.a,{variant:"subtitle1"},v.mensaje),O&&r.a.createElement(I.a,{variant:"subtitle1"},"La tutor\xeda se elimin\xf3 satisfactoriamente"))),r.a.createElement(ga.a,null,r.a.createElement("div",{style:{display:O?"none":"block"}},r.a.createElement(D.a,{variant:"outlined",onClick:t,color:"inherit"},"Cancelar")),r.a.createElement(D.a,{variant:"contained",onClick:O?t:function(e){return S(e)},color:"primary"},!O&&"Eliminar",O&&"Aceptar"))))},ri={vigencia:["Semestral","Permanente"],asignacion:["Solicitado","Asignado"],tipoasignacion:["Semestral","Permanente"],naturaleza:["Opcional","Obligatorio"],tipotutor:["Variable","Fijo Semestral","Fijo Permanente"],agrupacion:["Individual","Grupal"]},ii=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).handleOnOpenEliminar=function(a){e.setState({open2:!0}),a&&e.setState({currentID:a})},e.handleOnChangePrograma=function(){var a=Object(l.a)(c.a.mark((function a(t){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.setState({programa:t}),t&&e.refrescarDatosSSJ(t);case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),e.callback=function(a){var t=e.state.flag+1;e.setState({flag:t})},e.state={registrarTutoria:!1,tipoDialogo:0,open:!1,currentID:0,alumno:{},title1:"Resultados historicos del alumno",title2:"al ".concat((new Date).toISOString().split("T")[0]),datosTabla:{},flag:0,datosTablaOffline:{columns:[{title:"Nro",field:"nro"},{title:"Nombre",field:"nombre"},{title:"Descripcion",field:"descripcion"},{title:"Duracion sesi\xf3n (min)",field:"duracion"},{title:"Etiquetas",field:"etiquetas",export:!1},{title:"Tipo Asignacion de tutor",field:"asignacion"},{title:"Naturaleza",field:"naturaleza"},{title:"Tipo de tutor",field:"tipotutor"},{title:"Agrupacion de alumnos",field:"agrupacion"},{title:"Mantenimiento",field:"mantenimiento",export:!1}],data:[]}},e.handleOnChangeFacultad=e.handleOnChangeFacultad.bind(Object(M.a)(e)),e.getSubRol=e.getSubRol.bind(Object(M.a)(e)),e.getEnlace=e.getEnlace.bind(Object(M.a)(e)),e.handleEliminar=e.handleEliminar.bind(Object(M.a)(e)),e.handleEditar=e.handleEditar.bind(Object(M.a)(e)),e.handleOpenDialog=e.handleOpenDialog.bind(Object(M.a)(e)),e.handleOnClose=e.handleOnClose.bind(Object(M.a)(e)),e.handleOnOpenEliminar=e.handleOnOpenEliminar.bind(Object(M.a)(e)),e.refrescarDatosSSJ=e.refrescarDatosSSJ.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"refrescarDatosSSJ",value:function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n,i=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({datosTabla:{}}),e.next=3,X({servicio:"/api/tutoria/lista/".concat(a)});case 3:if(t=e.sent,n=[],!t.tutoria){e.next=9;break}return t.tutoria.forEach((function(e,a){var t=e.ID_PROCESO_TUTORIA,o=e.NOMBRE,s=e.DESCRIPCION,c=e.OBLIGATORIO,l=e.TUTOR_FIJO,u=e.GRUPAL,m=e.TUTOR_ASIGNADO,d=(e.PERMANENTE,e.ETIQUETA),p=e.DURACION,h=[];d.forEach((function(e){h.push(e.DESCRIPCION)})),n.push({nro:a+1,nombre:o,descripcion:s,duracion:p,etiquetas:r.a.createElement(r.a.Fragment,null,h.map((function(e){return r.a.createElement(ei.a,{label:e,color:"primary",style:{marginRight:5}})}))),asignacion:ri.asignacion[m],naturaleza:ri.naturaleza[c],tipotutor:ri.tipotutor[l],agrupacion:ri.agrupacion[u],mantenimiento:r.a.createElement(r.a.Fragment,null,r.a.createElement(ye.a,{color:"primary"},r.a.createElement(wa.a,{color:"secondary",fontsize:"large",onClick:function(e){return i.handleOpenDialog(e,2,t)}})),r.a.createElement(ye.a,{color:"primary"},r.a.createElement(La.a,{color:"error",fontsize:"large",onClick:function(e){return i.handleOnOpenEliminar(t)}}))," ")})})),e.next=9,this.setState({datosTabla:{columns:this.state.datosTablaOffline.columns,data:n}});case 9:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"handleOpenDialog",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({cuerpoDialogo:t});case 2:n&&this.setState({currentID:n}),this.setState({open:!0});case 4:case"end":return e.stop()}}),e,this)})));return function(a,t,n){return e.apply(this,arguments)}}()},{key:"handleOnClick",value:function(e,a){this.setState({currentID:a,open:!0})}},{key:"handleEliminar",value:function(e){}},{key:"handleEditar",value:function(e){}},{key:"handleOnClose",value:function(){this.setState({open2:!1}),this.refrescarDatosSSJ(this.state.programa)}},{key:"handleOnChangeFacultad",value:function(e){var a=Q().usuario,t=this.getSubRol(Q().rol),n=a.ID_USUARIO,r=a?"facultad"===t?"/api/programa/lista/".concat(e[0]):"programa"===t?"/api/programa/lista/".concat(n,"/").concat(e[0]):"":"";this.setState({filtroFacultad:r})}},{key:"getSubRol",value:function(e){var a=null===e||void 0===e?void 0:e.split(" ");return a?a[1].toLowerCase():""}},{key:"getEnlace",value:function(e){var a=this.getSubRol(Q().rol),t=e.ID_USUARIO;return e?"facultad"===a?"/api/facultad/coordinador/"+t:"programa"===a?"/api/facultad/lista/"+t:"":""}},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"renderTabla",value:function(e){return this.state.datosTabla.data?e!==this.state.datosNuevos?r.a.createElement(f.a,{theme:g},r.a.createElement(wt.a,{columns:this.state.datosTabla.columns,data:this.state.datosTabla.data,title:"Listado de Tutorias",exportar:!0})):void 0:r.a.createElement(Cn,{mensaje:"Cargando Tutorias",size:"md",base:!0})}},{key:"handleClose",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{backgroundColor:"#ffffff"}},r.a.createElement(qn,{titulo:["Registro de nuevo proceso de tutoria","Importar Alumnos desde un CSV","Actualizar proceso de tutor\xeda","Actualizar","Eliminar proceso de tutoria"][this.state.cuerpoDialogo],body:0===this.state.cuerpoDialogo?r.a.createElement(ti,{modalOrden:this.state.registrarTutoria}):1===this.state.cuerpoDialogo?r.a.createElement(ti,{modalOrden:this.state.registrarTutoria,idFacultad:this.state.currentID,actualizarTutoria:!0}):2===this.state.cuerpoDialogo?r.a.createElement(ti,{modalOrden:this.state.registrarTutoria,idTutoria:this.state.currentID,hadleClose:function(){e.setState({open:!1})},actualizarTutoria:!0}):3===this.state.cuerpoDialogo?r.a.createElement("h2",null,"Eliminar Alumno con ID : ",this.state.currentID):r.a.createElement(er,{usuario:Q().usuario,idAlumno:this.state.currentID}),open:this.state.open,hadleClose:function(){e.setState({open:!1}),e.refrescarDatosSSJ(e.state.programa)},maxWidth:"lg",botonIzquierdo:"Cerrar",botonDerecho:0===this.state.cuerpoDialogo||2===this.state.cuerpoDialogo?{name:"Registrar",onClick:function(){e.setState({registrarTutoria:!e.state.registrarTutoria})}}:void 0}),r.a.createElement(R.a,{container:!0,spacing:2,style:{textAlign:"center"}},r.a.createElement(R.a,{item:!0,md:4,xs:4},r.a.createElement(vn,{mensaje:"facultad",titulo:"Facultad",enlace:this.getEnlace(Q().usuario),id:"ID_PROGRAMA",nombre:"NOMBRE",subnombre:"programa"===this.getSubRol(Q().rol)?"FACULTAD":void 0,keyServicio:"facultades",escogerItem:this.handleOnChangeFacultad,small:!0,inicial:!0,placeholder:"Escoja la facultad"})),r.a.createElement(R.a,{item:!0,md:4,xs:4},this.state.filtroFacultad?r.a.createElement(vn,{mensaje:"programa",titulo:"Programa",enlace:this.state.filtroFacultad,id:"ID_PROGRAMA",nombre:"NOMBRE",keyServicio:"programa"===this.getSubRol(Q().rol)?"programas":"programa",escogerItem:this.handleOnChangePrograma,small:!0,inicial:!0,placeholder:"Escoja el programa"}):r.a.createElement(r.a.Fragment,null)),r.a.createElement(R.a,{item:!0,md:2,xs:2}),r.a.createElement(R.a,{item:!0,md:2,xs:2},r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:function(a){return e.handleOpenDialog(a,0)}},"Registrar Nueva Tutor\xeda"))),this.renderTabla(this.state.datosTabla),this.state.open2&&r.a.createElement(ni,{open:this.handleOnOpenEliminar,close:this.handleOnClose,id:this.state.currentID,parentCallback:this.callback}))}}]),t}(n.Component),oi=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={procesos:[{index:0,titulo:"",proceso:ii,paper:!1}]},e}return Object(w.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(xa,{titulo:"Procesos de Tutor\xeda"}),r.a.createElement(Tt,{procesos:this.state.procesos,paper:!0}))}}]),t}(r.a.Component),si=(Object(h.a)((function(e){return{formControl:{margin:e.spacing(1),width:e.spacing(35)},selectEmpty:{marginTop:e.spacing(2)}}})),function(e){var a=e.facultades,t=e.facultad,n=e.setFacultad,i=e.nombre;e.id;return r.a.createElement(x.a,{style:{width:230}},r.a.createElement(k.a,{id:"demo-simple-select-label"},i||"Facultad"),r.a.createElement(sa.a,{labelId:"demo-simple-select-label",id:"demo-simple-select-label",value:t,onChange:function(e){n(e.target.value)},fullWidth:!0},a.map((function(e){return r.a.createElement(ca.a,{key:e.ID_PROGRAMA,value:e.ID_PROGRAMA?e.ID_PROGRAMA:e.FACULTAD.ID_PROGRAMA},e.NOMBRE?e.NOMBRE:e.FACULTAD.NOMBRE)}))))}),ci=Object(h.a)((function(e){return{foto:{backgroundImage:"url(https://pps.whatsapp.net/v/t61.24694-24/97969579_3102912936463371_7208379054937379558_n.jpg?oe=5EC495F5&oh=68e4ca58a0f65f680df95105f6ba41ae)",backgroundSize:"cover",backgroundPosition:"center",alignItems:"center",padding:e.spacing(5),width:e.spacing(15),height:e.spacing(15)}}})),li=function(e){e.flag;var a=e.setFlag,t=r.a.useState({ID_FACULTAD:"13",ID_INSTITUCION:"1",NOMBRE:"",IMAGEN:null}),i=Object(u.a)(t,2),o=i[0],s=i[1],m=Object(n.useState)(!0),d=Object(u.a)(m,2),p=(d[0],d[1],Object(n.useState)(Aa)),h=Object(u.a)(p,2),f=h[0],O=h[1],g=(ci(),r.a.useState(!1)),b=Object(u.a)(g,2),v=b[0],j=b[1],S=r.a.useState(),A=Object(u.a)(S,2),C=(A[0],A[1],Object(n.useState)([])),I=Object(u.a)(C,2),y=I[0],x=I[1],k=Object(n.useState)([]),N=Object(u.a)(k,2),T=N[0],U=N[1],w=Object(n.useState)({mensajeStrong:"",mensajeStrongError:"por favor revisalos!",mensajeStrongExito:"satisfactoriamente!",mensajeError:"Existen errores al completar el formulario",mensajeExito:"Programa registrado",mensaje:""}),M=Object(u.a)(w,2),L=M[0],P=M[1],F=Object(n.useState)({severidad:"",severW:"warning",severE:"error",severS:"success"}),G=Object(u.a)(F,2),q=G[0],_=G[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/api/facultad/coordinador/"+Q().usuario.ID_USUARIO,t={servicio:a},e.next=4,X(t);case 4:(n=e.sent)&&x(n.facultades);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),{});var H=function(){j(!1),_({severidad:""}),P({mensaje:""})},z=function(){var e=Object(l.a)(c.a.mark((function e(t,n,r){var i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.name.error&&""!==n.NOMBRE&&0!==T.length){e.next=6;break}return _({severidad:"error"}),0===T.length?P({mensaje:"Debe asignarle una facultad"}):P({mensaje:"Errores en el formulario"}),e.abrupt("return");case 6:return n.ID_FACULTAD=T,r(Object(E.a)({},n)),i={servicio:"/api/programa",request:{programa:n}},e.next=11,$(i);case 11:(o=e.sent)&&(1===o.registro.ok?o&&(_({severidad:"success"}),P({mensaje:"Programa Registrado Satisfactoriamente"}),a((function(e){return e+1}))):0===o.registro.ok&&(_({severidad:"error"}),P({mensaje:"El programa ya existe"})));case 13:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}();return r.a.createElement("div",null,"Coordinador Facultad"===Q().rol&&r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:function(){j(!0)}},"Registrar"),r.a.createElement(Oa.a,{open:v,onClose:H,"aria-labelledby":"form-dialog-title"},r.a.createElement(se,{severity:q.severidad,titulo:"Observacion:",alerta:L}),r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,spacing:1},r.a.createElement(R.a,{item:!0,md:11},"Formulario de Registro de Programa"),r.a.createElement(R.a,{item:!0,md:1,alignContent:"flex-end"},r.a.createElement(Sa.a,{onClick:H})))),r.a.createElement(ba.a,null,r.a.createElement(R.a,{container:!0,spacing:2},r.a.createElement(R.a,{item:!0,md:12,sm:!0,container:!0},r.a.createElement(R.a,{item:!0,xs:!0,container:!0,direction:"column",justify:"center",spacing:2},r.a.createElement(R.a,{item:!0,xs:!0},r.a.createElement(B.a,{required:!0,error:f.name.error,margin:"dense",id:"NOMBRE",label:"Nombre",fullWidth:!0,onChange:function(e){return function(e,a,t,n,r){t(Object(E.a)(Object(E.a)({},a),{},{NOMBRE:e.target.value}));var i=Ca(e.target.value);r(Object(E.a)(Object(E.a)({},n),{},{name:i}))}(e,o,s,f,O)},helperText:f.name.mesage}),r.a.createElement(si,{facultades:y,facultad:T,setFacultad:U})))))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"outlined",onClick:H,color:"primary"},"Cancelar"),r.a.createElement(D.a,{variant:"contained",onClick:function(e){return z(e,o,s)},color:"primary"},"Crear"))))};var ui=function(e){return r.a.createElement(Na.a,{title:"",columns:e.programas.columns,data:e.programas.data,options:{rowStyle:{backgroundColor:"#FFF"},headerStyle:{backgroundColor:"#3AAFA9",color:"#FFF",fontSize:16}}})},mi=Object(h.a)((function(e){return{foto:{backgroundImage:"url(https://pps.whatsapp.net/v/t61.24694-24/97969579_3102912936463371_7208379054937379558_n.jpg?oe=5EC495F5&oh=68e4ca58a0f65f680df95105f6ba41ae)",backgroundSize:"cover",backgroundPosition:"center",alignItems:"center",padding:e.spacing(5),width:e.spacing(15),height:e.spacing(15)}}})),di=function(e){var a=e.programa,t=e.parentCallback,i=Object(n.useState)(0),o=Object(u.a)(i,2),s=o[0],m=o[1],d=r.a.useState({ID_FACULTAD:"",ID_PROGRAMA:"",ID_INSTITUCION:"",NOMBRE:"",IMAGEN:null,NOMBREFACU:"",COORDINADORES:[]}),p=Object(u.a)(d,2),h=p[0],f=p[1],O=Object(n.useState)(!0),g=Object(u.a)(O,2),b=(g[0],g[1],Object(n.useState)(Aa)),v=Object(u.a)(b,2),j=v[0],S=v[1],A=(mi(),r.a.useState(!1)),C=Object(u.a)(A,2),I=(C[0],C[1],r.a.useState()),y=Object(u.a)(I,2),x=(y[0],y[1],Object(n.useState)([])),k=Object(u.a)(x,2),N=k[0],T=k[1],U=Object(n.useState)(""),w=Object(u.a)(U,2),M=w[0],L=w[1],P=Object(n.useState)({mensajeStrong:"",mensajeStrongError:"por favor revisalos!",mensajeStrongExito:"satisfactoriamente!",mensajeError:"Existen errores al completar el formulario",mensajeExito:"Programa registrado",mensaje:""}),F=Object(u.a)(P,2),G=F[0],q=F[1],_=Object(n.useState)({severidad:"",severW:"warning",severE:"error",severS:"success"}),H=Object(u.a)(_,2),z=H[0],V=H[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n,r,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Coordinador Facultad"!==Q().rol){e.next=9;break}return a="/api/facultad/coordinador/"+Q().usuario.ID_USUARIO,t={servicio:a},e.next=5,X(t);case 5:(n=e.sent)&&T(n.facultades),e.next=15;break;case 9:return r="/api/facultad/lista/"+Q().usuario.ID_USUARIO,i={servicio:r},e.next=13,X(i);case 13:(o=e.sent)&&T(o.facultades);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),{}),Object(n.useEffect)((function(){h.ID_FACULTAD=a.ID_FACULTAD,h.ID_PROGRAMA=a.ID_PROGRAMA,h.NOMBRE=a.NOMBRE,h.ID_INSTITUCION=a.ID_INSTITUCION,h.NOMBREFACU=a.FACULTAD.NOMBRE,h.COORDINADORES=a.ROL_X_USUARIO_X_PROGRAMAs,f(Object(E.a)({},h))}),{});var W=function(){var e=Object(l.a)(c.a.mark((function e(n,r,i){var o,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j.name.error&&""!==r.NOMBRE){e.next=6;break}return V({severidad:z.severE}),q({mensaje:G.mensajeError}),e.abrupt("return");case 6:return r.ID_FACULTAD=""!==M?M:a.ID_FACULTAD,i(Object(E.a)({},r)),o={servicio:"/api/programa/modificar",request:{programa:r}},e.next=11,$(o);case 11:(l=e.sent)&&(1===l.modificacion.ok?(V({severidad:"success"}),q({mensaje:"Programa Modificado Satisfactoriamente"})):(V({severidad:"error"}),q({mensaje:"El programa ya existe"}))),m(u=s+1),t(u);case 16:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(Oa.a,{open:e.open,onClose:e.close,"aria-labelledby":"form-dialog-title"},r.a.createElement(se,{severity:z.severidad,titulo:"Observacion:",alerta:G}),r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,justify:"space-between",direction:"row"},r.a.createElement(R.a,{item:!0,md:11},"Formulario de Registro de Programa"),r.a.createElement(R.a,{item:!0,md:1,alignContent:"flex-end"},r.a.createElement(Sa.a,{onClick:e.close})))),r.a.createElement(ba.a,null,r.a.createElement(R.a,{container:!0,spacing:2},r.a.createElement(R.a,{item:!0,md:12,sm:!0,container:!0},r.a.createElement(R.a,{item:!0,xs:!0,container:!0,direction:"column",justify:"center",spacing:2},r.a.createElement(R.a,{item:!0,xs:!0},r.a.createElement(B.a,{disabled:"Coordinador Facultad"!==Q().rol,required:!0,error:j.name.error,margin:"dense",id:"NOMBRE",label:"Nombre",value:h.NOMBRE,fullWidth:!0,onChange:function(e){return function(e,a,t,n,r){t(Object(E.a)(Object(E.a)({},a),{},{NOMBRE:e.target.value}));var i=Ca(e.target.value);r(Object(E.a)(Object(E.a)({},n),{},{name:i}))}(e,h,f,j,S)},helperText:j.name.mesage}),r.a.createElement(si,{facultades:N,facultad:M,setFacultad:L,nombre:h.NOMBREFACU,id:h.ID_FACULTAD})),r.a.createElement(R.a,null,void 0!==h.COORDINADORES&&r.a.createElement(Re.a,null,r.a.createElement(R.a,{item:!0,style:{marginLeft:"2%"}},r.a.createElement("h3",null,"Lista Coordinadores:")),h.COORDINADORES.map((function(e){return r.a.createElement(we.a,null,r.a.createElement(Le.a,{primary:e.USUARIO.NOMBRE+" "+e.USUARIO.APELLIDOS}))})))))))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"outlined",onClick:e.close,color:"primary"},"Cancelar"),r.a.createElement(D.a,{variant:"contained",onClick:function(e){return W(e,h,f)},color:"primary"},"Modificar"))))},pi=function(e){var a=e.open,t=e.close,i=e.id,o=e.parentCallback,s=Object(n.useState)(0),m=Object(u.a)(s,2),d=m[0],p=m[1],h=Object(n.useState)(!1),f=Object(u.a)(h,2),O=f[0],g=f[1],b=Object(n.useState)({mensaje:"\xbfEst\xe1 seguro de eliminar el programa?"}),E=Object(u.a)(b,2),v=E[0],j=E[1],S=function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={servicio:"/api/programa/eliminar/"+i,request:{}},e.next=3,$(t);case 3:return(n=e.sent)&&(1!==n.eliminacion.ok?(g(!1),0===n.tutoriasAsociadas&&n.usuariosAsociados>0?j({mensaje:"El programa no puede eliminarse porque cuenta con usuarios asignados a este"}):n.tutoriasAsociadas>0&&0===n.usuariosAsociados?j({mensaje:"El programa no puede eliminarse porque cuenta con tutorias en curso"}):j({mensaje:"El programa no puede eliminarse porque cuenta con tutorias y usuarios asignados"})):(g(!0),j({mensaje:""}))),p(r=d+1),e.next=9,o(r);case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(Oa.a,{open:a,onClose:t,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,justify:"center"},!O&&r.a.createElement(qa.a,{color:"error",style:{fontSize:70}}),O&&r.a.createElement(Ba.a,{color:"primary",style:{fontSize:70}}))),r.a.createElement(ba.a,null,r.a.createElement(R.a,{container:!0,md:12,justify:"center"},!O&&r.a.createElement(I.a,{variant:"subtitle1"},v.mensaje),O&&r.a.createElement(I.a,{variant:"subtitle1"},"El programa se elimin\xf3 satisfactoriamente"))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"outlined",onClick:t,color:"inherit"},"Cancelar"),r.a.createElement(D.a,{variant:"contained",onClick:O?t:function(e){return S(e)},color:"primary"},!O&&"Eliminar",O&&"Aceptar"))))},hi={paper:{marginTop:"3%",marginLeft:"3%",marginRight:"3%",marginBottom:"3%",display:"flex",flexDirection:"column",alignItems:"left",backgroundImage:""}},fi=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(U.a)(this,t),(n=a.call(this,e)).handleOnOpen=function(e){n.setState({open:!0}),n.state.programaConCoord=e},n.handleOnOpenEliminar=function(e){n.setState({open2:!0}),n.state.programaConCoord=e},n.callback=function(e){var a=n.state.flag+1;n.setState({flag:a})},n.state={programas:{columns:[{title:"Nombre",field:"nombre"}],data:[{nombre:""}]},programa:[{id:"1"}],programaConCoord:[],flag:0},n.establecerData=n.establecerData.bind(Object(M.a)(n)),n.handleOnOpen=n.handleOnOpen.bind(Object(M.a)(n)),n.handleOnClose=n.handleOnClose.bind(Object(M.a)(n)),n.handleOnOpenEliminar=n.handleOnOpenEliminar.bind(Object(M.a)(n)),n}return Object(w.a)(t,[{key:"establecerData",value:function(e){var a,t=this,n=[],i=0,o=Object(ka.a)(e.programa);try{var s=function(){var e=a.value;null!==e.ID_PROGRAMA&&(i++,n.push({codigo:i,nombre:e.NOMBRE,boton:r.a.createElement("div",null,r.a.createElement(ye.a,{color:"primary"},r.a.createElement(wa.a,{color:"secondary",fontsize:"large",onClick:function(){return t.handleOnOpen(e)}})),"Coordinador Facultad"===Q().rol&&r.a.createElement(ye.a,{color:"primary"},r.a.createElement(La.a,{color:"error",fontsize:"large",onClick:function(){return t.handleOnOpenEliminar(e)}})))}))};for(o.s();!(a=o.n()).done;)s()}catch(l){o.e(l)}finally{o.f()}var c={columns:[{title:"C\xf3digo",field:"codigo"},{title:"Nombre",field:"nombre"},{title:"",field:"boton"}],data:n};this.setState({programas:c})}},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.idFacu===a.idFacu&&this.props.flag===a.flag&&t.flag===this.state.flag){e.next=5;break}return e.next=3,X({servicio:"/api/programa/lista/"+this.props.idFacu});case 3:(n=e.sent)&&this.establecerData(n);case 5:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Q().usuario.ID_USUARIO,e.next=3,X({servicio:"/api/programa/coordinador/"+a});case 3:(t=e.sent)&&this.establecerData(t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleOnClose",value:function(){this.setState({open:!1}),this.setState({open2:!1})}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.open&&r.a.createElement(di,{open:this.handleOnOpen,close:this.handleOnClose,programa:this.state.programaConCoord,parentCallback:this.callback}),this.state.open2&&r.a.createElement(pi,{open:this.handleOnOpenEliminar,close:this.handleOnClose,id:this.state.programaConCoord.ID_PROGRAMA,parentCallback:this.callback}),r.a.createElement(y.a,{elevation:0,style:hi.paper},r.a.createElement(ui,{programas:this.state.programas})))}}]),t}(r.a.Component),Oi=function(){var e=Object(n.useState)([]),a=Object(u.a)(e,2),t=a[0],i=a[1],o=Object(n.useState)(""),s=Object(u.a)(o,2),m=s[0],d=s[1],p=Object(n.useState)(0),h=Object(u.a)(p,2),f=h[0],O=h[1],g=Object(n.useState)(0),b=Object(u.a)(g,2),E=b[0],v=b[1];return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/api/facultad/coordinador/"+Q().usuario.ID_USUARIO,t={servicio:a},e.next=4,X(t);case 4:(n=e.sent)&&(i(n.facultades),n.facultades[0]&&d(n.facultades[0].ID_PROGRAMA));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),{}),r.a.createElement("div",null,r.a.createElement(xa,{titulo:"Programas"}),r.a.createElement(R.a,{container:!0,md:12,alignItems:"flex-end",alignContent:"center",justify:"center"},r.a.createElement(R.a,{item:!0,md:9},"Coordinador Facultad"===Q().rol&&r.a.createElement(si,{facultades:t,facultad:m,setFacultad:d})),r.a.createElement(R.a,{item:!0,md:2},r.a.createElement(li,{flag:E,setFlag:O}))),r.a.createElement(fi,{idFacu:m,flag:f,setFlag:v}))},gi=t(192),bi=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(U.a)(this,t),(n=a.call(this,e)).handleClose=function(e){n.props.cerrarConfirmacion()},n.eliminarDisponibiliad=Object(l.a)(c.a.mark((function e(){var a,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.empezarCarga(),n.props.closeDialog(),a={servicio:"/api/disponibilidad/eliminar/"+n.props.datos.idDisponibilidad,request:{}},e.next=5,$(a);case 5:(t=e.sent)&&(t.hasOwnProperty("error")||(n.props.actualizarBandera(),n.props.actualizarMensaje()));case 7:case"end":return e.stop()}}),e)}))),n}return Object(w.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Oa.a,{open:this.props.datos.abrirConfirmacion,onClose:function(a){return e.handleClose(a)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Ea.a,{id:"alert-dialog-title"},"\xbfSeguro que desea eliminar esta disponibilidad?"),r.a.createElement(ga.a,null,r.a.createElement(D.a,{onClick:function(a){return e.eliminarDisponibiliad(a)},color:"primary",variant:"contained"},"Si"),r.a.createElement(D.a,{onClick:function(a){return e.handleClose(a)},color:"primary",variant:"outlined"},"No"))))}}]),t}(n.Component),Ei={icono:{align:"right",marginTop:"9px"},dialog:{width:490,margin:"0 auto"},titulo:{textTransform:"capitalize"}},vi=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(U.a)(this,t),(n=a.call(this,e)).cerrarConfirmacion=function(){n.setState({abrirConfirmacion:!1})},n.handleClose=function(e){n.props.closeDialog()},n.handleOnChangeCombo=function(e){n.setState({repeticion:e.target.value})},n.handleOnChangeLugar=function(e){n.setState({lugar:e.target.value}),e.target.value.length>100?n.setState({errorLugar:!0}):n.setState({errorLugar:!1})},n.handleFocusOutHoraIni=function(){var e=Object(l.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({horaInicio:a.target.value});case 2:if("30"!==a.target.value.substring(3,5)&&"00"!==a.target.value.substring(3,5)){e.next=5;break}e.next=8;break;case 5:return e.next=7,n.setState({horaInicio:a.target.value.substring(0,2)+":00"});case 7:document.getElementById("horaInicio").value=n.state.horaInicio;case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.handleOnChangeHoraIni=function(){var e=Object(l.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({horaInicio:a.target.value}),document.getElementById("horaInicio").addEventListener("focusout",n.handleFocusOutHoraIni);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.handleFocusOutHoraFin=function(){var e=Object(l.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({horaFin:a.target.value});case 2:if("30"!==a.target.value.substring(3,5)&&"00"!==a.target.value.substring(3,5)){e.next=5;break}e.next=8;break;case 5:return e.next=7,n.setState({horaFin:a.target.value.substring(0,2)+":00"});case 7:document.getElementById("horaFin").value=n.state.horaFin;case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.handleOnChangeHoraFin=function(e){n.setState({horaFin:e.target.value}),document.getElementById("horaFin").addEventListener("focusout",n.handleFocusOutHoraFin)},n.handleEdit=function(){n.props.activarVisibilidad()},n.handleDelete=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({abrirConfirmacion:!0});case 1:case"end":return e.stop()}}),e)}))),n.handleSave=function(){var e=Object(l.a)(c.a.mark((function e(a){var t,r,i,o,s,l,u,m,d,p,h,f,O,g,b,v,j,S,A;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.state.horaInicio<n.state.horaFin)){e.next=69;break}if(n.state.errorLugar){e.next=63;break}if(t=n.state.horaInicio,r=n.state.horaFin,i=n.state.repeticion,o=n.state.lugar,s=n.props.datos.fecha,n.props.datos.modificar){e.next=34;break}return l={disponibilidad:{HORA_INICIO:t,HORA_FIN:r,FECHA:s,ID_TUTOR:n.props.datos.tutor.ID_USUARIO,REPETICION:i,LUGAR:o,ID_FACULTAD:n.props.datos.facultad}},u={servicio:"/api/disponibilidad",request:l},e.next=12,$(u);case 12:if(!(m=e.sent)){e.next=32;break}return e.next=16,m.hasOwnProperty("error");case 16:if(!e.sent){e.next=30;break}if(!m.error.includes("ocupada")){e.next=25;break}return(d=Object(E.a)({},n.state.alerta)).mostrar=!0,d.mensaje="Ya existe una disponibilidad registrada en ese horario",n.setState({alerta:d}),e.abrupt("return");case 25:return(p=Object(E.a)({},n.state.alerta)).mostrar=!0,p.mensaje="Ocurri\xf3 un problema, intente m\xe1s tarde",n.setState({alerta:p}),e.abrupt("return");case 30:n.props.empezarCarga(),n.props.actualizarMensaje(n.state.mensajeRegistrar,n.state.mensajeStrong);case 32:e.next=59;break;case 34:return h=n.props.datos.idDisponibilidad,f={disponibilidad:{ID_DISPONIBILIDAD:h,HORA_INICIO:t,HORA_FIN:r,FECHA:s,ID_TUTOR:n.props.datos.tutor.ID_USUARIO,REPETICION:i,LUGAR:o}},O={servicio:"/api/disponibilidad/modificar",request:f},e.next=39,$(O);case 39:if(!(g=e.sent)){e.next=59;break}return e.next=43,g.hasOwnProperty("error");case 43:if(!e.sent){e.next=57;break}if(!g.error.includes("ocupada")){e.next=52;break}return(b=Object(E.a)({},n.state.alerta)).mostrar=!0,b.mensaje="Ya existe una disponibilidad registrada en ese horario",n.setState({alerta:b}),e.abrupt("return");case 52:return(v=Object(E.a)({},n.state.alerta)).mostrar=!0,v.mensaje="Ocurri\xf3 un problema, intente m\xe1s tarde",n.setState({alerta:v}),e.abrupt("return");case 57:n.props.empezarCarga(),n.props.actualizarMensaje(n.state.mensajeModificar,n.state.mensajeStrong);case 59:n.props.actualizarBandera(),n.props.closeDialog(),e.next=67;break;case 63:(j=Object(E.a)({},n.state.alerta)).mostrar=!0,j.mensaje="El campo lugar no puede tener m\xe1s de 100 caracteres",n.setState({alerta:j});case 67:e.next=70;break;case 69:n.state.errorLugar?((A=Object(E.a)({},n.state.alerta)).mensaje="Existen errores al completar el formulario",A.mostrar=!0,n.setState({alerta:A})):((S=Object(E.a)({},n.state.alerta)).mensaje="La hora de fin debe de ser mayor que la hora de inicio",S.mostrar=!0,n.setState({alerta:S}));case 70:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.renderConfirmacion=function(){if(n.state.abrirConfirmacion)return r.a.createElement("div",null,r.a.createElement(bi,{datos:n.state,cerrarConfirmacion:n.cerrarConfirmacion,actualizarBandera:n.props.actualizarBandera,closeDialog:n.props.closeDialog,actualizarMensaje:function(){return n.props.actualizarMensaje(n.state.mensajeEliminar,n.state.mensajeStrong)},empezarCarga:n.props.empezarCarga}))},n.state={repeticion:1,horaInicio:n.props.datos.horaInicio,horaFin:n.props.datos.horaFin,lugar:"",idDisponibilidad:n.props.datos.idDisponibilidad,mensajeEliminar:"Disponibilidad eliminada",mensajeModificar:"Disponibilidad modificada",mensajeRegistrar:"Disponibilidad registrada",mensajeStrong:"exitosamente",abrirConfirmacion:!1,errorLugar:!1,alerta:{mensaje:"",mostrar:!1}},n}return Object(w.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Oa.a,{style:Ei.dialog,open:this.props.datos.modalIsOpen,onClose:function(a){return e.handleClose(a)},"aria-labelledby":"form-dialog-title"},this.state.alerta.mostrar&&r.a.createElement(se,{severity:"error",titulo:"Observacion",alerta:this.state.alerta}),r.a.createElement("form",{id:"formulario",noValidate:!1},r.a.createElement(R.a,{container:!0,spacing:.01},r.a.createElement(R.a,{item:!0,md:9,xs:9},r.a.createElement(Ea.a,{style:Ei.titulo,id:"form-dialog-title"},this.props.datos.fechaMostrar," ")),r.a.createElement(R.a,{item:!0,md:3,xs:3},r.a.createElement(ye.a,{title:"Editar",align:"right",style:Ei.icono,onClick:this.handleEdit,disabled:!this.props.datos.modificar},r.a.createElement(en.a,{color:this.props.datos.modificar?"primary":"disabled"})),r.a.createElement(ye.a,{title:"Eliminar",align:"right",style:Ei.icono,onClick:this.handleDelete,disabled:!this.props.datos.modificar},r.a.createElement(on.a,{color:this.props.datos.modificar?"error":"disabled"})))),r.a.createElement(ba.a,null,r.a.createElement(R.a,{container:!0,spacing:1},r.a.createElement(R.a,{item:!0,md:6,xs:6},r.a.createElement(B.a,{fullWidth:!0,InputLabelProps:{shrink:!0},required:!0,margin:"dense",id:"horaInicio",label:"Hora Inicio",inputProps:{step:1800},type:"time",defaultValue:this.props.datos.horaInicio,onChange:this.handleOnChangeHoraIni,disabled:!this.props.datos.visible})),r.a.createElement(R.a,{item:!0,md:6,xs:6},r.a.createElement(B.a,{fullWidth:!0,InputLabelProps:{shrink:!0},required:!0,margin:"dense",id:"horaFin",label:"Hora Fin",type:"time",inputProps:{step:1800},defaultValue:this.props.datos.horaFin,onChange:this.handleOnChangeHoraFin,disabled:!this.props.datos.visible})),r.a.createElement(R.a,{item:!0,md:12,xs:12},r.a.createElement(x.a,{fullWidth:!0},r.a.createElement(k.a,{id:"demo-simple-select-placeholder-label-label"},"Repeticion"),r.a.createElement(sa.a,{labelId:"demo-simple-select-placeholder-label-label",id:"demo-simple-select-placeholder-label",defaultValue:this.props.datos.repeticion,onChange:this.handleOnChangeCombo,disabled:!this.props.datos.visible},r.a.createElement(ca.a,{value:1}," No repetir"),r.a.createElement(ca.a,{value:2}," Todos los ",this.props.datos.fechaMostrar.split(" ")[0]," de este mes")),r.a.createElement(G.a,null,"Escoja la opcion")),r.a.createElement(R.a,{item:!0,md:12,xs:12},r.a.createElement(B.a,{fullWidth:!0,name:"lugar",label:"Lugar",className:"editable",id:"lugar",onChange:this.handleOnChangeLugar,defaultValue:this.props.datos.lugar,disabled:!this.props.datos.visible}),this.state.errorLugar&&r.a.createElement(G.a,{error:!0}," El lugar debe ser de m\xe1ximo 100 caracteres"))))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{id:"btnGuardar",onClick:function(a){return e.handleSave(a)},color:"primary",variant:"contained",disabled:!this.props.datos.visible},"Guardar"),r.a.createElement(D.a,{onClick:function(a){return e.handleClose(a)},color:"primary",variant:"outlined"},"Cancelar")))),this.renderConfirmacion())}}]),t}(n.Component),ji=t(506);t(620),t(621);var Si=Object(gi.b)(Lt.a),Ai={carga:{align:"right"}},Ci=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(U.a)(this,t),(n=a.call(this,e)).handleSelectSlot=function(e){if(Lt()(e.start).format("YYYY-MM-DD")>=Lt()(new Date).format("YYYY-MM-DD"))if(Lt()(e.start).format("YYYY-MM-DD")>=Lt()(new Date).add(n.state.diasAnticipacion,"days").format("YYYY-MM-DD")){var a=Object(E.a)({},n.state.alerta);a.mostrar=!1,n.setState({modalIsOpen:!0,fechaMostrar:Lt()(e.start).format("dddd Do MMMM YYYY"),fecha:Lt()(e.start).format("YYYY-MM-DD"),horaInicio:Lt()(e.start).format("HH:mm"),horaFin:Lt()(e.end).format("HH:mm"),repeticion:1,lugar:"",modificar:0,visible:1,alerta:a})}else{n.setState({problema:!0});var t=Object(E.a)({},n.state.alerta);t.severity="warning",t.mostrar=!0,t.mensaje="Por politica de la facultad solo puede registrar/modificar su disponibilidad con m\xednimo ",t.mensajeStrong=n.state.diasAnticipacion+(1===n.state.diasAnticipacion?" d\xeda":" d\xedas")+" de anticipaci\xf3n",n.setState({alerta:t})}else{n.setState({problema:!0});var r=Object(E.a)({},n.state.alerta);r.severity="error",r.mostrar=!0,r.mensaje="No puede registrar/modificar su disponibilidad en una fecha pasada",r.mensajeStrong="Intente de nuevo",n.setState({alerta:r})}},n.handleSelectEvent=function(e){if(Lt()(e.start).format("YYYY-MM-DD")>=Lt()(new Date).format("YYYY-MM-DD"))if(Lt()(e.start).format("YYYY-MM-DD")>=Lt()(new Date).add(n.state.diasAnticipacion,"days").format("YYYY-MM-DD")){var a=Object(E.a)({},n.state.alerta);a.mostrar=!1,n.setState({modalIsOpen:!0,fechaMostrar:Lt()(e.start).format("dddd Do MMMM YYYY"),fecha:Lt()(e.start).format("YYYY-MM-DD"),horaInicio:Lt()(e.start).format("HH:mm"),horaFin:Lt()(e.end).format("HH:mm"),idDisponibilidad:e.id,lugar:e.lugar,repeticion:e.repeticion,modificar:1,visible:0,alerta:a})}else{n.setState({problema:!0});var t=Object(E.a)({},n.state.alerta);t.severity="warning",t.mostrar=!0,t.mensaje="Por politica de la facultad solo puede registrar/modificar su disponibilidad con m\xednimo ",t.mensajeStrong=n.state.diasAnticipacion+(1===n.state.diasAnticipacion?" d\xeda":" d\xedas")+" de anticipaci\xf3n",n.setState({alerta:t})}else{n.setState({problema:!0});var r=Object(E.a)({},n.state.alerta);r.severity="error",r.mostrar=!0,r.mensaje="No puede registrar/modificar su disponibilidad en una fecha pasada",r.mensajeStrong="Intente de nuevo",n.setState({alerta:r})}},n.closeDialog=function(){n.setState({modalIsOpen:!1})},n.actualizarBandera=function(){n.setState({bandera:!n.state.bandera})},n.empezarCarga=function(){n.setState({loading:!0})},n.activarVisibilidad=function(){n.setState({visible:1})},n.setAlerta=function(e){n.setState({alerta:e})},n.renderModal=function(){if(n.state.modalIsOpen)return r.a.createElement("div",null,r.a.createElement(vi,{datos:n.state,closeDialog:n.closeDialog,actualizarBandera:n.actualizarBandera,activarVisibilidad:n.activarVisibilidad,empezarCarga:n.empezarCarga,actualizarMensaje:function(e,a){return n.actualizarMensaje(e,a)},closeOnDocumentClick:!0}))},n.state={tutor:n.props.Tutor,modalIsOpen:!1,fecha:"",fechaMostrar:"",horaInicio:"",idDisponibilidad:0,enlace:"/api/disponibilidadporfacultad/",eventos:[],repeticion:1,lugar:"",bandera:0,modificar:0,visible:1,problemaBack:!1,loading:!0,diasAnticipacion:0,facultad:n.props.facultad,alerta:{severity:"",mensaje:"",mensajeStrong:"",mostrar:!1}},n.actualizarMensaje=n.actualizarMensaje.bind(Object(M.a)(n)),n}return Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a,t,n,r,i,o,s,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,X({servicio:this.state.enlace+this.state.tutor.ID_USUARIO+"/"+this.state.facultad});case 3:if(!(t=e.sent)){e.next=23;break}if(t.hasOwnProperty("error")){e.next=16;break}return e.next=8,this.setState({loading:!1});case 8:n=Object(ka.a)(t.data);try{for(n.s();!(r=n.n()).done;)i=r.value,o={title:i.HORA_INICIO.substring(0,5)+"-"+i.HORA_FIN.substring(0,5),start:new Date(i.FECHA+" "+i.HORA_INICIO),end:new Date(i.FECHA+" "+i.HORA_FIN),id:i.ID_DISPONIBILIDAD,repeticion:1,lugar:i.LUGAR},a.push(o),this.setState({problemaBack:!1})}catch(c){n.e(c)}finally{n.f()}return e.next=12,X({servicio:"/api/facultad/politicas/"+this.state.facultad});case 12:(s=e.sent)&&this.setState({diasAnticipacion:s.politicas.ANTICIPACION_DISPONIBILIDAD}),e.next=21;break;case 16:this.setState({problemaBack:!0}),(l=Object(E.a)({},this.state.alerta)).mensaje="Parece que algo anda mal",l.mensajeStrong="actualice la p\xe1gina",this.setState({alerta:l});case 21:e.next=28;break;case 23:this.setState({problemaBack:!0}),(u=Object(E.a)({},this.state.alerta)).mensaje="Ocurri\xf3 un problema",u.mensajeStrong="actualice la p\xe1gina",this.setState({alerta:u});case 28:this.setState({eventos:a});case 29:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"shouldComponentUpdate",value:function(e,a){return e.eventos!=this.state.eventos||e.bandera!==this.state.bandera}},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t){var n,r,i,o,s,l,u,m,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.bandera===t.bandera){e.next=30;break}return n=[],e.next=4,X({servicio:this.state.enlace+this.state.tutor.ID_USUARIO+"/"+this.state.facultad});case 4:if(!(r=e.sent)){e.next=24;break}if(r.hasOwnProperty("error")){e.next=17;break}return e.next=9,this.setState({loading:!1});case 9:i=Object(ka.a)(r.data);try{for(i.s();!(o=i.n()).done;)s=o.value,l={title:s.HORA_INICIO.substring(0,5)+"-"+s.HORA_FIN.substring(0,5),start:new Date(s.FECHA+" "+s.HORA_INICIO),end:new Date(s.FECHA+" "+s.HORA_FIN),id:s.ID_DISPONIBILIDAD,repeticion:1,lugar:s.LUGAR},n.push(l),this.setState({problemaBack:!1})}catch(a){i.e(a)}finally{i.f()}return e.next=13,X({servicio:"/api/facultad/politicas/"+this.state.facultad});case 13:(u=e.sent)&&this.setState({diasAnticipacion:u.politicas.ANTICIPACION_DISPONIBILIDAD}),e.next=22;break;case 17:this.setState({problemaBack:!0}),(m=Object(E.a)({},this.state.alerta)).mensaje="Parece que algo anda mal",m.mensajeStrong="actualice la p\xe1gina",this.setState({alerta:m});case 22:e.next=29;break;case 24:this.setState({problemaBack:!0}),(d=Object(E.a)({},this.state.alerta)).mensaje="Parece que algo anda mal",d.mensajeStrong="actualice la p\xe1gina",this.setState({alerta:d});case 29:this.setState({eventos:n});case 30:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"actualizarMensaje",value:function(e,a){this.setState({alerta:{mensaje:e,mensajeStrong:a,mostrar:!0}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{height:"".concat(410,"px"),width:"".concat(850,"px")},className:"Big-calendar-container"},this.state.alerta.mostrar&&r.a.createElement(se,{severity:this.state.alerta.severity,titulo:"Observacion",alerta:this.state.alerta}),this.state.problemaBack&&r.a.createElement(se,{severity:"warning",titulo:"Observacion",alerta:this.state.alerta}),this.state.loading&&r.a.createElement(ji.a,{color:"primary",style:Ai.carga}),r.a.createElement(gi.a,{popup:!0,localizer:Si,events:this.state.eventos,views:["month","week"],min:new Date(0,0,0,8,0,0),max:new Date(0,0,0,20,0,0),startAccessor:"start",endAccessor:"end",selectable:!0,onSelectEvent:function(a){return e.handleSelectEvent(a)},onSelectSlot:function(a){return e.handleSelectSlot(a)},messages:{next:"Sig",previous:"Ant",today:"Hoy",month:"Mes",week:"Semana",day:"D\xeda",showMore:function(){return"Ver m\xe1s"}}}),this.renderModal())}}]),t}(n.Component);function Ii(e){var a=r.a.useState(!1),t=Object(u.a)(a,2),n=t[0],i=t[1],o={ID_USUARIO:e.ID},s=function(){i(!1)};return r.a.createElement("div",null,r.a.createElement(D.a,{variant:"outlined",color:"primary",onClick:function(){i(!0)}},"Ver disponibilidad"),r.a.createElement(Oa.a,{style:{margin:"0 auto"},open:n,onClose:s,"aria-labelledby":"form-dialog-title",maxWidth:!0},r.a.createElement(Ea.a,{id:"form-dialog-title"},"Disponibilidad de ",e.titulo),r.a.createElement(ba.a,null,r.a.createElement(Ci,{Tutor:o,facultad:e.facultad})),r.a.createElement(ga.a,null,r.a.createElement(D.a,{onClick:s,color:"primary"},"Cancelar"))))}var Ri=function(e,a){return e===[]||null===e||void 0===e?{columns:[{title:"C\xf3digo",field:"codigo"},{title:"Nombre",field:"nombre"},{title:"Correo Electr\xf3nico",field:"correo"},{title:"",field:"calendar"}],data:[]}:{columns:[{title:"C\xf3digo",field:"codigo"},{title:"Nombre",field:"nombre"},{title:"Correo Electr\xf3nico",field:"correo"},{title:"",field:"calendar"}],data:e.map((function(e){return{id:e.USUARIO.ID_USUARIO,codigo:e.USUARIO.CODIGO,nombre:e.USUARIO.NOMBRE+" "+e.USUARIO.APELLIDOS,correo:e.USUARIO.CORREO,calendar:r.a.createElement(r.a.Fragment,null,r.a.createElement(Ii,{ID:e.USUARIO.ID_USUARIO,titulo:e.USUARIO.NOMBRE,facultad:a}))}}))}};var yi=function(e){var a=e.columnas,t=e.datos;return r.a.createElement(Na.a,{title:"",columns:a,data:t,options:{rowStyle:{backgroundColor:"#FFF"},headerStyle:{backgroundColor:"#3AAFA9",color:"#FFF",fontSize:14}}})},xi=Object(h.a)((function(e){return{caja:Object(N.a)({marginTop:e.spacing(3),padding:e.spacing(2)},e.breakpoints.down("sm"),{padding:e.spacing(1),width:e.spacing(40)})}})),ki=function(){var e=xi(),a=Q().usuario.ID_USUARIO,t=Q().idRol,i=Object(n.useState)(!0),o=Object(u.a)(i,2),s=(o[0],o[1],Object(n.useState)([])),m=Object(u.a)(s,2),d=m[0],p=m[1],h=Object(n.useState)(""),f=Object(u.a)(h,2),O=f[0],g=f[1],b=Object(n.useState)([]),v=Object(u.a)(b,2),j=v[0],S=v[1],A=Object(n.useState)(""),C=Object(u.a)(A,2),I=C[0],x=C[1],k=Object(n.useState)({columns:[{title:"C\xf3digo",field:"codigo"},{title:"Nombre",field:"nombre"},{title:"Correo Electr\xf3nico",field:"correo"},{title:"",field:"calendar"}],data:[]}),D=Object(u.a)(k,2),N=D[0],T=D[1];return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 6===t?n="/api/facultad/coordinador/"+a:2===t&&(n="/api/facultad/lista/"+a),r={servicio:n},e.next=4,X(r);case 4:(i=e.sent)&&(p(i.facultades),i.facultades[0]&&g(6===t?i.facultades[0].ID_PROGRAMA:i.facultades[0].FACULTAD.ID_PROGRAMA));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,a]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 6===t?n="/api/programa/lista/"+O:2===t&&(n="/api/programa/lista/"+a+"/"+O),r={servicio:n},e.next=4,X(r);case 4:null!==(i=e.sent)&&(6===t?(S(i.programa),i.programa[0]&&(x(i.programa[0].ID_PROGRAMA),console.log("asdf",I))):2===t&&(S(i.programas),i.programas[0]&&(x(i.programas[0].ID_PROGRAMA),console.log("asdf",I))));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==O&&function(){e.apply(this,arguments)}()}),[O]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={servicio:"/api/tutor/lista/"+I},e.next=4,X(a);case 4:(t=e.sent)&&(n=Ri(t.tutores,O),T(Object(E.a)(Object(E.a)({},N),{},{data:n.data})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}-1!==I&&function(){e.apply(this,arguments)}()}),[I]),r.a.createElement(r.a.Fragment,null,r.a.createElement(xa,{titulo:"Registrar disponibilidad"}),r.a.createElement(R.a,{container:!0,justify:"center",alignItems:"center",spacing:4},r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(y.a,{className:e.caja},r.a.createElement(R.a,{container:!0,spacing:2},r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(Kt,{programas:d,programa:O,setPrograma:g})),r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(Yt,{programas:j,programa:I,setPrograma:x}))))),r.a.createElement(R.a,{item:!0,xs:12,md:11,style:{marginBottom:"3%"}},r.a.createElement(yi,{columnas:N.columns,datos:N.data}))))};var Di,Ni,Ti=function(e){return r.a.createElement(Na.a,{title:"",columns:e.coordinadores.columns,data:e.coordinadores.data,options:{rowStyle:{backgroundColor:"#FFF"},headerStyle:{backgroundColor:"#3AAFA9",color:"#FFF",fontSize:16}}})},Ui=Object(h.a)((function(e){return{formControl:{margin:e.spacing(1),width:e.spacing(35)},selectEmpty:{marginTop:e.spacing(2)}}})),wi=function(e){Ui();var a=e.programas,t=e.programa,n=e.setPrograma,i=e.cantProgramas;return r.a.createElement(x.a,{style:{width:230}},r.a.createElement(k.a,{id:i},"Programas"),r.a.createElement(sa.a,{labelId:"demo-simple-select-label",id:i,value:t,onChange:function(e){n(e.target.value)},fullWidth:!0},a.map((function(e){return r.a.createElement(ca.a,{key:e.ID_PROGRAMA,value:e.ID_PROGRAMA},e.NOMBRE)}))))},Mi=(Di={marginTop:"2%",marginLeft:"4%"},Object(N.a)(Di,"marginTop","4%"),Object(N.a)(Di,"flexDirection","row"),Object(N.a)(Di,"alignItems","center"),Object(N.a)(Di,"backgroundImage",""),function(e){var a=e.programasSeleccionados,t=(e.setProgramasSeleccionados,e.programa),i=e.setPrograma,o=e.programas,s=(e.setProgramas,e.cantP),c=Object(n.useState)(0),l=Object(u.a)(c,2),m=l[0],d=l[1],p=function(e){e>=0?e>m?(d((function(a){return e})),""!==t&&a.push(t)):(d((function(a){return e})),a.length>m&&a.splice(-1)):d((function(e){return 0})),s(m)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{container:!0,md:12,spacing:1},r.a.createElement(R.a,{item:!0,md:8},r.a.createElement(wi,{cantProgramas:m,programas:o,programa:t[0],setPrograma:i})),r.a.createElement(R.a,{item:!0,md:4},r.a.createElement(ye.a,{color:"primary",onClick:function(){return p(m+1)}},r.a.createElement(rt.a,{color:"primary",fontsize:"large"})),r.a.createElement(ye.a,{color:"primary",onClick:function(){return p(m-1)}},r.a.createElement(ot.a,{color:"primary",fontsize:"large"}))),m>0?function(e){for(var a=e,n=[],s=0;s<a;s++)n.push(s);return r.a.createElement("div",null,r.a.createElement(R.a,{item:!0,md:8},n.map((function(a){return r.a.createElement(wi,{cantProgramas:e,programas:o,programa:t[a],setPrograma:i})}))))}(m):null))}),Li=Object(h.a)((function(e){return{foto:{backgroundImage:"url(https://pps.whatsapp.net/v/t61.24694-24/97969579_3102912936463371_7208379054937379558_n.jpg?oe=5EC495F5&oh=68e4ca58a0f65f680df95105f6ba41ae)",backgroundSize:"cover",backgroundPosition:"center",padding:e.spacing(2),width:e.spacing(15),height:e.spacing(30)}}})),Pi=function(e){e.flag;var a=e.setFlag,t=r.a.useState({CODIGO:"",NOMBRE:"",APELLIDOS:"",CORREO:"",TELEFONO:"",USUARIO:"",CONTRASENHA:"",DIRECCION:"",IMAGEN:null,PROGRAMA:[]}),i=Object(u.a)(t,2),o=i[0],s=i[1],m=Object(n.useState)(0),d=Object(u.a)(m,2),p=d[0],h=d[1],f=Object(n.useState)([]),O=Object(u.a)(f,2),g=O[0],b=O[1],v=Object(n.useState)([]),j=Object(u.a)(v,2),S=j[0],A=j[1],C=Object(n.useState)([]),I=Object(u.a)(C,2),y=I[0],x=I[1],k=Object(n.useState)([]),N=Object(u.a)(k,2),T=N[0],U=N[1],w=Object(n.useState)([]),M=Object(u.a)(w,2),L=M[0],P=M[1],F=Object(n.useState)(Aa),G=Object(u.a)(F,2),_=G[0],H=G[1],z=Object(n.useState)({mensajeStrong:"",mensajeStrongError:"Por favor revisarlos",mensajeStrongExito:"satisfactoriamente!",mensajeError:"Existen errores al completar el formulario",mensajeExito:"Coordinador registrado",mensaje:""}),V=Object(u.a)(z,2),W=V[0],Y=V[1],J=Object(n.useState)({severidad:"",severW:"warning",severE:"error",severS:"success"}),K=Object(u.a)(J,2),Z=K[0],ee=K[1],ae=Object(n.useState)(""),te=Object(u.a)(ae,2),ne=te[0],re=te[1],ie=Object(n.useState)(""),oe=Object(u.a)(ie,2),ce=oe[0],le=oe[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/institucion"});case 2:(a=e.sent)&&a.institucion&&(re(a.institucion.DOMINIO),le(a.institucion.DOMINIO2));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[ne,ce]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={servicio:"/api/programa/lista/"+L},e.next=4,X(a);case 4:(t=e.sent)&&A(t.programa);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!=L&&function(){e.apply(this,arguments)}()}),[L]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/api/facultad/coordinador/"+Q().usuario.ID_USUARIO,t={servicio:a},e.next=4,X(t);case 4:(n=e.sent)&&U(n.facultades);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),{});Li();var ue=r.a.useState(!1),me=Object(u.a)(ue,2),de=me[0],pe=me[1],he=function(){pe(!1),ee({severidad:""}),Y({mensaje:""}),a((function(e){return e+1}));b([])},fe=function(){var e=Object(l.a)(c.a.mark((function e(a,t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(_.name.error||_.lastnames.error||_.email.error||_.phoneNumber.error||_.address.error||_.code.error||""===t.NOMBRE||""===t.APELLIDOS||""===t.CORREO||""===t.CODIGO||0===y.length||0===L.length)){e.next=5;break}ee({severidad:"error"}),0===y.length?Y({mensaje:"Debe asignarle al menos un programa"}):Y({mensaje:"Hay errores en el formulario"}),e.next=18;break;case 5:if(p<=g.length&&g.push(y),t.PROGRAMA=g,t.CONTRASENHA="contra",n(Object(E.a)({},t)),0!==t.PROGRAMA.length){e.next=13;break}return ee({severidad:"error"}),Y({mensaje:"Falta asignar una facultad"}),e.abrupt("return");case 13:return r={servicio:"/api/coordinador/",request:{coordinador:t}},e.next=16,$(r);case 16:(i=e.sent)&&(i.error?(ee({severidad:"error"}),Y({mensaje:i.error})):(ee({severidad:Z.severS}),Y({mensaje:"Se registr\xf3 al coordinador satisfactoriamente"})));case 18:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:function(){pe(!0)}},"Registrar"),r.a.createElement(Oa.a,{open:de,onClose:he,"aria-labelledby":"form-dialog-title"},r.a.createElement(se,{severity:Z.severidad,titulo:"Observacion:",alerta:W}),r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12},r.a.createElement(R.a,{item:!0,md:11},"Formulario de registro de coordinador"),r.a.createElement(R.a,{item:!0,md:1,alignItems:"flex-end"},r.a.createElement(Sa.a,{onClick:he})))),r.a.createElement(ba.a,null,r.a.createElement(R.a,{container:!0,md:12,spacing:2},r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(B.a,{required:!0,error:_.code.error,margin:"dense",id:"CODIGO",label:"Codigo",onChange:function(e){return function(e,a,t,n,r){t(Object(E.a)(Object(E.a)({},a),{},{CODIGO:e.target.value}));var i=tt(e.target.value);r(Object(E.a)(Object(E.a)({},n),{},{code:i}))}(e,o,s,_,H)},helperText:_.code.mesage,fullWidth:!0}),r.a.createElement(B.a,{required:!0,error:_.name.error,margin:"dense",id:"NOMBRE",label:"Nombre",onChange:function(e){return function(e,a,t,n,r){t(Object(E.a)(Object(E.a)({},a),{},{NOMBRE:e.target.value}));var i=Ca(e.target.value);r(Object(E.a)(Object(E.a)({},n),{},{name:i}))}(e,o,s,_,H)},helperText:_.name.mesage,fullWidth:!0}),r.a.createElement(B.a,{required:!0,error:_.lastnames.error,margin:"dense",id:"APELLIDOS",label:"Apellidos",onChange:function(e){return function(e,a,t,n,r){t(Object(E.a)(Object(E.a)({},a),{},{APELLIDOS:e.target.value}));var i=$a(e.target.value);r(Object(E.a)(Object(E.a)({},n),{},{lastnames:i}))}(e,o,s,_,H)},helperText:_.lastnames.mesage,fullWidth:!0}),r.a.createElement(B.a,{required:!0,error:_.email.error,margin:"dense",id:"CORREO",label:"Correo electr\xf3nico",type:"email",onChange:function(e){return function(e,a,t,n,r,i,o){t(Object(E.a)(Object(E.a)({},a),{},{CORREO:e.target.value}));var s=q(e.target.value,i,o);r(Object(E.a)(Object(E.a)({},n),{},{email:s}))}(e,o,s,_,H,ne,ce)},fullWidth:!0}),r.a.createElement(B.a,{error:_.phoneNumber.error,margin:"dense",id:"TELEFONO",label:"Tel\xe9fono",onChange:function(e){return function(e,a,t,n,r){t(Object(E.a)(Object(E.a)({},a),{},{TELEFONO:e.target.value}));var i=et(e.target.value);r(Object(E.a)(Object(E.a)({},n),{},{phoneNumber:i}))}(e,o,s,_,H)},fullWidth:!0}),r.a.createElement(si,{facultades:T,facultad:L,setFacultad:P}),r.a.createElement(Mi,{programasSeleccionados:g,setProgramasSeleccionados:b,programa:y,setPrograma:x,programas:S,setProgramas:A,cantP:function(e){h(e)}})))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"outlined",onClick:he,color:"primary"},"Cancelar"),r.a.createElement(D.a,{variant:"contained",onClick:function(e){return fe(e,o,s)},color:"primary"},"Crear"))))},Fi=(Object(h.a)((function(e){return{foto:{backgroundImage:"url(https://pps.whatsapp.net/v/t61.24694-24/97969579_3102912936463371_7208379054937379558_n.jpg?oe=5EC495F5&oh=68e4ca58a0f65f680df95105f6ba41ae)",backgroundSize:"cover",backgroundPosition:"center",padding:e.spacing(2),width:e.spacing(15),height:e.spacing(30)}}})),function(e){var a=e.open,t=e.close,i=(e.codigo,e.idFacu),o=e.parentCallback,s=r.a.useState({ID:"",CODIGO:"",NOMBRE:"",APELLIDOS:"",CORREO:"",TELEFONO:"",USUARIO:"",DIRECCION:"",IMAGEN:null,PROGRAMA:[]}),m=Object(u.a)(s,2),d=m[0],p=m[1],h=Object(n.useState)(0),f=Object(u.a)(h,2),O=f[0],g=f[1],b=Object(n.useState)(""),v=Object(u.a)(b,2),j=v[0],S=v[1],A=Object(n.useState)(""),C=Object(u.a)(A,2),I=C[0],y=C[1],x=Object(n.useState)([]),k=Object(u.a)(x,2),N=k[0],T=(k[1],Object(n.useState)([])),U=Object(u.a)(T,2),w=U[0],M=(U[1],Object(n.useState)([])),L=Object(u.a)(M,2),P=L[0],F=(L[1],Object(n.useState)([])),G=Object(u.a)(F,2),_=G[0],H=G[1],z=Object(n.useState)(""),V=Object(u.a)(z,2),W=V[0],Y=V[1],J=Object(n.useState)(Aa),K=Object(u.a)(J,2),Q=K[0],Z=K[1],ee=Object(n.useState)({mensajeStrong:"",mensajeStrongError:"por favor revisalos!",mensajeStrongExito:"satisfactoriamente!",mensajeError:"Existen errores al completar el formulario",mensajeExito:"Coordinador registrado",mensaje:""}),ae=Object(u.a)(ee,2),te=ae[0],ne=ae[1],re=Object(n.useState)({severidad:"",severW:"warning",severE:"error",severS:"success"}),ie=Object(u.a)(re,2),oe=ie[0],ce=ie[1],le=Object(n.useState)(0),ue=Object(u.a)(le,2),me=ue[0],de=ue[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/institucion"});case 2:(a=e.sent)&&(a.institucion&&(S(a.institucion.DOMINIO),y(a.institucion.DOMINIO2)),y(a.institucion.DOMINIO2));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[j,I]);var pe=function(e){e>0?e>me?(de((function(a){return e})),""!==W&&N.push(W)):(de((function(a){return e})),N.length>=me&&N.splice(-1)):de((function(e){return 0}))};Object(n.useEffect)((function(){function a(){return(a=Object(l.a)(c.a.mark((function a(){var t,n,r,i,o,s;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t="/api/coordinador/"+e.id,n={servicio:t},a.next=4,X(n);case 4:if(r=a.sent){d.ID=r.coordinador.ID_USUARIO,d.USUARIO=r.coordinador.USUARIO,d.NOMBRE=r.coordinador.NOMBRE,d.APELLIDOS=r.coordinador.APELLIDOS,d.CORREO=r.coordinador.CORREO,d.CODIGO=r.coordinador.CODIGO,d.TELEFONO=r.coordinador.TELEFONO,d.DIRECCION=r.coordinador.DIRECCION,[],i=Object(ka.a)(r.coordinador.PROGRAMAs);try{for(i.s();!(o=i.n()).done;)2===(s=o.value).ROL_X_USUARIO_X_PROGRAMA.ID_ROL&&(N.push(s.ID_PROGRAMA),w.push(s.NOMBRE),de((function(e){return e+1})))}catch(c){i.e(c)}finally{i.f()}}p(Object(E.a)({},d));case 7:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}),{}),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={servicio:"/api/programa/lista/"+i},e.next=4,X(a);case 4:(t=e.sent)&&H(t.programa);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),{});var he=function(){var e=Object(l.a)(c.a.mark((function e(a,t,n){var r,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Q.name.error||Q.lastnames.error||Q.email.error||Q.phoneNumber.error||Q.address.error||Q.code.error||""===t.NOMBRE||""===t.APELLIDOS||""===t.CORREO||""===t.CODIGO)){e.next=5;break}ce({severidad:"error"}),ne({mensaje:"Hay errores en el formulario"}),e.next=16;break;case 5:return N.length<me&&N.push(W),t.PROGRAMA=N,n(Object(E.a)({},t)),r={servicio:"/api/coordinador/modificar",request:{coordinador:t}},e.next=11,$(r);case 11:(i=e.sent).error?(ce({severidad:"error"}),ne({mensaje:i.error})):i&&(ce({severidad:oe.severS}),ne({mensaje:"Se modificaron los datos del coordinador satisfactoriamente"})),g(s=O+1),o(s);case 16:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(Oa.a,{open:a,onClose:t,"aria-labelledby":"form-dialog-title"},r.a.createElement(se,{severity:oe.severidad,titulo:"Observacion:",alerta:te}),r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12},r.a.createElement(R.a,{item:!0,md:11},"Formulario de registro de coordinador"),r.a.createElement(R.a,{item:!0,md:1,alignItems:"flex-end"},r.a.createElement(Sa.a,{onClick:t})))),r.a.createElement(ba.a,null,r.a.createElement(R.a,{container:!0,md:12,spacing:2},r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(B.a,{required:!0,error:Q.code.error,margin:"dense",id:"CODIGO",label:"Codigo",value:d.CODIGO,onChange:function(e){return function(e,a,t,n,r){t(Object(E.a)(Object(E.a)({},a),{},{CODIGO:e.target.value}));var i=tt(e.target.value);r(Object(E.a)(Object(E.a)({},n),{},{code:i}))}(e,d,p,Q,Z)},helperText:Q.code.mesage,fullWidth:!0}),r.a.createElement(B.a,{required:!0,error:Q.name.error,margin:"dense",id:"NOMBRE",label:"Nombre",value:d.NOMBRE,onChange:function(e){return function(e,a,t,n,r){t(Object(E.a)(Object(E.a)({},a),{},{NOMBRE:e.target.value}));var i=Ca(e.target.value);r(Object(E.a)(Object(E.a)({},n),{},{name:i}))}(e,d,p,Q,Z)},helperText:Q.name.mesage,fullWidth:!0}),r.a.createElement(B.a,{required:!0,error:Q.lastnames.error,margin:"dense",id:"APELLIDOS",label:"Apellidos",value:d.APELLIDOS,onChange:function(e){return function(e,a,t,n,r){t(Object(E.a)(Object(E.a)({},a),{},{APELLIDOS:e.target.value}));var i=$a(e.target.value);r(Object(E.a)(Object(E.a)({},n),{},{lastnames:i}))}(e,d,p,Q,Z)},helperText:Q.lastnames.mesage,fullWidth:!0}),r.a.createElement(B.a,{required:!0,error:Q.email.error,margin:"dense",id:"CORREO",label:"Correo electr\xf3nico",type:"email",value:d.CORREO,onChange:function(e){return function(e,a,t,n,r,i,o){t(Object(E.a)(Object(E.a)({},a),{},{CORREO:e.target.value}));var s=q(e.target.value,i,o);r(Object(E.a)(Object(E.a)({},n),{},{email:s}))}(e,d,p,Q,Z,j,I)},fullWidth:!0}),r.a.createElement(B.a,{error:Q.phoneNumber.error,margin:"dense",id:"TELEFONO",label:"Tel\xe9fono",value:d.TELEFONO,onChange:function(e){return function(e,a,t,n,r){t(Object(E.a)(Object(E.a)({},a),{},{TELEFONO:e.target.value}));var i=et(e.target.value);r(Object(E.a)(Object(E.a)({},n),{},{phoneNumber:i}))}(e,d,p,Q,Z)},fullWidth:!0}),r.a.createElement(R.a,{container:!0,md:12,spacing:1},r.a.createElement(R.a,{item:!0,md:8},me>0?function(e){for(var a=e,t=[],n=0;n<a;n++)t.push(n);return r.a.createElement("div",null,r.a.createElement(R.a,{item:!0,md:8},t.map((function(a){return r.a.createElement(mt,{cantProgramas:e,programas:_,programa:P[a],setPrograma:Y,setProgramas:H,nombre:w[a]})}))))}(me):null),r.a.createElement(R.a,{item:!0,md:4},r.a.createElement(ye.a,{color:"primary",onClick:function(){return pe(me+1)}},r.a.createElement(rt.a,{color:"primary",fontsize:"large"})),r.a.createElement(ye.a,{color:"primary",onClick:function(){return pe(me-1)}},r.a.createElement(ot.a,{color:"primary",fontsize:"large"}))))))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"outlined",onClick:t,color:"inherit"},"Cancelar"),r.a.createElement(D.a,{variant:"contained",onClick:function(e){return he(e,d,p)},color:"primary"},"Modificar"))))}),Bi={paper:{marginTop:"3%",marginLeft:"3%",marginRight:"3%",marginBottom:"3%",display:"flex",flexDirection:"column",alignItems:"left",backgroundImage:""}},Gi=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(e){var n,r;return Object(U.a)(this,t),(r=a.call(this,e)).handleOnOpen=function(e){r.setState({open:!0}),r.state.idCoord=e},r.handleOnOpenEliminar=function(e){r.setState({open2:!0}),r.state.idCoord=e},r.callback=function(e){var a=r.state.flag+1;r.setState({flag:a})},r.state=(n={coordinadores:{columns:[{title:"Nombre",field:"nombre"}],data:[{nombre:""}]}},Object(N.a)(n,"coordinadores",[{id:"1"}]),Object(N.a)(n,"flag",0),n),r.establecerData=r.establecerData.bind(Object(M.a)(r)),r.handleOnOpen=r.handleOnOpen.bind(Object(M.a)(r)),r.handleOnClose=r.handleOnClose.bind(Object(M.a)(r)),r.handleOnOpenEliminar=r.handleOnOpenEliminar.bind(Object(M.a)(r)),r}return Object(w.a)(t,[{key:"establecerData",value:function(e){var a,t=this,n=[],i=Object(ka.a)(e.coordinadores);try{var o=function(){var e=a.value;n.push({codigo:e.CODIGO,nombre:e.NOMBRE+" "+e.APELLIDOS,correo:e.CORREO,boton:r.a.createElement("div",null,r.a.createElement(ye.a,{color:"primary"},r.a.createElement(wa.a,{color:"secondary",fontsize:"large",onClick:function(){return t.handleOnOpen(e.ID_USUARIO)}})),r.a.createElement(ye.a,{color:"primary"},r.a.createElement(La.a,{color:"error",fontsize:"large",onClick:function(){return t.handleOnOpenEliminar(e.ID_USUARIO)}})))})};for(i.s();!(a=i.n()).done;)o()}catch(c){i.e(c)}finally{i.f()}var s={columns:[{title:"C\xf3digo",field:"codigo"},{title:"Nombre",field:"nombre"},{title:"Correo Electr\xf3nico",field:"correo"},{title:"",field:"boton"}],data:n};this.setState({coordinadores:s})}},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.idFacu===a.idFacu&&this.props.flag===a.flag&&t.flag===this.state.flag){e.next=5;break}return e.next=3,X({servicio:"/api/coordinadorprograma/"+this.props.idFacu});case 3:(n=e.sent)&&this.establecerData(n);case 5:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/coordinador/"});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"handleOnClose",value:function(){this.setState({open:!1}),this.setState({open2:!1})}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.open&&r.a.createElement(Fi,{open:this.handleOnOpen,close:this.handleOnClose,id:this.state.idCoord,idFacu:this.props.idFacu,parentCallback:this.callback}),this.state.open2&&r.a.createElement(pt,{open:this.handleOnOpenEliminar,close:this.handleOnClose,id:this.state.idCoord,parentCallback:this.callback}),r.a.createElement(y.a,{elevation:0,style:Bi.paper},r.a.createElement(Ti,{coordinadores:this.state.coordinadores})))}}]),t}(r.a.Component),qi=function(){var e=Object(n.useState)([]),a=Object(u.a)(e,2),t=(a[0],a[1]),i=Object(n.useState)([]),o=Object(u.a)(i,2),s=o[0],m=o[1],d=Object(n.useState)([]),p=Object(u.a)(d,2),h=p[0],f=p[1],O=Object(n.useState)(0),g=Object(u.a)(O,2),b=g[0],E=g[1],v=Object(n.useState)(0),j=Object(u.a)(v,2),S=j[0],A=j[1];return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/api/facultad/coordinador/"+Q().usuario.ID_USUARIO,t={servicio:a},e.next=4,X(t);case 4:(n=e.sent)&&(m(n.facultades),n.facultades[0]&&f(n.facultades[0].ID_PROGRAMA));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),{}),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/coordinador",a={servicio:"/api/coordinador"},e.next=4,X(a);case 4:(n=e.sent)&&t(n.coordinadores);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),{}),r.a.createElement("div",null,r.a.createElement(xa,{titulo:"Coordinadores de Programa"}),r.a.createElement(R.a,{container:!0,md:12,alignItems:"flex-end",alignContent:"center",justify:"center"},r.a.createElement(R.a,{item:!0,md:9},r.a.createElement(Tr,{facultades:s,facultad:h,setFacultad:f})),r.a.createElement(R.a,{item:!0,md:2},r.a.createElement(Pi,{flag:S,setFlag:E}))),r.a.createElement(Gi,{idFacu:h,flag:b,setFlag:A}))},_i=t(70),Hi=Object(h.a)((function(e){return{caja:{padding:e.spacing(2),marginLeft:e.spacing(3),marginRight:e.spacing(3)}}})),zi=function(e){var a=Hi(),t={labels:e.labels,datasets:[{label:"Nivel del 0 - 5",data:e.data}]};return r.a.createElement(y.a,{className:a.caja},r.a.createElement(_i.a,{data:t,options:{title:{display:!0,text:"Nivel de satisfacci\xf3n promedio por proceso de tutoria"},scales:{yAxes:[{ticks:{min:0,max:5}}]}}}))},Vi=Object(h.a)((function(e){return{caja:{padding:e.spacing(2),marginLeft:e.spacing(3),marginRight:e.spacing(3)}}})),Wi=function(e){var a=Vi(),t={labels:e.labels,datasets:[{label:"Nivel del 0 - 5",data:e.data}]};return r.a.createElement(y.a,{className:a.caja},r.a.createElement(_i.a,{data:t,options:{title:{display:!0,text:"Nivel de utilidad promedio por proceso de tutoria"},scales:{yAxes:[{ticks:{min:0,max:5}}]}}}))},Yi=Object(h.a)((function(e){return{caja:{padding:e.spacing(2),marginLeft:e.spacing(3),marginRight:e.spacing(3)}}})),Ji=function(e){var a=Yi(),t=[];e.dataSi!==[]&&(t=e.dataSi.map((function(a,t){return e.cant[t]-a})));var n={labels:e.labels,datasets:[{label:"Si",backgroundColor:"rgb(14,115,56, 0.7)",data:e.dataSi},{label:"No",backgroundColor:"rgb(253,45,80, 0.7)",data:t}]};return r.a.createElement(y.a,{className:a.caja},r.a.createElement(_i.a,{data:n,options:{title:{display:!0,text:"\xbfUs\xf3 las recomendaciones para sus decisiones?"},scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]}}}))},Ki=Object(h.a)((function(e){return{caja:{padding:e.spacing(2),marginLeft:e.spacing(3),marginRight:e.spacing(3)}}})),Qi=function(e){var a=Ki(),t=[];e.dataSi!==[]&&(t=e.dataSi.map((function(a,t){return e.cant[t]-a})));var n={labels:e.labels,datasets:[{label:"Si",backgroundColor:"rgb(14,115,56, 0.7)",data:e.dataSi},{label:"No",backgroundColor:"rgb(253,45,80, 0.7)",data:t}]};return r.a.createElement(y.a,{className:a.caja},r.a.createElement(_i.a,{data:n,options:{title:{display:!0,text:"\xbfSolucion\xf3 su situaci\xf3n?"},scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]}}}))},Xi=Object(h.a)((function(e){return{caja:{padding:e.spacing(2),marginLeft:e.spacing(3),marginRight:e.spacing(3)}}})),Zi=function(e){var a=Xi(),t=[];e.dataSi!==[]&&(t=e.dataSi.map((function(a,t){return e.cant[t]-a})));var n={labels:e.labels,datasets:[{label:"Si",backgroundColor:"rgb(14,115,56, 0.7)",data:e.dataSi},{label:"No",backgroundColor:"rgb(253,45,80, 0.7)",data:t}]};return r.a.createElement(y.a,{className:a.caja},r.a.createElement(_i.a,{data:n,options:{title:{display:!0,text:"\xbfRecomendaria el programa de tutoria?"},scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]}}}))},$i=t(108),eo=t(173),ao=Object(h.a)((function(e){return{caja:Object(N.a)({marginTop:e.spacing(3),padding:e.spacing(3)},e.breakpoints.down("sm"),{padding:e.spacing(2)})}})),to=function(){var e=ao(),a=Q().usuario.ID_USUARIO,t=Q().idRol,i=Object(n.useState)(!0),o=Object(u.a)(i,2),s=(o[0],o[1],Object(n.useState)([])),m=Object(u.a)(s,2),d=m[0],p=m[1],h=Object(n.useState)(""),f=Object(u.a)(h,2),O=f[0],g=f[1],b=Object(n.useState)([]),E=Object(u.a)(b,2),v=E[0],j=E[1],S=Object(n.useState)(""),A=Object(u.a)(S,2),C=A[0],I=A[1],x=Object(n.useState)([]),k=Object(u.a)(x,2),N=k[0],T=k[1],U=Object(n.useState)([]),w=Object(u.a)(U,2),M=w[0],L=w[1],P=Object(n.useState)([]),F=Object(u.a)(P,2),B=F[0],G=F[1],q=Object(n.useState)([]),_=Object(u.a)(q,2),H=_[0],z=_[1],V=Object(n.useState)([]),W=Object(u.a)(V,2),Y=W[0],J=W[1],K=Object(n.useState)([]),Z=Object(u.a)(K,2),$=Z[0],ee=Z[1],ae=Object(n.useState)([]),te=Object(u.a)(ae,2),ne=te[0],re=te[1],ie=Object(n.useState)([]),oe=Object(u.a)(ie,2),se=oe[0],ce=oe[1],le=Object(n.useState)([]),ue=Object(u.a)(le,2),me=ue[0],de=ue[1],pe=function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n,r,i,o,s,l,u,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",n=".xlsx",e.next=4,new Date;case 4:return r=e.sent,i="Rep_Encuestas"+r.getFullYear()+r.getMonth().toString()+r.getDate().toString(),"",s=$i.utils.json_to_sheet(me),l=$i.utils.json_to_sheet(N),u={Sheets:{Encuestas:s,Promedios:l},SheetNames:["Encuestas","Promedios"]},o=$i.write(u,{bookType:"xlsx",type:"array"}),e.next=13,new Blob([o],{type:t});case 13:m=e.sent,eo.saveAs(m,i+n);case 15:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 6===t?n="/api/facultad/coordinador/"+a:2===t&&(n="/api/facultad/lista/"+a),r={servicio:n},e.next=4,X(r);case 4:(i=e.sent)&&(p(i.facultades),i.facultades[0]&&g(6===t?i.facultades[0].ID_PROGRAMA:i.facultades[0].FACULTAD.ID_PROGRAMA));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,a]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 6===t?n="/api/programa/lista/"+O:2===t&&(n="/api/programa/lista/"+a+"/"+O),r={servicio:n},e.next=4,X(r);case 4:null!==(i=e.sent)&&(6===t?i&&(j(i.programa),i.programa[0]&&(I(i.programa[0].ID_PROGRAMA),console.log("asdf",C))):2===t&&i&&(j(i.programas),i.programas[0]&&(I(i.programas[0].ID_PROGRAMA),console.log("asdf",C))));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==O&&function(){e.apply(this,arguments)}()}),[O]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={servicio:"/api/encuesta/tutoria/"+C},e.next=4,X(a);case 4:return t=e.sent,n={servicio:"/api/encuesta/programa/"+C},e.next=9,X(n);case 9:r=e.sent,t&&(T(t.encuestas),t.encuestas!==[]&&(L(t.encuestas.map((function(e){return e.PROCESO_TUTORIA}))),G(t.encuestas.map((function(e){return e.SATISFACCION}))),z(t.encuestas.map((function(e){return e.UTILIDAD}))),J(t.encuestas.map((function(e){return e.UTILIZO_RECOMENDACIONES}))),ee(t.encuestas.map((function(e){return e.SOLUCIONO_SITUACION}))),re(t.encuestas.map((function(e){return e.RECOMENDARIA}))),ce(t.encuestas.map((function(e){return e.CANTIDAD}))))),r&&de(r.encuestas.map((function(e){return e})));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==C&&function(){e.apply(this,arguments)}()}),[C]),r.a.createElement(R.a,{container:!0,spacing:5,md:12,justify:"center",alignItems:"center"},r.a.createElement(R.a,{item:!0,xs:12,md:8},r.a.createElement(y.a,{className:e.caja},r.a.createElement(R.a,{container:!0,spacing:5,justify:"center",alignItems:"center"},r.a.createElement(R.a,{item:!0,xs:12,md:4},r.a.createElement(Kt,{programas:d,programa:O,setPrograma:g})),r.a.createElement(R.a,{item:!0,xs:12,md:4},r.a.createElement(Yt,{programas:v,programa:C,setPrograma:I})),r.a.createElement(R.a,{item:!0,xs:12,md:2,style:{marginRight:"1%"}},r.a.createElement(D.a,{id:"btnGuardar",color:"primary",variant:"contained",onClick:function(e){return pe(e)},disabled:!N.length},"Descargar"))))),r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(zi,{labels:M,data:B})),r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(Wi,{labels:M,data:H})),r.a.createElement(R.a,{item:!0,xs:12,md:4},r.a.createElement(Ji,{labels:M,dataSi:Y,cant:se})),r.a.createElement(R.a,{item:!0,xs:12,md:4},r.a.createElement(Qi,{labels:M,dataSi:$,cant:se})),r.a.createElement(R.a,{item:!0,xs:12,md:4},r.a.createElement(Zi,{labels:M,dataSi:ne,cant:se})))},no=Object(h.a)((function(e){return{caja:{padding:e.spacing(2),marginLeft:e.spacing(3),marginRight:e.spacing(3)}}})),ro=function(e){var a=no(),t={labels:e.labels,datasets:[{label:"Porcentajes",data:e.data}]};return r.a.createElement(y.a,{className:a.caja},r.a.createElement(_i.a,{data:t,options:{title:{display:!0,text:"Motivos de solicitud de una sesi\xf3n"},scales:{yAxes:[{ticks:{min:0,max:100}}]}}}))},io=Object(h.a)((function(e){return{caja:Object(N.a)({marginTop:e.spacing(3),padding:e.spacing(5)},e.breakpoints.down("sm"),{padding:e.spacing(2)})}})),oo=function(){var e=io(),a=Q().usuario.ID_USUARIO,t=Q().idRol,i=Object(n.useState)(!0),o=Object(u.a)(i,2),s=(o[0],o[1],Object(n.useState)([])),m=Object(u.a)(s,2),d=m[0],p=m[1],h=Object(n.useState)(""),f=Object(u.a)(h,2),O=f[0],g=f[1],b=Object(n.useState)([]),E=Object(u.a)(b,2),v=E[0],j=E[1],S=Object(n.useState)(""),A=Object(u.a)(S,2),C=A[0],I=A[1],x=Object(n.useState)([]),k=Object(u.a)(x,2),N=k[0],T=k[1],U=Object(n.useState)([]),w=Object(u.a)(U,2),M=w[0],L=w[1],P=Object(n.useState)([]),F=Object(u.a)(P,2),B=F[0],G=F[1],q=function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n,r,i,o,s,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",n=".xlsx",e.next=4,new Date;case 4:return r=e.sent,i="Rep_Motivos_Solicitud"+r.getFullYear()+r.getMonth().toString()+r.getDate().toString(),o=$i.utils.json_to_sheet(B),s={Sheets:{Motivos_Solicitud:o},SheetNames:["Motivos_Solicitud"]},l=$i.write(s,{bookType:"xlsx",type:"array"}),e.next=11,new Blob([l],{type:t});case 11:u=e.sent,eo.saveAs(u,i+n);case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 6===t?n="/api/facultad/coordinador/"+a:2===t&&(n="/api/facultad/lista/"+a),r={servicio:n},e.next=4,X(r);case 4:(i=e.sent)&&(p(i.facultades),i.facultades[0]&&g(6===t?i.facultades[0].ID_PROGRAMA:i.facultades[0].FACULTAD.ID_PROGRAMA));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,a]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 6===t?n="/api/programa/lista/"+O:2===t&&(n="/api/programa/lista/"+a+"/"+O),r={servicio:n},e.next=4,X(r);case 4:null!==(i=e.sent)&&(6===t?i&&(j(i.programa),i.programa[0]&&(I(i.programa[0].ID_PROGRAMA),console.log("asdf",C))):2===t&&i&&(j(i.programas),i.programas[0]&&(I(i.programas[0].ID_PROGRAMA),console.log("asdf",C))));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==O&&function(){e.apply(this,arguments)}()}),[O]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n,r,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={servicio:"/api/sesion/motivosolicitud/"+C},e.next=4,X(a);case 4:if((t=e.sent)&&t.motivosSolicitud!==[]){n=0,r=Object(ka.a)(t.motivosSolicitud);try{for(r.s();!(i=r.n()).done;)o=i.value,n+=o.CANTIDAD}catch(s){r.e(s)}finally{r.f()}T(t.motivosSolicitud.map((function(e){return e.MOTIVO}))),L(t.motivosSolicitud.map((function(e){return(e.CANTIDAD/n*100).toFixed(2)}))),G(t.motivosSolicitud.map((function(e){return e})))}case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==C&&function(){e.apply(this,arguments)}()}),[C]),r.a.createElement(R.a,{container:!0,spacing:5,md:12,justify:"center",alignItems:"center"},r.a.createElement(R.a,{item:!0,xs:10,md:8},r.a.createElement(y.a,{className:e.caja},r.a.createElement(R.a,{container:!0,spacing:5,justify:"center",alignItems:"center"},r.a.createElement(R.a,{item:!0,xs:12,md:4},r.a.createElement(Kt,{programas:d,programa:O,setPrograma:g})),r.a.createElement(R.a,{item:!0,xs:12,md:4},r.a.createElement(Yt,{programas:v,programa:C,setPrograma:I})),r.a.createElement(R.a,{item:!0,xs:12,md:2,style:{marginRight:"1%"}},r.a.createElement(D.a,{id:"btnGuardar",color:"primary",variant:"contained",onClick:function(e){return q(e)},disabled:!N.length},"Descargar"))))),r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(ro,{labels:N,data:M})))},so=Object(h.a)((function(e){return{caja:{padding:e.spacing(2),marginLeft:e.spacing(3),marginRight:e.spacing(3)}}})),co=function(e){var a=so(),t={labels:e.labels,datasets:[{label:"Horas",data:e.data}]};return r.a.createElement(y.a,{className:a.caja},r.a.createElement(_i.a,{data:t,options:{title:{display:!0,text:"Disponibilidad registrada"},scales:{yAxes:[{ticks:{min:0}}]}}}))},lo=Object(h.a)((function(e){return{caja:{padding:e.spacing(2),marginLeft:e.spacing(3),marginRight:e.spacing(3)}}})),uo=function(e){var a=lo(),t={labels:e.labels,datasets:[{label:"Horas",data:e.data}]};return r.a.createElement(y.a,{className:a.caja},r.a.createElement(_i.a,{data:t,options:{title:{display:!0,text:"Sesiones brindadas"},scales:{yAxes:[{ticks:{min:0}}]}}}))},mo=Object(h.a)((function(e){return{caja:Object(N.a)({marginTop:e.spacing(3),padding:e.spacing(3)},e.breakpoints.down("sm"),{padding:e.spacing(2)})}})),po=function(){var e=mo(),a=Q().usuario.ID_USUARIO,t=Q().idRol,i=Object(n.useState)(!0),o=Object(u.a)(i,2),s=(o[0],o[1],Object(n.useState)([])),m=Object(u.a)(s,2),d=m[0],p=m[1],h=Object(n.useState)(""),f=Object(u.a)(h,2),O=f[0],g=f[1],b=Object(n.useState)([]),E=Object(u.a)(b,2),v=E[0],j=E[1],S=Object(n.useState)(""),A=Object(u.a)(S,2),C=A[0],I=A[1],x=Object(n.useState)([]),k=Object(u.a)(x,2),N=k[0],T=k[1],U=Object(n.useState)([]),w=Object(u.a)(U,2),M=w[0],L=w[1],P=Object(n.useState)([]),F=Object(u.a)(P,2),B=F[0],G=F[1],q=Object(n.useState)([]),_=Object(u.a)(q,2),H=_[0],z=_[1],V=function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n,r,i,o,s,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",n=".xlsx",e.next=4,new Date;case 4:return r=e.sent,i="Rep_Tutores"+r.getFullYear()+r.getMonth().toString()+r.getDate().toString(),o=$i.utils.json_to_sheet(H),s={Sheets:{Tutores:o},SheetNames:["Tutores"]},l=$i.write(s,{bookType:"xlsx",type:"array"}),e.next=11,new Blob([l],{type:t});case 11:u=e.sent,eo.saveAs(u,i+n);case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 6===t?n="/api/facultad/coordinador/"+a:2===t&&(n="/api/facultad/lista/"+a),r={servicio:n},e.next=4,X(r);case 4:(i=e.sent)&&(p(i.facultades),i.facultades[0]&&g(6===t?i.facultades[0].ID_PROGRAMA:i.facultades[0].FACULTAD.ID_PROGRAMA));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,a]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 6===t?n="/api/programa/lista/"+O:2===t&&(n="/api/programa/lista/"+a+"/"+O),r={servicio:n},e.next=4,X(r);case 4:null!==(i=e.sent)&&(6===t?i&&(j(i.programa),i.programa[0]&&(I(i.programa[0].ID_PROGRAMA),console.log("asdf",C))):2===t&&i&&(j(i.programas),i.programas[0]&&(I(i.programas[0].ID_PROGRAMA),console.log("asdf",C))));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==O&&function(){e.apply(this,arguments)}()}),[O]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={servicio:"/api/disponibilidadvssesiones/"+C},e.next=4,X(a);case 4:(t=e.sent)&&t.motivosSolicitud!==[]&&(z(t.motivosSolicitud.map((function(e){return e}))),T(t.motivosSolicitud.map((function(e){return e.TUTOR}))),G(t.motivosSolicitud.map((function(e){return e["SESIONES_BRINDADAS(HORAS)"]}))),L(t.motivosSolicitud.map((function(e){return e["DISPONIBILIDAD(HORAS)"]}))));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==C&&function(){e.apply(this,arguments)}()}),[C]),r.a.createElement(R.a,{container:!0,spacing:5,md:12,justify:"center",alignItems:"center"},r.a.createElement(R.a,{item:!0,xs:12,md:8},r.a.createElement(y.a,{className:e.caja},r.a.createElement(R.a,{container:!0,spacing:5,justify:"center",alignItems:"center"},r.a.createElement(R.a,{item:!0,xs:12,md:4},r.a.createElement(Kt,{programas:d,programa:O,setPrograma:g})),r.a.createElement(R.a,{item:!0,xs:12,md:4},r.a.createElement(Yt,{programas:v,programa:C,setPrograma:I})),r.a.createElement(R.a,{item:!0,xs:12,md:2,style:{marginRight:"1%"}},r.a.createElement(D.a,{id:"btnGuardar",color:"primary",variant:"contained",onClick:function(e){return V(e)},disabled:!H.length},"Descargar"))))),r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(co,{labels:N,data:M})),r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(uo,{labels:N,data:B})))},ho=Object(h.a)((function(e){return{caja:{padding:e.spacing(2),marginLeft:e.spacing(3),marginRight:e.spacing(3)}}})),fo=function(e){var a=ho(),t={labels:e.labels,datasets:[{label:"Porcentajes",data:e.data}]};return r.a.createElement(y.a,{className:a.caja},r.a.createElement(_i.a,{data:t,options:{title:{display:!0,text:"Estados de una sesi\xf3n"},scales:{yAxes:[{ticks:{min:0,max:100}}]}}}))},Oo=Object(h.a)((function(e){return{caja:Object(N.a)({marginTop:e.spacing(3),padding:e.spacing(3)},e.breakpoints.down("sm"),{padding:e.spacing(2)})}})),go=function(){var e=Oo(),a=Q().usuario.ID_USUARIO,t=Q().idRol,i=Object(n.useState)(!0),o=Object(u.a)(i,2),s=(o[0],o[1],Object(n.useState)([])),m=Object(u.a)(s,2),d=m[0],p=m[1],h=Object(n.useState)(""),f=Object(u.a)(h,2),O=f[0],g=f[1],b=Object(n.useState)([]),E=Object(u.a)(b,2),v=E[0],j=E[1],S=Object(n.useState)(""),A=Object(u.a)(S,2),C=A[0],I=A[1],x=Object(n.useState)([]),k=Object(u.a)(x,2),N=k[0],T=k[1],U=Object(n.useState)([]),w=Object(u.a)(U,2),M=w[0],L=w[1],P=Object(n.useState)([]),F=Object(u.a)(P,2),B=F[0],G=F[1],q=function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n,r,i,o,s,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",n=".xlsx",e.next=4,new Date;case 4:return r=e.sent,i="Rep_Sesiones"+r.getFullYear()+r.getMonth().toString()+r.getDate().toString(),o=$i.utils.json_to_sheet(B),s={Sheets:{Sesiones:o},SheetNames:["Sesiones"]},l=$i.write(s,{bookType:"xlsx",type:"array"}),e.next=11,new Blob([l],{type:t});case 11:u=e.sent,eo.saveAs(u,i+n);case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 6===t?n="/api/facultad/coordinador/"+a:2===t&&(n="/api/facultad/lista/"+a),r={servicio:n},e.next=4,X(r);case 4:(i=e.sent)&&(p(i.facultades),i.facultades[0]&&g(6===t?i.facultades[0].ID_PROGRAMA:i.facultades[0].FACULTAD.ID_PROGRAMA));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,a]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 6===t?n="/api/programa/lista/"+O:2===t&&(n="/api/programa/lista/"+a+"/"+O),r={servicio:n},e.next=4,X(r);case 4:null!==(i=e.sent)&&(6===t?i&&(j(i.programa),i.programa[0]&&(I(i.programa[0].ID_PROGRAMA),console.log("asdf",C))):2===t&&i&&(j(i.programas),i.programas[0]&&(I(i.programas[0].ID_PROGRAMA),console.log("asdf",C))));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==O&&function(){e.apply(this,arguments)}()}),[O]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n,r,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={servicio:"/api/sesion/estado/"+C},e.next=4,X(a);case 4:if((t=e.sent)&&t.motivosSolicitud!==[]){n=0,r=Object(ka.a)(t.motivosSolicitud);try{for(r.s();!(i=r.n()).done;)o=i.value,n+=o.CANTIDAD}catch(s){r.e(s)}finally{r.f()}T(t.motivosSolicitud.map((function(e){return e.ESTADO}))),L(t.motivosSolicitud.map((function(e){return(e.CANTIDAD/n*100).toFixed(2)}))),G(t.motivosSolicitud.map((function(e){return e})))}case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==C&&function(){e.apply(this,arguments)}()}),[C]),r.a.createElement(R.a,{container:!0,spacing:5,md:12,justify:"center",alignItems:"center"},r.a.createElement(R.a,{item:!0,xs:12,md:8},r.a.createElement(y.a,{className:e.caja},r.a.createElement(R.a,{container:!0,spacing:5,justify:"center",alignItems:"center"},r.a.createElement(R.a,{item:!0,xs:12,md:4},r.a.createElement(Kt,{programas:d,programa:O,setPrograma:g})),r.a.createElement(R.a,{item:!0,xs:12,md:4},r.a.createElement(Yt,{programas:v,programa:C,setPrograma:I})),r.a.createElement(R.a,{item:!0,xs:12,md:2,style:{marginRight:"1%"}},r.a.createElement(D.a,{id:"btnGuardar",color:"primary",variant:"contained",onClick:function(e){return q(e)},disabled:!N.length},"Descargar"))))),r.a.createElement(R.a,{item:!0,xs:12,md:6},r.a.createElement(fo,{labels:N,data:M})))},bo=[{index:0,titulo:"Encuestas",proceso:function(){return r.a.createElement(to,null)}},{index:1,titulo:"Motivos de solicitud",proceso:function(){return r.a.createElement(oo,null)}},{index:2,titulo:"Tutores",proceso:function(){return r.a.createElement(po,null)}},{index:3,titulo:"Sesiones",proceso:function(){return r.a.createElement(go,null)}}],Eo=function(){return r.a.createElement("div",null,r.a.createElement(xa,{titulo:"Reportes"}),r.a.createElement(Tt,{procesos:bo}))},vo=t(188),jo=t.n(vo),So=t(1257),Ao=Object(h.a)((function(e){return{root:{width:"100%",maxWidth:360,marginTop:"3%",backgroundColor:e.palette.background.paper}}})),Co=function(e){var a=Ao(),t=e.disabled,n=e.roles,i=e.setRoles,o=e.datos;return r.a.createElement("div",null,r.a.createElement(Re.a,{dense:!0,className:a.root},r.a.createElement("h3",null,"Roles:"),["Coordinador de Programa","Tutor","Alumno"].map((function(e,a){var s,c="checkbox-list-secondary-label-".concat(e);return r.a.createElement(we.a,{key:a,button:!0},r.a.createElement(Le.a,{id:c,primary:e}),r.a.createElement(So.a,null,r.a.createElement(va.a,{disabled:t,edge:"end",color:"primary",id:a,onChange:(s=a,function(){var e=n.indexOf(s+2);-1===e?n.push(s+2):n.splice(e,1),i(Object(E.a)(Object(E.a)({},o),{},{roles:n}))}),checked:-1!==n.indexOf(a+2),inputProps:{"aria-labelledby":c}})))}))))},Io=Object(h.a)((function(e){return{root:{width:"100%",maxWidth:360,marginTop:"3%",backgroundColor:e.palette.background.paper}}})),Ro=function(e){var a=Io(),t=e.disabled,n=e.roles,i=e.setRoles,o=e.datos;return r.a.createElement("div",null,r.a.createElement(Re.a,{dense:!0,className:a.root},r.a.createElement("h3",null,"Roles:"),["Tutor","Alumno"].map((function(e,a){var s,c="checkbox-list-secondary-label-".concat(e);return r.a.createElement(we.a,{key:a,button:!0},r.a.createElement(Le.a,{id:c,primary:e}),r.a.createElement(So.a,null,r.a.createElement(va.a,{disabled:t,edge:"end",color:"primary",id:a,onChange:(s=a,function(){var e=n.indexOf(s+3);-1===e?n.push(s+3):n.splice(e,1),i(Object(E.a)(Object(E.a)({},o),{},{roles:n}))}),checked:-1!==n.indexOf(a+3),inputProps:{"aria-labelledby":c}})))}))))},yo={paper:{marginTop:"3%",marginLeft:"3%",marginRight:"3%",marginBottom:"3%",display:"flex",flexDirection:"column",alignItems:"left",backgroundImage:""}},xo=function(){var e=r.a.useState({usuarioCodigo:0,usuarioNombre:"",idUsuario:Q().usuario.ID_USUARIO,roles:[],idPrograma:""}),a=Object(u.a)(e,2),t=a[0],i=a[1],o=Object(n.useState)(!0),s=Object(u.a)(o,2),m=s[0],d=s[1],p=Object(n.useState)(!0),h=Object(u.a)(p,2),f=h[0],O=h[1],g=Object(n.useState)([]),b=Object(u.a)(g,2),v=b[0],j=b[1],S=Object(n.useState)([]),A=Object(u.a)(S,2),C=A[0],I=A[1],x=Object(n.useState)([]),k=Object(u.a)(x,2),N=k[0],T=k[1],U=Object(n.useState)([]),w=Object(u.a)(U,2),M=w[0],L=w[1],P=Object(n.useState)([]),F=Object(u.a)(P,2),G=(F[0],F[1]),q=Object(n.useState)({mensajeStrong:"",mensajeStrongError:"por favor revisalos!",mensajeStrongExito:"satisfactoriamente!",mensajeError:"Existen errores al completar el formulario",mensajeExito:"Facultad registrada",mensaje:""}),_=Object(u.a)(q,2),H=_[0],z=_[1],V=Object(n.useState)({severidad:"error",severW:"warning",severE:"error",severS:"success"}),W=Object(u.a)(V,2),Y=W[0],J=W[1];function K(){return(K=Object(l.a)(c.a.mark((function e(a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={servicio:"/api/usuario/buscar/"+a},e.next=4,X(n);case 4:(r=e.sent)&&(null===r.usuario?(J({severidad:"error"}),z({mensaje:"No existe ning\xfan usuario con ese c\xf3digo"})):i(Object(E.a)(Object(E.a)({},t),{},{usuarioNombre:r.usuario.NOMBRE+" "+r.usuario.APELLIDOS,idUsuario:r.usuario.ID_USUARIO})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n,r,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Coordinador Facultad"!==Q().rol){e.next=9;break}return a="/api/facultad/coordinador/"+Q().usuario.ID_USUARIO,t={servicio:a},e.next=5,X(t);case 5:(n=e.sent)&&(j(n.facultades),d(!0)),e.next=15;break;case 9:return r="/api/facultad/lista/"+Q().usuario.ID_USUARIO,i={servicio:r},e.next=13,X(i);case 13:(o=e.sent)&&(j(o.facultades),d(!1));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),{}),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Coordinador Programa"!==Q().rol){e.next=9;break}return a="/api/programa/lista/"+Q().usuario.ID_USUARIO+"/"+C,t={servicio:a},e.next=5,X(t);case 5:(n=e.sent)&&T(n.programas),e.next=15;break;case 9:return r={servicio:"/api/programa/lista/"+C},e.next=13,X(r);case 13:(i=e.sent)&&T(i.programa);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!=C&&function(){e.apply(this,arguments)}()}),[C]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,n,r,i,o,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/api/usuario/rol/"+t.idUsuario+"/"+M,n={servicio:a},e.next=4,X(n);case 4:if(r=e.sent){i=[],o=Object(ka.a)(r.roles);try{for(o.s();!(s=o.n()).done;)l=s.value,i.push(l.ROL.ID_ROL)}catch(c){o.e(c)}finally{o.f()}t.roles=i,G(r.roles),0!==t.usuarioCodigo&&O(!1)}case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!=M&&function(){e.apply(this,arguments)}()}),[M]);var Z=function(){var e=Object(l.a)(c.a.mark((function e(a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.idUsuario&&""!==t.usuarioCodigo&&""!==t.usuarioNombre&&0!==v.length){e.next=5;break}J({severidad:"error"}),z({mensaje:"Complete los campos obligatorios (*)"}),e.next=11;break;case 5:return n={asignacion:{ID_USUARIO:t.idUsuario,ID_ROLES:t.roles,ID_PROGRAMA:M}},r={servicio:"/api/usuario/asignarrol",request:n},e.next=9,$(r);case 9:e.sent&&(J({severidad:"success"}),z({mensaje:"Los roles se han registrado satisfactoriamente"}));case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(y.a,{elevation:0,style:yo.paper,direction:"row"},r.a.createElement(se,{severity:Y.severidad,titulo:"Observacion:",alerta:H}),r.a.createElement(y.a,{elevation:0,style:yo.paper},r.a.createElement(R.a,{container:!0,md:12,spacing:3},r.a.createElement(R.a,{item:!0,md:3},r.a.createElement(B.a,{required:!0,id:"codigo  ",label:"C\xf3digo",variant:"outlined",onChange:function(e){return function(e){i(Object(E.a)(Object(E.a)({},t),{},{usuarioCodigo:e.target.value}))}(e)},fullWidth:!0})),r.a.createElement(R.a,{item:!0,md:1},r.a.createElement(ye.a,{color:"primary",onClick:function(){return function(e){return K.apply(this,arguments)}(t.usuarioCodigo)}},r.a.createElement(jo.a,{color:"primary",fontsize:"large"}))),r.a.createElement(R.a,{item:!0,md:7},r.a.createElement(B.a,{"aria-readonly":!0,id:"usuario",label:"Usuario",value:t.usuarioNombre,fullWidth:!0})),r.a.createElement(R.a,{item:!0,md:4},r.a.createElement(Tr,{facultades:v,facultad:C,setFacultad:I})),r.a.createElement(R.a,{item:!0,md:4},r.a.createElement(Yt,{programas:N,programa:M,setPrograma:L}))),r.a.createElement(R.a,{container:!0,md:12,spacing:3,justify:"space-between",alignItems:"flex-end"},r.a.createElement(R.a,{item:!0,md:10},m&&r.a.createElement(Co,{disabled:f,datos:t,roles:t.roles,setRoles:i}),!1===m&&r.a.createElement(Ro,{disabled:f,datos:t,roles:t.roles,setRoles:i})),r.a.createElement(R.a,{item:!0,md:2},r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:Z},"Guardar"))))))},ko=function(){return r.a.createElement("div",null,r.a.createElement(xa,{titulo:"Asignaci\xf3n de roles a usuarios"}),r.a.createElement(xo,null))},Do=Object(h.a)((function(e){return{caja:Object(N.a)({padding:e.spacing(5),width:e.spacing(150)},e.breakpoints.down("sm"),{padding:e.spacing(1),width:e.spacing(40)})}})),No=function(e){var a=Do(),t=e.isEdit;return console.log("DATOS",e),r.a.createElement(y.a,{className:a.caja},r.a.createElement(R.a,{container:!0,justify:"center",alignItems:"center",spacing:2},r.a.createElement(R.a,{item:!0,md:6,xs:12},r.a.createElement(B.a,{disabled:!0,margin:"dense",id:"name",label:"C\xf3digo",type:"text",fullWidth:!0,value:e.codigo})),r.a.createElement(R.a,{item:!0,md:6,xs:12},r.a.createElement(B.a,{disabled:!0,margin:"dense",id:"name",label:"Correo",type:"email",fullWidth:!0,value:e.correo})),r.a.createElement(R.a,{item:!0,md:6,xs:12},r.a.createElement(B.a,{disabled:!t,margin:"dense",id:"name",label:"Direcci\xf3n",type:"text",fullWidth:!0,defaultValue:e.direccion,inputRef:e.refs.dir})),r.a.createElement(R.a,{item:!0,md:6,xs:12},r.a.createElement(B.a,{disabled:!t,margin:"dense",id:"name",label:"Tel\xe9fono",type:"text",fullWidth:!0,defaultValue:e.telefono,inputRef:e.refs.tel})),r.a.createElement(R.a,{item:!0,container:!0,justify:"flex-end",alignItems:"center"},t&&r.a.createElement(D.a,{color:"primary",variant:"contained",onClick:e.handleGuardar},"Guardar"),!t&&r.a.createElement(D.a,{color:"primary",variant:"outlined",onClick:e.handleEdit},"Editar"))))},To=Object(h.a)((function(e){return{customContainer:{marginTop:e.spacing(5)}}})),Uo=function(e){var a=To(),t=Object(n.useState)(!1),i=Object(u.a)(t,2),o=i[0],s=i[1],m=Object(n.useState)({CODIGO:Q().usuario.CODIGO,CORREO:Q().usuario.CORREO,DIRECCION:Q().usuario.DIRECCION,TELEFONO:Q().usuario.TELEFONO}),d=Object(u.a)(m,2),p=d[0],h=d[1],f=Object(n.useRef)(null),O=Object(n.useRef)(null),g=Object(n.useState)(""),b=Object(u.a)(g,2),v=b[0],j=b[1],S=Object(n.useState)({mensaje:""}),A=Object(u.a)(S,2),C=A[0],I=A[1],y=function(){var e=Object(l.a)(c.a.mark((function e(){var a,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!1),a={ID_USUARIO:Q().usuario.ID_USUARIO,TELEFONO:O.current.value,DIRECCION:f.current.value},t={servicio:"/api/usuario/actualizarperfil",request:{usuario:a}},e.next=5,$(t);case 5:null!==e.sent?(j("success"),I({mensaje:"Se guardaron los cambios correctamente"})):(j("error"),I({mensaje:"Algo sali\xf3 mal, int\xe9ntalo nuevamente en unos minutos"}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/api/coordinador/"+Q().usuario.ID_USUARIO,t={servicio:a},e.next=4,X(t);case 4:n=e.sent,console.log("================="),null!==n&&void 0!==n.coordinador&&null!==n.coordinador&&(h(Object(E.a)(Object(E.a)({},p),{},{DIRECCION:n.coordinador.DIRECCION,TELEFONO:n.coordinador.TELEFONO})),null!==O&&null!==f&&null!==O.current&&null!==f.current&&(O.current.value=n.coordinador.TELEFONO,f.current.value=n.coordinador.DIRECCION));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",null,r.a.createElement(ma,{titulo:"Coordinador",nombre:Q().usuario.APELLIDOS+", "+Q().usuario.NOMBRE}),r.a.createElement(R.a,{container:!0,justify:"center",alignItems:"center",className:a.customContainer},r.a.createElement(R.a,{item:!0},r.a.createElement(se,{severity:v,titulo:"Observacion:",alerta:C}),r.a.createElement(No,{isEdit:o,codigo:p.CODIGO,correo:p.CORREO,direccion:p.DIRECCION,telefono:p.TELEFONO,refs:{dir:f,tel:O},handleEdit:function(e){s(!0)},handleGuardar:y}))))},wo=(Ni={marginTop:"2%",marginLeft:"4%"},Object(N.a)(Ni,"marginTop","4%"),Object(N.a)(Ni,"flexDirection","row"),Object(N.a)(Ni,"alignItems","center"),Object(N.a)(Ni,"backgroundImage",""),function(e){var a=e.idAlumno,t=e.idTutoria,i=Object(n.useState)([]),o=Object(u.a)(i,2),s=o[0],m=o[1],d=Object(n.useState)([{ID_COMPROMISO:"",ID_SESION:"",DESCRIPCION:"",ESTADO:0}]),p=Object(u.a)(d,2),h=p[0],f=p[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={servicio:"/api/listaCompromisosAlumnoProcesoTutoria/"+a+"/"+t},e.next=4,X(n);case 4:(r=e.sent)&&r.compromisos!==[]&&m(r.compromisos);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==t&&""!==a&&function(){e.apply(this,arguments)}()}),[t]);var O=function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(Object(E.a)({},h)),t={compromiso:{ID_COMPROMISO:a.ID_COMPROMISO,ID_SESION:a.ID_SESION,DESCRIPCION:a.DESCRIPCION,ESTADO:1===a.ESTADO?0:1}},n={servicio:"/api/compromiso/modificar",request:t},e.next=5,$(n);case 5:e.sent;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{item:!0,md:12,container:!0,justify:"flex-start"},r.a.createElement("br",null),s.map((function(e){return r.a.createElement(R.a,null,r.a.createElement(va.a,{id:e.ID_COMPROMISO,value:e.ID_SESION,color:"primary",defaultChecked:1===e.ESTADO,onChange:function(){return O(e)}}),r.a.createElement(B.a,{margin:"dense",style:{width:300},"aria-readonly":!0,id:"confe",defaultValue:e.DESCRIPCION}))}))))}),Mo={paper:{marginTop:"3%",marginLeft:"3%",marginRight:"3%",display:"flex",flexDirection:"row",alignItems:"left",backgroundImage:""},paper2:{marginTop:"7%",marginLeft:"3%",marginRight:"3%",display:"flex",flexDirection:"row",alignItems:"left",backgroundImage:""}},Lo=function(e){var a=r.a.useState({usuarioCodigo:0,usuarioNombre:""}),t=Object(u.a)(a,2),i=(t[0],t[1],Object(n.useState)([])),o=Object(u.a)(i,2),s=o[0],m=o[1],d=Object(n.useState)(""),p=Object(u.a)(d,2),h=p[0],f=p[1],O=Object(n.useState)([]),g=Object(u.a)(O,2),b=g[0],E=g[1],v=Object(n.useState)(""),j=Object(u.a)(v,2),S=j[0],A=j[1];return Object(n.useEffect)((function(){function a(){return(a=Object(l.a)(c.a.mark((function a(){var t,n,r,i,o,s;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("Alumno"!==Q().rol){a.next=9;break}return t="/api/programa/alumno/"+Q().usuario.ID_USUARIO,n={servicio:t},a.next=5,X(n);case 5:(r=a.sent)&&r.programas!==[]&&m(r.programas),a.next=15;break;case 9:return i="/api/programa/alumno/"+e.idAlumno,o={servicio:i},a.next=13,X(o);case 13:(s=a.sent)&&s.programas!==[]&&m(s.programas);case 15:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}),{}),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={servicio:"/api/tutoria/lista/"+h},e.next=4,X(a);case 4:(t=e.sent)&&t!==[]&&E(t.tutoria);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==h&&function(){e.apply(this,arguments)}()}),[h]),r.a.createElement("div",null,r.a.createElement(R.a,{container:!0,md:12,style:Mo.paper},r.a.createElement(R.a,{item:!0,md:3,style:{marginRight:"6%",marginTop:"2%"}},r.a.createElement(Yt,{programas:s,programa:h,setPrograma:f})),r.a.createElement(R.a,{item:!0,md:3,style:{marginRight:"6%",marginTop:"2%"}},r.a.createElement(wr,{procesosTutoria:b,procesoTutoria:S,setProcesoTutoria:A})),r.a.createElement(R.a,{item:!0,justify:"flex-end",style:{marginRight:"6%",marginTop:"3%"}})),r.a.createElement(y.a,{elevation:0,style:Mo.paper},r.a.createElement(wo,{idAlumno:"Alumno"===Q().rol?Q().usuario.ID_USUARIO:e.idAlumno,idTutoria:S,disabled:"Alumno"===Q().rol})))},Po=Object(h.a)((function(e){return{caja:Object(N.a)({padding:e.spacing(5),width:e.spacing(150)},e.breakpoints.down("sm"),{padding:e.spacing(1),width:e.spacing(40)})}})),Fo=function(e){var a=Po(),t=e.isEdit;return r.a.createElement(y.a,{className:a.caja},r.a.createElement(R.a,{container:!0,justify:"center",alignItems:"center",spacing:2},r.a.createElement(R.a,{item:!0,md:6,xs:12},r.a.createElement(B.a,{disabled:!0,margin:"dense",id:"name",label:"C\xf3digo",type:"text",fullWidth:!0,value:e.codigo})),r.a.createElement(R.a,{item:!0,md:6,xs:12},r.a.createElement(B.a,{disabled:!0,margin:"dense",id:"name",label:"Correo",type:"email",fullWidth:!0,value:e.correo})),r.a.createElement(R.a,{item:!0,md:6,xs:12},r.a.createElement(B.a,{disabled:!t,margin:"dense",id:"name",label:"Direcci\xf3n",type:"text",fullWidth:!0,value:e.direccion,inputRef:e.refs.dir})),r.a.createElement(R.a,{item:!0,md:6,xs:12},r.a.createElement(B.a,{disabled:!t,margin:"dense",id:"name",label:"Tel\xe9fono",type:"text",fullWidth:!0,value:e.telefono,inputRef:e.refs.tel})),r.a.createElement(R.a,{item:!0,container:!0,justify:"flex-end",alignItems:"center"},t&&r.a.createElement(D.a,{color:"primary",variant:"contained",onClick:e.handleGuardar},"Guardar"),!t&&r.a.createElement("div",{style:{display:"Tutor"===Q().rol?"none":"block"}},r.a.createElement(D.a,{color:"primary",variant:"outlined",onClick:e.handleEdit},"Editar")))))},Bo=Object(h.a)((function(e){return{customContainer:{marginTop:e.spacing(5)}}})),Go=function(e){var a=Bo(),t=Object(n.useState)(!1),i=Object(u.a)(t,2),o=i[0],s=i[1],m=Object(n.useState)({codigo:"",correo:"",direccion:"",telefono:""}),d=Object(u.a)(m,2),p=d[0],h=d[1];Object(n.useEffect)((function(){function a(){return(a=Object(l.a)(c.a.mark((function a(){var t,n,r;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("Tutor"!==Q().rol){a.next=7;break}return t="/api/alumno/"+e.idAlumno,n={servicio:t},a.next=5,X(n);case 5:(r=a.sent)&&(p.codigo=r.alumno.USUARIO.CODIGO,p.correo=r.alumno.USUARIO.CORREO,p.direccion=r.alumno.USUARIO.DIRECCION,p.telefono=r.alumno.USUARIO.TELEFONO,h(Object(E.a)({},p)));case 7:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}),{});var f=Object(n.useRef)(null),O=Object(n.useRef)(null),g=function(){var a=Object(l.a)(c.a.mark((function a(){var t,n;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(!1),t={ID_USUARIO:e.idAlumno,TELEFONO:O.current.value,DIRECCION:f.current.value},n={servicio:"/api/usuario/actualizarperfil",request:{usuario:t}},a.next=5,$(n);case 5:null!==a.sent&&alert("Se guardaron los cambios correctamente");case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(R.a,{container:!0,spacing:5,justify:"center",alignItems:"center",className:a.customContainer},r.a.createElement(R.a,{item:!0},r.a.createElement(Fo,{isEdit:o,codigo:p.codigo,correo:p.correo,direccion:p.direccion,telefono:p.telefono,refs:{dir:f,tel:O},handleEdit:function(e){s(!0)},handleGuardar:g}))))};var qo=function(e){return r.a.createElement(Na.a,{title:"",columns:e.sesiones.columns,data:e.sesiones.data,options:{rowStyle:{backgroundColor:"#FFF"},headerStyle:{backgroundColor:"#3AAFA9",color:"#FFF",fontSize:16}}})},_o=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(U.a)(this,t),(n=a.call(this)).state={sesiones:{columns:[{title:"Nombre",field:"nombre"}],data:[{nombre:""}]}},n.establecerData=n.establecerData.bind(Object(M.a)(n)),n}return Object(w.a)(t,[{key:"establecerData",value:function(e){if(e){var a,t=[],n=Object(ka.a)(e.data);try{for(n.s();!(a=n.n()).done;){var i=a.value;0!==i.ALUMNOs[0].ALUMNO_X_SESION.ASISTENCIA_ALUMNO&&1!==i.ALUMNOs[0].ALUMNO_X_SESION.ASISTENCIA_ALUMNO||t.push({tutor:i.TUTOR.USUARIO.NOMBRE+" "+i.TUTOR.USUARIO.APELLIDOS,tutoria:i.PROCESO_TUTORIum.NOMBRE,fecha:i.FECHA,hora:i.HORA_INICIO.length>5?i.HORA_INICIO.slice(0,-3)+"-"+i.HORA_FIN.slice(0,-3):i.HORA_INICIO+"-"+i.HORA_FIN,asistencia:r.a.createElement("div",null,i.ALUMNOs[0].ALUMNO_X_SESION.ASISTENCIA_ALUMNO>0?r.a.createElement(Ba.a,{color:"primary",fontSize:"large"}):r.a.createElement(qa.a,{color:"error",fontSize:"large"}))})}}catch(m){n.e(m)}finally{n.f()}var o={columns:[{title:"Tutor",field:"tutor"},{title:"Tutoria",field:"tutoria"},{title:"Fecha",field:"fecha"},{title:"Hora Inicio-Fin",field:"hora"},{title:"Asistencia",field:"asistencia"}],data:t};this.setState({sesiones:o})}else{var s=Object(u.a)(this.context,2),c=s[0],l=(c.openMensaje,c.mensaje,s[1]);he(l,{open:!0,mensaje:"W>Ocurri\xf3 un error al cargar la informacion de las sesiones. Porfavor intente mas tarde"})}}},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.data===a.data){e.next=10;break}if(n=this.props.datosAlumno,r=n.idAlumno,i=n.fullname,r&&i){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,X({servicio:"/api/listaSesionAlumnoSinFoto/"+r});case 8:t=e.sent;case 9:this.establecerData(t);case 10:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a,t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props.datosAlumno,t=a.idAlumno,n=a.fullname,t&&n){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,X({servicio:"/api/listaSesionAlumnoSinFoto/"+t});case 7:r=e.sent;case 8:this.establecerData(r);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(qo,{sesiones:this.state.sesiones}))}}]),t}(r.a.Component);_o.contextType=fe;var Ho=_o,zo=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={alumno:{},title1:"Resultados historicos",title2:"al ".concat((new Date).toISOString().split("T")[0]),datosTabla:{},datosTablaOffline:{columns:[{title:"Fecha",field:"fecha"},{title:"Tutor",field:"tutor"},{title:"Proceso de Tutoria",field:"proceso"},{title:"Motivo",field:"motivo"},{title:"Resultado",field:"resultado"}],data:[]}},e}return Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a,t,n,r,i,o,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props.datosAlumno,t=a.idAlumno,n=a.fullname,t&&n){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,X({servicio:"/api/listaSesionAlumnoSinFoto/"+t});case 7:if(r=e.sent,i=[],!r){e.next=28;break}o=Object(ka.a)(r.data),e.prev=11,o.s();case 13:if((s=o.n()).done){e.next=19;break}return l=s.value,e.next=17,i.push({fecha:l.FECHA,tutor:"".concat(l.TUTOR.USUARIO.NOMBRE," ").concat(l.TUTOR.USUARIO.APELLIDOS),motivo:l.MOTIVO,proceso:l.PROCESO_TUTORIum.NOMBRE,resultado:l.ALUMNOs[0].ALUMNO_X_SESION.RESULTADO});case 17:e.next=13;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(11),o.e(e.t0);case 24:return e.prev=24,o.f(),e.finish(24);case 27:this.setState({datosTabla:{data:i,columns:this.state.datosTablaOffline.columns}});case 28:case"end":return e.stop()}}),e,this,[[11,21,24,27]])})));return function(){return e.apply(this,arguments)}}()},{key:"renderTabla",value:function(e){if(e!==this.state.datosNuevos)return r.a.createElement(r.a.Fragment,null,r.a.createElement(wt.a,{columns:this.state.datosTabla.columns,data:this.state.datosTabla.data,title:"".concat(this.state.title1," ").concat(this.state.title2),exportar:!0}))}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderTabla(this.state.datosTabla))}}]),t}(n.Component),Vo=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).handleOnChangeCT=function(a){0===a.target.value.length?e.setState({mensajeError:"\xa1 Debe ingresar un mensaje !",esValido:!0}):e.setState({mensajeError:"",esValido:!1}),e.setState(Object(N.a)({},a.target.name,a.target.value)),e.setState({motivoCita:a.target.value})},e.state={open:!1,mensajillo:"",motivoCita:"",dataMotivo:"",mensajeError:"",esValido:!0},e.handleOnclickCitarAlumno=e.handleOnclickCitarAlumno.bind(Object(M.a)(e)),e.handleOnCloseCitaEnviada=e.handleOnCloseCitaEnviada.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"handleOnclickCitarAlumno",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a,t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Q(),t={cita:{RAZON:this.state.motivoCita,EMISOR:a.usuario.ID_USUARIO,RECEPTOR:parseInt(this.props.idAlumno,10)}},n={servicio:"/api/citarAlumno",request:t},e.next=5,$(n);case 5:if(r=e.sent){e.next=8;break}return e.abrupt("return");case 8:r.message?this.setState({mensajillo:r.message}):r.error?this.setState({mensajillo:"\xa1 Ups, Error inesperado... Por favor, int\xe9ntelo m\xe1s tarde !"}):this.setState({mensajillo:"\xa1 Notificaci\xf3n Enviada Satisfactoriamente !"}),this.setState({open:!0});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleOnCloseCitaEnviada",value:function(){this.setState({dataMotivo:"",open:!1})}},{key:"validarEntradaCT",value:function(e){}},{key:"renderMensaje",value:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{required:!0,autoFocus:!0,fullWidth:!0,name:"dataMotivo",label:"Mensaje de citaci\xf3n",onChange:this.handleOnChangeCT,variant:"outlined",rows:10,multiline:!0,value:e}),r.a.createElement(G.a,{error:!0},this.state.mensajeError))}},{key:"render",value:function(){return r.a.createElement("div",{style:Wo.paper,elevation:0},r.a.createElement("h3",null,"Ingrese mensaje de citaci\xf3n para este alumno:"),this.renderMensaje(this.state.dataMotivo),r.a.createElement(R.a,{item:!0,xs:12,container:!0,justify:"flex-end",alignItems:"center"},r.a.createElement(R.a,{item:!0,xs:2},r.a.createElement("br",null),r.a.createElement(D.a,{size:"large",variant:"contained",color:"primary",disabled:this.state.esValido,onClick:this.handleOnclickCitarAlumno},"ENVIAR"))),r.a.createElement(Oa.a,{open:this.state.open,onClose:this.handleOnCloseCitaEnviada,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,justify:"center"},this.state.mensajillo.includes("Satisfactoriamente")?r.a.createElement(Ba.a,{color:"primary",style:{fontSize:70}}):r.a.createElement(qa.a,{color:"error",style:{fontSize:70}}))),r.a.createElement(ba.a,null," ",this.state.mensajillo," "),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:this.handleOnCloseCitaEnviada},"Aceptar"))))}}]),t}(n.Component),Wo={paper:{marginTop:"3%",marginLeft:"3%",marginRight:"3%",display:"flex",flexDirection:"column"}},Yo=Object(h.a)((function(e){return{customContainer:{marginTop:e.spacing(5)}}})),Jo=function(e){var a=e.match.params,t=a.idAlumno,i=a.fullname,o=(Yo(),Object(n.useState)(!1)),s=Object(u.a)(o,2),c=(s[0],s[1],[{index:0,titulo:"Datos Generales",proceso:function(){return r.a.createElement(Go,{idAlumno:t})},paper:!1},{index:1,titulo:"Plan de Acci\xf3n",proceso:function(){return r.a.createElement(Lo,{idAlumno:t})}},{index:2,titulo:"Resultados",proceso:function(){return r.a.createElement(zo,{datosAlumno:e.match.params})}},{index:3,titulo:"Asistencias",proceso:function(){return r.a.createElement(Ho,{datosAlumno:e.match.params})}},{index:4,titulo:"Notificar Alumno",proceso:function(){return r.a.createElement(Vo,{idAlumno:t})}},{index:5,titulo:"Informacion Relevante",proceso:function(){return r.a.createElement(sr,{usuario:Q().usuario,idAlumno:t})}}]),l=[{index:0,titulo:"Asistencias",proceso:function(){return r.a.createElement(Ho,{datosAlumno:e.match.params})}}];Object(n.useRef)(null),Object(n.useRef)(null);return r.a.createElement("div",null,r.a.createElement(ma,{titulo:"Alumno",nombre:i,alumnodesdetutor:!0}),r.a.createElement(Tt,{procesos:"Tutor"===Q().rol||"Alumno"===Q().rol?c:l,paper:!0}))},Ko=function(e){var a=Y(),t=Object(u.a)(a,2),n=t[0],i=(n.usuario,n.auth);t[1];if(!i)return e.history.push("/"),je;var o=Q().rol.toLowerCase().split(" ")[0];return"coordinador"!==o&&e.history.push("/"+o),r.a.createElement("div",null,r.a.createElement(f.a,{theme:g},r.a.createElement(d.a,{exact:!0,path:"/coordinador",component:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{N:3}),r.a.createElement(Uo,{data:e}))}}),r.a.createElement(Vt,null,r.a.createElement(d.a,{exact:!0,path:"/coordinador/perfil",component:Uo}),r.a.createElement(d.a,{exact:!0,path:"/coordinador/facultades",component:Va}),r.a.createElement(d.a,{exact:!0,path:"/coordinador/tutores",component:mn}),r.a.createElement(d.a,{exact:!0,path:"/coordinador/alumnos",component:mr}),r.a.createElement(d.a,{exact:!0,path:"/coordinador/asignaciondeTutor",component:Wr}),r.a.createElement(d.a,{exact:!0,path:"/coordinador/procesosdetutoria",component:oi}),r.a.createElement(d.a,{exact:!0,path:"/coordinador/programas",component:Oi}),r.a.createElement(d.a,{exact:!0,path:"/coordinador/disponibilidades",component:ki}),r.a.createElement(d.a,{exact:!0,path:"/coordinador/coordinadoresdeprograma",component:qi}),r.a.createElement(d.a,{exact:!0,path:"/coordinador/reportes",component:Eo}),r.a.createElement(d.a,{exact:!0,path:"/coordinador/asignarroles",component:ko}),r.a.createElement(d.a,{exact:!0,path:"/coordinador/alumno/:idAlumno/:fullname",component:Jo}))))},Qo=t(657),Xo=t.n(Qo),Zo=t(658),$o=t.n(Zo),es=t(656),as=t.n(es),ts=t(327),ns=Object(h.a)((function(e){return{cajaNotif:{width:e.spacing(50)}}})),rs=function(e){var a=ns(),t=e.anchorEl,i=e.menuId,o=e.isMenuOpen,s=e.handleMenuClose,d=e.changeNumNotif,p=e.refresh,h=Q().usuario.ID_USUARIO,f=Object(n.useState)([]),O=Object(u.a)(f,2),g=O[0],b=O[1],E=Object(n.useState)(!1),v=Object(u.a)(E,2),j=v[0],S=v[1];return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={servicio:"/api/notificacion/lista/"+h},e.next=4,X(a);case 4:(t=e.sent)&&(t.error||(b(t.notificaciones),0!==t.notificaciones.length?(S(!0),d(t.notificaciones.length)):S(!1)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[p]),r.a.createElement(ts.a,{anchorEl:t,anchorReference:"anchorPosition",anchorPosition:{top:70,left:window.screen.width-50},id:i,keepMounted:!0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:s},j&&r.a.createElement(Re.a,{component:"nav",className:a.cajaNotif},g.map((function(e){return r.a.createElement("div",{key:e.ID_NOTIFICACION},r.a.createElement(we.a,{button:!0,component:m.b,to:"Tutor"===Q().rol?e.SESION?"/tutor/misCitas":"/tutor/solicitudes":e.SESION?"/alumno/misCitas":"/alumno/solicitarTutorFijo"},r.a.createElement(Le.a,{primary:e.SESION&&e.MENSAJE?r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{variant:"subtitle2"},e.MENSAJE),r.a.createElement(I.a,{variant:"subtitle1"},e.EMISOR.APELLIDOS+", "+e.EMISOR.NOMBRE)):e.SESION?r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{variant:"subtitle2"},e.SESION.ESTADO.substring(3,20).toUpperCase()+" - "+e.EMISOR.APELLIDOS+", "+e.EMISOR.NOMBRE),r.a.createElement(I.a,{variant:"subtitle1"},e.SESION.RAZON_MANTENIMIENTO)):r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{variant:"subtitle2"},e.MENSAJE),r.a.createElement(I.a,{variant:"subtitle1"},e.EMISOR.APELLIDOS+", "+e.EMISOR.NOMBRE)),secondary:e.SESION?e.SESION.FECHA:""})),r.a.createElement(F.a,null))}))),!j&&r.a.createElement(Re.a,{component:"nav",className:a.cajaNotif},r.a.createElement(we.a,null,r.a.createElement(Le.a,{primary:"No tiene niguna notificaci\xf3n"}))))},is=t(1254),os=t(358),ss=t.n(os),cs=Object(h.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(250,"px)"),marginLeft:250,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:250,flexShrink:0},drawerPaper:{width:250},drawerHeader:Object(E.a)(Object(E.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-250},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},sectionDesktop:Object(N.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),grow:{flexGrow:1}}})),ls=function(e){var a=cs(),t=Object(Ae.a)(),n=Y(),i=Object(u.a)(n,2);Object(qt.a)(i[0]);var o=i[1],s=r.a.useState(!1),d=Object(u.a)(s,2),p=d[0],h=d[1],O=Q().usuario.ID_USUARIO,g=r.a.useState(null),b=Object(u.a)(g,2),E=b[0],v=b[1],j=Boolean(E),S=r.a.useState(0),C=Object(u.a)(S,2),y=C[0],x=C[1],k=r.a.useState(0),D=Object(u.a)(k,2),T=D[0],U=D[1],w=function(){h(!0)},M=function(e){v(e.currentTarget)};function L(){return(L=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={servicio:"/api/notificacion/actualizar/"+O},e.next=4,X(a);case 4:e.sent,x(0),U(1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=r.a.createElement(rs,{anchorEl:E,menuId:"primary-menu",isMenuOpen:j,handleMenuClose:function(){v(null),function(){L.apply(this,arguments)}()},changeNumNotif:function(e){return x(e)},refresh:T}),B=Q(),G=B.usuario,q=B.rol;return console.log(">Jenn98=>",G),r.a.createElement("div",{className:a.root},r.a.createElement(Ie.a,null),r.a.createElement(A.a,{position:"fixed",className:Object(Se.a)(a.appBar,Object(N.a)({},a.appBarShift,p))},r.a.createElement(f.a,{theme:t},r.a.createElement(Qe,{MenuIconButton:function(){return r.a.createElement(ye.a,{color:"inherit","aria-label":"open drawer",onClick:w,edge:"start",className:Object(Se.a)(a.menuButton,p&&a.hide)},r.a.createElement(ke.a,null))},imagenPerfil:G.IMAGEN?G.IMAGEN:"https://www.w3schools.com/howto/img_avatar.png",rol:q,NOMBRE:G.NOMBRE,APELLIDOS:G.APELLIDOS,CampanitaIconButton:function(){return r.a.createElement(ye.a,{"aria-label":"norifications of the user","aria-controls":"primary-menu","aria-haspopup":"true",color:"inherit",onClick:M},r.a.createElement(is.a,{badgeContent:y,color:"error"},r.a.createElement(ss.a,null)))}}))),P,r.a.createElement(Ce.a,{className:a.drawer,variant:"persistent",anchor:"left",open:p,classes:{paper:a.drawerPaper}},r.a.createElement("div",{className:a.drawerHeader},r.a.createElement(R.a,{container:!0,spacing:1},r.a.createElement(R.a,{item:!0,md:9},r.a.createElement(de,{src:"https://ututor-recursos.s3.amazonaws.com/Imagenes/ututor-main-logo-inverted.png",logoVerde:!0})),r.a.createElement(R.a,{item:!0,md:3},r.a.createElement(ye.a,{onClick:function(){h(!1)}},"ltr"===t.direction?r.a.createElement(Ne.a,null):r.a.createElement(Ue.a,null))),r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(I.a,{variant:"h6",textAlign:"center",style:{"text-align":"center"}},q)))),r.a.createElement(F.a,null),r.a.createElement(Re.a,null,["Perfil","Solicitudes","Mis Alumnos","Mi Disponibilidad","Sesiones","Sesiones Grupales","Mis Citas"].map((function(e,a){return r.a.createElement(we.a,{button:!0,key:e,component:m.b,to:"/tutor/"+e.split(" ").join("").toLowerCase()},r.a.createElement(Me.a,null,0===a?r.a.createElement(_e.a,{color:"primary"}):1===a?r.a.createElement(as.a,{color:"primary"}):2===a?r.a.createElement(ze.a,{color:"primary"}):3===a?r.a.createElement(Xo.a,{color:"primary"}):4===a||5===a?r.a.createElement($o.a,{color:"primary"}):r.a.createElement(Fe.a,{color:"primary"})),r.a.createElement(Le.a,{primary:e}))})),r.a.createElement(we.a,{button:!0,key:"Cerrar Sesion",component:m.b,to:"/",onClick:function(){te(o)}},r.a.createElement(F.a,null),r.a.createElement(Me.a,null,r.a.createElement(We.a,{color:"primary"})),r.a.createElement(Le.a,{primary:"Cerrar Sesi\xf3n"})))),r.a.createElement("main",{className:Object(Se.a)(a.content,Object(N.a)({},a.contentShift,p))},r.a.createElement("div",{className:a.drawerHeader}),e.contenido,e.children))},us=Object(h.a)((function(e){return{customContainer:{marginTop:e.spacing(5)}}})),ms=function(){var e=us(),a=Object(n.useState)(!1),t=Object(u.a)(a,2),i=t[0],o=t[1],s=Object(n.useState)({CODIGO:Q().usuario.CODIGO,CORREO:Q().usuario.CORREO,DIRECCION:Q().usuario.DIRECCION,TELEFONO:Q().usuario.TELEFONO}),m=Object(u.a)(s,2),d=m[0],p=m[1],h=Object(n.useRef)(null),f=Object(n.useRef)(null),O=Object(n.useState)(""),g=Object(u.a)(O,2),b=g[0],v=g[1],j=Object(n.useState)({mensaje:""}),S=Object(u.a)(j,2),A=S[0],C=S[1],I=function(){var e=Object(l.a)(c.a.mark((function e(){var a,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!1),a={ID_USUARIO:Q().usuario.ID_USUARIO,TELEFONO:f.current.value,DIRECCION:h.current.value},t={servicio:"/api/usuario/actualizarperfil",request:{usuario:a}},e.next=5,$(t);case 5:null!==e.sent?(v("success"),C({mensaje:"Se guardaron los cambios correctamente"})):(v("error"),C({mensaje:"Algo sali\xf3 mal, int\xe9ntalo nuevamente en unos minutos"}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/api/tutor/"+Q().usuario.ID_USUARIO,t={servicio:a},e.next=4,X(t);case 4:n=e.sent,console.log("================="),console.log("Perifl",n.data),console.log(Q()),null!==n&&void 0!==n.data&&null!==n.data&&(p(Object(E.a)(Object(E.a)({},d),{},{DIRECCION:n.data.DIRECCION,TELEFONO:n.data.TELEFONO})),null!==f&&null!==h&&null!==f.current&&null!==h.current&&(f.current.value=n.data.TELEFONO,h.current.value=n.data.DIRECCION));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",null,r.a.createElement(ma,{titulo:"Tutor",nombre:Q().usuario.APELLIDOS+", "+Q().usuario.NOMBRE}),r.a.createElement(R.a,{container:!0,justify:"center",alignItems:"center",className:e.customContainer},r.a.createElement(R.a,{item:!0},r.a.createElement(se,{severity:b,titulo:"Observacion:",alerta:A}),r.a.createElement(No,{isEdit:i,codigo:d.CODIGO,correo:d.CORREO,direccion:d.DIRECCION,telefono:d.TELEFONO,refs:{dir:h,tel:f},handleEdit:function(e){o(!0)},handleGuardar:I}))))},ds=t(659),ps=t.n(ds),hs=Object(h.a)((function(e){return{icono:Object(N.a)({},e.breakpoints.down("sm"),{display:"none"}),texto:Object(N.a)({width:"95%",alignItems:"center",marginLeft:"5%"},e.breakpoints.down("sm"),{marginLeft:"0",width:"100%"}),caja:Object(N.a)({width:e.spacing(100),alignItems:"center"},e.breakpoints.down("sm"),{padding:e.spacing(1),width:e.spacing(40)})}})),fs=function(e){var a=hs(),t=e.texto,n=e.setTexto;return r.a.createElement(y.a,{className:a.caja},r.a.createElement(R.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:1},r.a.createElement(R.a,{item:!0,xs:11},r.a.createElement("input",{type:"text",className:a.texto,placeholder:"Buscar",value:t,onChange:function(e){n(e.target.value)}})),r.a.createElement(R.a,{item:!0,xs:1},r.a.createElement(ye.a,{color:"primary",disabled:!0},r.a.createElement(ps.a,{className:a.icono})))))},Os=t(1264),gs=Object(h.a)((function(e){return{icon:{marginTop:e.spacing(1)},formControl:{minWidth:e.spacing(30)},selectEmpty:{marginTop:e.spacing(2)}}})),bs=function(e){var a=gs(),t=e.pDisabled,n=e.procesosTutoria,i=e.procesoTutoria,o=e.setProcesoTutoria;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ye.a,{color:"primary",className:a.icon},r.a.createElement(Os.a,null)),r.a.createElement(x.a,{className:a.formControl,disabled:t},r.a.createElement(k.a,{id:"demo-simple-select-label"},"Procesos de tutor\xeda"),r.a.createElement(sa.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:i,onChange:function(e){o(e.target.value)}},!t&&n.map((function(e){return r.a.createElement(ca.a,{key:e.ID_PROCESO_TUTORIA,value:e.ID_PROCESO_TUTORIA},e.NOMBRE)})))))},Es=Object(h.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)}},small:{width:e.spacing(3),height:e.spacing(3)},large:{width:e.spacing(6),height:e.spacing(6)},separacion:{margin:e.spacing(1)}}})),vs=function(e){var a=Es(),t=Object(d.e)();return r.a.createElement(R.a,{container:!0,className:a.separacion},r.a.createElement(R.a,{item:!0,xs:1,container:!0,justify:"center",alignItems:"center"},r.a.createElement(R.a,{item:!0},r.a.createElement(oa.a,{alt:e.fullname,src:e.image,className:a.large}))),r.a.createElement(R.a,{item:!0,xs:9,container:!0,direction:"column"},r.a.createElement(R.a,{item:!0},r.a.createElement(I.a,{variant:"subtitle1"},e.fullname)),r.a.createElement(R.a,{item:!0},r.a.createElement(I.a,{variant:"subtitle2"},e.faculty))),r.a.createElement(R.a,{item:!0,xs:2,container:!0,justify:"center",alignItems:"center"},r.a.createElement(D.a,{color:"primary",variant:"outlined",onClick:function(){return t.push("/tutor/mialumno/"+e.idAlumno+"/"+JSON.stringify(e.fullname))}},"Ver perfil")))},js=Object(h.a)((function(e){return{caja:Object(N.a)({margin:e.spacing(5),padding:e.spacing(5),width:e.spacing(160)},e.breakpoints.down("sm"),{padding:e.spacing(1),width:e.spacing(40)})}})),Ss=function(e){var a=js(),t=e.alumnos,n=(e.history,e.procesoTutoria),i=[];return null===t&&void 0===t||(console.log("DESDE LISTA alumnos",t),t.length>1&&void 0!==t[0].ASIGNACION_TUTORIA_X_ALUMNOs?(i=t.map((function(e){return e.ASIGNACION_TUTORIA_X_ALUMNOs[0]})),console.log("================================"),console.log("Lista alumnos parseado: ",i)):i=t),r.a.createElement(y.a,{className:a.caja},r.a.createElement(R.a,{container:!0,spacing:5},""===n&&r.a.createElement(I.a,{variant:"subtitle1",align:"center"},"Seleccione una facultad y un proceso de tutor\xeda"),0===i.length&&""!==n&&r.a.createElement(I.a,{variant:"subtitle1",align:"center"},"No tiene alumnos asignados"),i.map((function(a){return r.a.createElement(vs,{key:a.ID_ALUMNO,idAlumno:a.ID_ALUMNO,history:e.history,fullname:a.ALUMNO.USUARIO.NOMBRE+" "+a.ALUMNO.USUARIO.APELLIDOS,faculty:a.ALUMNO.USUARIO.PROGRAMAs.map((function(e){return e.NOMBRE+"/"})),image:a.ALUMNO.USUARIO.IMAGEN})}))))},As=t(1265),Cs=Object(h.a)((function(e){return{icon:{marginTop:e.spacing(1)},formControl:{minWidth:e.spacing(30)},selectEmpty:{marginTop:e.spacing(2)}}})),Is=function(e){var a=Cs(),t=e.setPDisabled,n=e.programas,i=e.programa,o=e.setPrograma;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ye.a,{color:"primary",className:a.icon},r.a.createElement(As.a,null)),r.a.createElement(x.a,{className:a.formControl},r.a.createElement(k.a,{id:"demo-simple-select-label"},"Programa"),r.a.createElement(sa.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:i,onChange:function(e){o(e.target.value),t(!1)}},n?n.map((function(e){return"Tutor"===e.ROL.DESCRIPCION?r.a.createElement(ca.a,{key:e.ID_PROGRAMA,value:e.ID_PROGRAMA},e.PROGRAMA.NOMBRE):r.a.createElement(r.a.Fragment,null)})):r.a.createElement(r.a.Fragment,null))))},Rs=Object(h.a)((function(e){return{cbs:Object(N.a)({marginTop:e.spacing(3),padding:e.spacing(1)},e.breakpoints.down("sm"),{width:e.spacing(40)})}})),ys=function(e){var a=Rs(),t=(e.history,Object(n.useState)({})),i=Object(u.a)(t,2),o=(i[0],i[1],Object(n.useState)(Q().usuario.ROL_X_USUARIO_X_PROGRAMAs)),s=Object(u.a)(o,2),m=s[0],d=(s[1],Object(n.useState)("")),p=Object(u.a)(d,2),h=p[0],f=p[1],O=Object(n.useState)(!0),g=Object(u.a)(O,2),b=g[0],E=g[1],v=Object(n.useState)([]),j=Object(u.a)(v,2),S=j[0],A=j[1],C=Object(n.useState)(""),I=Object(u.a)(C,2),x=I[0],k=I[1],D=Object(n.useState)(""),N=Object(u.a)(D,2),T=N[0],U=N[1],w=Object(n.useState)([]),M=Object(u.a)(w,2),L=M[0],P=M[1];return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={servicio:"/api/tutoria/lista/"+h},e.next=4,X(a);case 4:(t=e.sent)&&A(t.tutoria);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==h&&function(){e.apply(this,arguments)}()}),[h]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/api/alumno/buscar/"+Q().usuario.ID_USUARIO+"/"+x+"/"+T,t={servicio:a},e.next=4,X(t);case 4:(n=e.sent)!==[]&&void 0!==n.alumnos[0]?(P([]),P(n.alumnos[0].ASIGNACION_TUTORIA_X_ALUMNOs),console.log("**********************"),console.log("Buscador",n.alumnos)):P([]);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==x&&""!==T&&function(){e.apply(this,arguments)}()}),[T]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/api/alumno/lista/"+Q().usuario.ID_USUARIO+"/"+x,t={servicio:a},e.next=4,X(t);case 4:(n=e.sent)!==[]&&void 0!==n.alumnos[0]?(P([]),n.alumnos.length>1?P(n.alumnos):P(n.alumnos[0].ASIGNACION_TUTORIA_X_ALUMNOs)):P([]);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==x&&function(){e.apply(this,arguments)}()}),[x]),r.a.createElement("div",null,r.a.createElement(xa,{titulo:"Alumnos por proceso de tutor\xeda de un programa"}),r.a.createElement(R.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(R.a,{item:!0,xs:12},r.a.createElement(y.a,{className:a.cbs},r.a.createElement(R.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(R.a,{item:!0,md:6,xs:12},r.a.createElement(Is,{setPDisabled:E,programas:m,programa:h,setPrograma:f})),r.a.createElement(R.a,{item:!0,md:6,xs:12},r.a.createElement(bs,{pDisabled:b,procesosTutoria:S,procesoTutoria:x,setProcesoTutoria:k}))))),r.a.createElement(R.a,{item:!0,container:!0,justify:"center",alignItems:"center",spacing:2},r.a.createElement(R.a,{item:!0},r.a.createElement(fs,{texto:T,setTexto:U}))),r.a.createElement(R.a,{item:!0,xs:12},r.a.createElement(Ss,{alumnos:L,history:e.history,procesoTutoria:x}))))},xs=(t(660),t(661),Object(h.a)((function(e){return{fixedChip:{width:e.spacing(12)},separation:{marginBottom:e.spacing(4)}}})),t(1256),t(1266),Object(h.a)((function(e){return{dia:{width:e.spacing(17),height:e.spacing(15)}}})),function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).handleChangeFacultad=function(a){e.props.empezarCarga();var t=Object(E.a)({},e.props.alerta);t.mostrar=!1,e.props.setAlerta(t),e.props.setFacultad(a.target.value),e.props.actualizarBandera()},e.state={},e}return Object(w.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(R.a,{container:!0,justify:"center",alignItems:"center",spacing:5},r.a.createElement(R.a,{item:!0,xs:12},r.a.createElement(y.a,{style:{margin:"0 auto",width:300,height:80}},r.a.createElement(R.a,{item:!0,xs:12},r.a.createElement(x.a,null,r.a.createElement(k.a,{style:{marginLeft:"".concat(30,"px"),marginTop:"".concat(10,"px")},id:"demo-simple-select-label"},"Facultad"),r.a.createElement(sa.a,{style:{marginLeft:"".concat(30,"px"),width:250,marginTop:"".concat(20,"px")},labelId:"demo-simple-select-label",label:this.props.facultad,id:"demo-simple-select",value:this.props.facultad,defaultValue:this.props.facultad,onChange:this.handleChangeFacultad},this.props.facultades.map((function(e){return r.a.createElement(ca.a,{key:e.FACULTAD.ID_PROGRAMA,value:e.FACULTAD.ID_PROGRAMA},e.FACULTAD.NOMBRE)})))))))))}}]),t}(n.Component));t(620),t(621);var ks=Object(gi.b)(Lt.a),Ds={carga:{align:"right"}},Ns=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).handleSelectSlot=function(a){if(Lt()(a.start).format("YYYY-MM-DD")>=Lt()(new Date).format("YYYY-MM-DD"))if(Lt()(a.start).format("YYYY-MM-DD")>=Lt()(new Date).add(e.state.diasAnticipacion,"days").format("YYYY-MM-DD")){var t=Object(E.a)({},e.state.alerta);t.mostrar=!1,e.setState({modalIsOpen:!0,fechaMostrar:Lt()(a.start).format("dddd Do MMMM YYYY"),fecha:Lt()(a.start).format("YYYY-MM-DD"),horaInicio:Lt()(a.start).format("HH:mm"),horaFin:Lt()(a.end).format("HH:mm"),repeticion:1,lugar:"",modificar:0,visible:1,alerta:t,problema:!1})}else{e.setState({problema:!0});var n=Object(E.a)({},e.state.alerta);n.mostrar=!1,n.mensaje="Por politica de la facultad solo puede registrar/modificar su disponibilidad con m\xednimo "+e.state.diasAnticipacion+(1===e.state.diasAnticipacion?" d\xeda":" d\xedas")+" de anticipaci\xf3n",n.mensajeStrong="",e.setState({alerta:n})}else{e.setState({problema:!0});var r=Object(E.a)({},e.state.alerta);r.mostrar=!1,r.mensaje="No puede registrar/modificar su disponibilidad en una fecha pasada",r.mensajeStrong="",e.setState({alerta:r})}},e.handleSelectEvent=function(a){if(Lt()(a.start).format("YYYY-MM-DD")>=Lt()(new Date).format("YYYY-MM-DD"))if(Lt()(a.start).format("YYYY-MM-DD")>=Lt()(new Date).add(e.state.diasAnticipacion,"days").format("YYYY-MM-DD")){var t=Object(E.a)({},e.state.alerta);t.mostrar=!1,e.setState({modalIsOpen:!0,fechaMostrar:Lt()(a.start).format("dddd Do MMMM YYYY"),fecha:Lt()(a.start).format("YYYY-MM-DD"),horaInicio:Lt()(a.start).format("HH:mm"),horaFin:Lt()(a.end).format("HH:mm"),idDisponibilidad:a.id,lugar:a.lugar,repeticion:a.repeticion,modificar:1,visible:0,alerta:t,problema:!1})}else{e.setState({problema:!0});var n=Object(E.a)({},e.state.alerta);n.mostrar=!1,n.mensaje="Por politica de la facultad solo puede registrar/modificar su disponibilidad con m\xednimo "+e.state.diasAnticipacion+(1===e.state.diasAnticipacion?" d\xeda ":" d\xedas")+" de anticipaci\xf3n",n.mensajeStrong="",e.setState({alerta:n})}else{e.setState({problema:!0});var r=Object(E.a)({},e.state.alerta);r.mostrar=!1,r.mensaje="No puede registrar/modificar su disponibilidad en una fecha pasada",r.mensajeStrong="",e.setState({alerta:r})}},e.closeDialog=function(){e.setState({modalIsOpen:!1})},e.actualizarBandera=function(){e.setState({bandera:!e.state.bandera})},e.empezarCarga=function(){e.setState({loading:!0})},e.activarVisibilidad=function(){e.setState({visible:1})},e.setFacultad=function(a){e.setState({facultad:a})},e.setAlerta=function(a){e.setState({alerta:a})},e.renderModal=function(){if(e.state.modalIsOpen)return r.a.createElement("div",null,r.a.createElement(vi,{datos:e.state,closeDialog:e.closeDialog,actualizarBandera:e.actualizarBandera,activarVisibilidad:e.activarVisibilidad,empezarCarga:e.empezarCarga,actualizarMensaje:function(a,t){return e.actualizarMensaje(a,t)},closeOnDocumentClick:!0}))},e.state={tutor:Q().usuario,modalIsOpen:!1,fecha:"",fechaMostrar:"",horaInicio:"",idDisponibilidad:0,enlace:"/api/disponibilidadporfacultad/",eventos:[],repeticion:1,lugar:"",bandera:0,modificar:0,visible:1,facultades:[],facultad:0,problema:!1,loading:!0,diasAnticipacion:0,alerta:{mensaje:"",mensajeStrong:"",mostrar:!1}},e.actualizarMensaje=e.actualizarMensaje.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a,t,n,r,i,o,s,l,u,m=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/facultad/tutor/"+this.state.tutor.ID_USUARIO});case 2:if(!(a=e.sent)){e.next=10;break}if(!a.facultades){e.next=10;break}return e.next=7,this.setState({facultades:a.facultades});case 7:if(0===a.facultades.length){e.next=10;break}return e.next=10,this.setFacultad(a.facultades[0].FACULTAD.ID_PROGRAMA);case 10:return t=[],e.next=13,X({servicio:this.state.enlace+this.state.tutor.ID_USUARIO+"/"+this.state.facultad});case 13:if(!(n=e.sent)){e.next=30;break}if(n.hasOwnProperty("error")){e.next=23;break}return e.next=18,this.setState({loading:!1});case 18:r=Object(ka.a)(n.data);try{for(r.s();!(i=r.n()).done;)o=i.value,s={title:o.HORA_INICIO.substring(0,5)+"-"+o.HORA_FIN.substring(0,5),start:new Date(o.FECHA+" "+o.HORA_INICIO),end:new Date(o.FECHA+" "+o.HORA_FIN),id:o.ID_DISPONIBILIDAD,repeticion:1,lugar:o.LUGAR},t.push(s),this.setState({problema:!1})}catch(c){r.e(c)}finally{r.f()}this.state.facultades&&0!==this.state.facultades.length&&this.setState({diasAnticipacion:this.state.facultades.filter((function(e){return e.FACULTAD.ID_PROGRAMA===m.state.facultad}))[0].FACULTAD.ANTICIPACION_DISPONIBILIDAD}),e.next=28;break;case 23:this.setState({problema:!0}),(l=Object(E.a)({},this.state.alerta)).mensaje="Parece que algo anda mal",l.mensajeStrong="por favor actualice la p\xe1gina",this.setState({alerta:l});case 28:e.next=35;break;case 30:this.setState({problema:!0}),(u=Object(E.a)({},this.state.alerta)).mensaje="Parece que algo anda mal",u.mensajeStrong="por favor actualice la p\xe1gina",this.setState({alerta:u});case 35:this.setState({eventos:t});case 36:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"shouldComponentUpdate",value:function(e,a){return e.eventos!=this.state.eventos||e.bandera!==this.state.bandera}},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t){var n,r,i,o,s,l,u,m,d=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.bandera===t.bandera){e.next=27;break}return n=[],e.next=4,X({servicio:this.state.enlace+this.state.tutor.ID_USUARIO+"/"+this.state.facultad});case 4:if(!(r=e.sent)){e.next=21;break}if(r.hasOwnProperty("error")){e.next=14;break}return e.next=9,this.setState({loading:!1});case 9:i=Object(ka.a)(r.data);try{for(i.s();!(o=i.n()).done;)s=o.value,l={title:s.HORA_INICIO.substring(0,5)+"-"+s.HORA_FIN.substring(0,5),start:new Date(s.FECHA+" "+s.HORA_INICIO),end:new Date(s.FECHA+" "+s.HORA_FIN),id:s.ID_DISPONIBILIDAD,repeticion:1,lugar:s.LUGAR},n.push(l),this.setState({problema:!1})}catch(a){i.e(a)}finally{i.f()}this.state.facultades&&this.setState({diasAnticipacion:this.state.facultades.filter((function(e){return e.FACULTAD.ID_PROGRAMA===d.state.facultad}))[0].FACULTAD.ANTICIPACION_DISPONIBILIDAD}),e.next=19;break;case 14:this.setState({problema:!0}),(u=Object(E.a)({},this.state.alerta)).mensaje="Parece que algo anda mal",u.mensajeStrong="actualice la p\xe1gina",this.setState({alerta:u});case 19:e.next=26;break;case 21:this.setState({problema:!0}),(m=Object(E.a)({},this.state.alerta)).mensaje="Parece que algo anda mal",m.mensajeStrong="por favor actualice la p\xe1gina",this.setState({alerta:m});case 26:this.setState({eventos:n});case 27:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"actualizarMensaje",value:function(e,a){this.setState({alerta:{mensaje:e,mensajeStrong:a,mostrar:!0}})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(xs,{facultades:this.state.facultades,facultad:this.state.facultad,setFacultad:this.setFacultad,alerta:this.state.alerta,actualizarBandera:this.actualizarBandera,setAlerta:this.setAlerta,empezarCarga:this.empezarCarga}),r.a.createElement("br",null),r.a.createElement("div",{style:{height:"".concat(400,"px")},className:"Big-calendar-container"},this.state.alerta.mostrar&&r.a.createElement(se,{severity:"success",titulo:"Observacion",alerta:this.state.alerta}),this.state.problema&&r.a.createElement(se,{severity:"warning",titulo:"Observacion",alerta:this.state.alerta}),this.state.loading&&r.a.createElement(ji.a,{color:"primary",style:Ds.carga}),r.a.createElement(gi.a,{popup:!0,localizer:ks,events:this.state.eventos,views:["month","week"],startAccessor:"start",endAccessor:"end",selectable:!0,onSelectEvent:function(a){return e.handleSelectEvent(a)},onSelectSlot:function(a){return e.handleSelectSlot(a)},messages:{next:"Sig",previous:"Ant",today:"Hoy",month:"Mes",week:"Semana",day:"D\xeda",showMore:function(){return"Ver m\xe1s"}}}),this.renderModal()))}}]),t}(n.Component),Ts=function(){var e=Object(n.useState)({OPEN:!1}),a=Object(u.a)(e,2);a[0],a[1];return r.a.createElement(Ns,null)},Us=function(){return r.a.createElement("div",null,r.a.createElement(xa,{titulo:"Registrar disponibilidad"}),r.a.createElement(Ts,null))};var ws=function(e){var a=[],t=[],n=1,i=e.estado;return"PyR"===i?e.sesiones.columns.forEach((function(e){"Motivo Cancelaci\xf3n"!==e.title&&t.push(e)})):"Cancelada"===i&&e.sesiones.columns.forEach((function(e){"Cancelar Cita"!==e.title&&"Motivo Solicitud"!==e.title&&"Estado"!==e.title&&"Reprogramar Cita"!==e.title&&"Descripci\xf3n del Motivo"!==e.title&&t.push(e)})),e.sesiones.data.forEach((function(t){"PyR"===e.estado?"Pendiente"!==t.campoEstado&&"Reprogramada"!==t.campoEstado||(t.campoCont=n,a.push(t),n++):"Cancelada"===e.estado&&"Cancelada"===t.campoEstado&&(t.campoCont=n,a.push(t),n++)})),r.a.createElement(wt.a,{columns:t,data:a,title:"",agrupar:!0})};var Ms=function(e){return r.a.createElement(wt.a,{title:"Citas pasadas",columns:e.tutores.columns,data:e.tutores.data,agrupar:!0})},Ls=t(662),Ps=t.n(Ls),Fs=t(1219);var Bs,Gs,qs,_s,Hs=function(e){return r.a.createElement(Na.a,{title:"",columns:e.columns,data:e.data,options:{rowStyle:{backgroundColor:"#FFF"},headerStyle:{backgroundColor:"#3AAFA9",color:"#FFF",fontSize:20}}})},zs={paper:{marginTop:"4%",marginLeft:"4%",marginRight:"4%",marginBottom:"5%",flexDirection:"row",alignItems:"center",backgroundImage:""},paperitem:{marginTop:"2%",marginLeft:"4%"},foto:(Bs={marginTop:"2%",marginLeft:"4%"},Object(N.a)(Bs,"marginTop","4%"),Object(N.a)(Bs,"flexDirection","row"),Object(N.a)(Bs,"alignItems","center"),Object(N.a)(Bs,"backgroundImage",""),Bs)},Vs=function(e){var a=e.plan,t=e.setPlan,i=Object(n.useState)(1),o=Object(u.a)(i,2),s=o[0],c=o[1],l=Object(n.useState)({indice:0,campo:"",check:!1}),m=Object(u.a)(l,2),d=m[0],p=m[1],h=function(e,t){for(var n=0;n<100&&null!==document.getElementById(n);n++)document.getElementById(n).value=e.target.value.substring(0,50);p(Object(E.a)(Object(E.a)({},d),{},{indice:t,campo:e.target.value}));var r,i=Object(ka.a)(a);try{for(i.s();!(r=i.n()).done;){r.value.indice===t&&(a[t].campo=e.target.value)}}catch(o){i.e(o)}finally{i.f()}},f=function(e){var n;13===e.keyCode&&d.indice==s-1&&((n=s+1)>0?n>s?(c((function(e){return n})),a.push(d)):(c((function(e){return n})),a.splice(-1)):c((function(e){return 0})),t(a))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{item:!0,md:12,justify:"center"},r.a.createElement(y.a,{elevation:0,style:zs.paperitem},r.a.createElement(I.a,{variant:"h6"},"Plan de Acci\xf3n"))),r.a.createElement(R.a,{item:!0,md:12,container:!0,justify:"flex-start"},s>0?function(e){for(var a=s,t=[],n=0;n<a;n++)t.push(n);return r.a.createElement("div",null,t.map((function(e){return r.a.createElement(R.a,null,r.a.createElement(va.a,{color:"primary",id:s}),r.a.createElement(B.a,{margin:"dense",style:{width:300},id:s,defaultValue:e.DESCRIPCION,onChange:function(a){return h(a,e)},onKeyDown:f}))})))}():null))},Ws={paper:{marginTop:"1%",marginRight:"10%",marginLeft:"10%",flexDirection:"column"},paperStrecht:{marginTop:"1%",marginRight:"1%",marginLeft:"1%",flexDirection:"column"}},Ys=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).handle=function(a,t){var n={id:a,agregar:t},r=e.state.etiquetasSeleccionadas,i=!1,o=!1;r.forEach((function(e){e.id===n.id&&(i=!0,e.agregar!==n.agregar&&(e.agregar=n.agregar,o=!0))})),i&&!o||(i||r.push(n),e.setState({etiquetasSeleccionadas:r}),e.props.obtenerEtiquetas(e.state.etiquetasSeleccionadas))},e.state={etiquetas:[],etiquetasSeleccionadas:[],etiquetasDefault:[],icon:r.a.createElement(hn.a,{fontSize:"small",color:"primary"}),checkedIcon:r.a.createElement(On.a,{fontSize:"small",color:"primary"})},e.handle=e.handle.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:this.props.enlace});case 2:if(!(a=e.sent)){e.next=6;break}return e.next=6,this.setState({etiquetas:a.data});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(y.a,{elevation:0,style:this.props.strecht?Ws.paperStrecht:Ws.paper},this.props.titulo?r.a.createElement(k.a,{id:"demo-simple-select-placeholder-label-label"},this.props.titulo):r.a.createElement(r.a.Fragment,null),this.props.small?r.a.createElement(r.a.Fragment,null):r.a.createElement("br",null),r.a.createElement(dn.a,{color:"primary",multiple:!0,options:this.state.etiquetas||[],disableCloseOnSelect:!0,getOptionLabel:function(e){return e.NOMBRE},renderOption:function(a,t){var n=t.selected;return e.handle(e.props.ID?a[e.props.ID]:a.ID_ETIQUETA,n),r.a.createElement(r.a.Fragment,null,r.a.createElement(va.a,{color:"primary",checkedIcon:e.state.checkedIcon,style:{marginRight:8},checked:n}),a.NOMBRE)},renderInput:function(a){return r.a.createElement(B.a,Object.assign({},a,{variant:"outlined",label:e.props.label||"Etiquetas",color:"primary"}))}}))}}]),t}(r.a.Component),Js={paper:{marginTop:"4%",marginLeft:"4%",marginRight:"4%",marginBottom:"5%",flexDirection:"row",alignItems:"center",backgroundImage:""},paperitem:{marginTop:"2%",marginLeft:"4%"},foto:(Gs={marginTop:"2%",marginLeft:"4%"},Object(N.a)(Gs,"marginTop","4%"),Object(N.a)(Gs,"flexDirection","row"),Object(N.a)(Gs,"alignItems","center"),Object(N.a)(Gs,"backgroundImage",""),Gs)},Ks=function(e){var a=e.plan,t=e.setPlan,i=Object(n.useState)(a.length),o=Object(u.a)(i,2),s=o[0],c=o[1],l=Object(n.useState)({indice:0,campo:"",check:!1}),m=Object(u.a)(l,2),d=m[0],p=m[1],h=function(e,t){for(var n=0;n<100&&null!==document.getElementById(n);n++)document.getElementById(n).value=e.target.value.substring(0,50);if(p(Object(E.a)(Object(E.a)({},d),{},{indice:t,campo:e.target.value})),s>0)for(var r=0;r<s;r++)r===t&&(a[t].DESCRIPCION=e.target.value);else a.push(d)},f=function(e){var n;13===e.keyCode&&d.indice==s-1&&((n=s+1)>0?n>s?(c((function(e){return n})),a.push(d)):(c((function(e){return n})),a.splice(-1)):c((function(e){return 0})),t(a))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{item:!0,md:12,justify:"center"},r.a.createElement(y.a,{elevation:0,style:Js.paperitem},r.a.createElement(I.a,{variant:"h6"},"Plan de Acci\xf3n"))),r.a.createElement(R.a,{item:!0,md:12,container:!0,justify:"flex-start"},0===s&&r.a.createElement(va.a,{color:"primary",id:s}),0===s&&r.a.createElement(B.a,{margin:"dense",style:{width:300},id:s,onChange:function(e){return h(e,0)},onKeyDown:f}),s>0?function(e){var a,t=[],n=Object(ka.a)(e);try{for(n.s();!(a=n.n()).done;){var i=a.value;t.push(i)}}catch(o){n.e(o)}finally{n.f()}return r.a.createElement("div",null,t.map((function(e,a){return r.a.createElement(R.a,null,""!==e.DESCRIPCION&&r.a.createElement(va.a,{color:"primary",id:s}),""!==e.DESCRIPCION&&r.a.createElement(B.a,{margin:"dense",style:{width:300},id:s,defaultValue:e.DESCRIPCION,onChange:function(e){return h(e,a)},onKeyDown:f}))})))}(a):null))},Qs={paper:{marginTop:"4%",marginLeft:"4%",marginRight:"4%",marginBottom:"5%",flexDirection:"row",alignItems:"center",backgroundImage:""},paperitem:{marginTop:"2%",marginLeft:"4%"},foto:(qs={marginTop:"2%",marginLeft:"4%"},Object(N.a)(qs,"marginTop","4%"),Object(N.a)(qs,"flexDirection","row"),Object(N.a)(qs,"alignItems","center"),Object(N.a)(qs,"backgroundImage",""),qs)},Xs=function(e,a,t){e.target.value.length>45&&(document.getElementById("lugar").value=e.target.value.substring(0,45)),t(Object(E.a)(Object(E.a)({},a),{},{lugar:e.target.value}))},Zs=function(e,a,t){a.asistencia=0,t(Object(E.a)(Object(E.a)({},a),{},{asistencia:e.target.value}))},$s=function(e){var a=e.cita,t=e.user,i=r.a.useState({alumnoCodigo:0,alumnoNombre:"",alumnos:[t.ID_ALUMNO],fecha:new Date,horaini:"",horafin:0,resultado:"",lugar:"",descripcion:"",apoyo:[],asistencia:0===a.ALUMNOs.filter((function(e){return e.ID_ALUMNO===t.ID_ALUMNO}))[0].ALUMNO_X_SESION.ASISTENCIA_ALUMNO?"no":"yes"}),o=Object(u.a)(i,2),s=o[0],m=o[1],d=Object(n.useState)({campo:"",check:!1}),p=Object(u.a)(d,2),h=(p[0],p[1]),f=Object(n.useState)({mensajeStrong:"",mensajeStrongError:"por favor revisalos!",mensajeStrongExito:"satisfactoriamente!",mensajeError:"Existen errores al completar el formulario",mensajeExito:"Facultad registrada",mensaje:""}),O=Object(u.a)(f,2),g=O[0],b=O[1],v=Object(n.useState)({severidad:"error",severW:"warning",severE:"error",severS:"success"}),j=Object(u.a)(v,2),S=j[0],A=j[1],C=r.a.useState(!1),x=Object(u.a)(C,2),k=x[0],N=x[1],T=r.a.useState(!1),U=Object(u.a)(T,2),w=U[0],M=U[1],L=Object(n.useState)(a.COMPROMISOs.filter((function(e){return e.ID_ALUMNO===t.ID_ALUMNO}))),P=Object(u.a)(L,2),F=P[0],G=P[1],q=function(e){h(e)},_=function(){N(!1),M(!1),A({severidad:""}),b({mensaje:""})},H=function(){var e=Object(l.a)(c.a.mark((function e(n,r,i){var o,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("yes"!==r.asistencia){e.next=4;break}o=1,e.next=15;break;case 4:if("no"!==r.asistencia){e.next=8;break}o=0,e.next=15;break;case 8:if(null!==r.asistencia){e.next=12;break}o=0,e.next=15;break;case 12:return A({severidad:S.severE}),b({mensaje:"Falta llenar la asistencia."}),e.abrupt("return");case 15:return s={sesion:{ID_SESION:a.ID_SESION,RESULTADO:r.resultado,COMPROMISOS:F,ALUMNOS:[t.ID_ALUMNO],ASISTENCIA:[o],AREAS_APOYO:r.apoyo}},l={servicio:"/api/registrarResultadoCita",request:s},e.next=19,$(l);case 19:e.sent&&(A({severidad:"success"}),b({mensaje:"Sesion modificada Satisfactoriamente"})),i(Object(E.a)({},r));case 22:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(D.a,{variant:"outlined",color:"primary",onClick:function(){N(!0)}},"Registrar resultado"),w&&r.a.createElement(Fr,{open:function(){M(!0)},close:function(){M(!1),A({severidad:""}),b({mensaje:""})},alumnos:a.ALUMNOs}),r.a.createElement(Oa.a,{open:k,onClose:_,"aria-labelledby":"form-dialog-title"},r.a.createElement(se,{severity:S.severidad,titulo:"Observacion:",alerta:g}),r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(I.a,{variant:"h5"},"Datos Sesi\xf3n - ",t.USUARIO.NOMBRE)),r.a.createElement(ba.a,null,r.a.createElement(y.a,{elevation:0,style:Qs.paper},r.a.createElement(R.a,{container:!0,md:12,spacing:3},a.PROCESO_TUTORIum.GRUPAL?void 0:r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(B.a,{disabled:!0,id:"alumno",label:"Alumno",value:a.ALUMNOs[0].USUARIO.NOMBRE+" "+a.ALUMNOs[0].USUARIO.APELLIDOS,fullWidth:!0})),r.a.createElement(R.a,{item:!0,md:4},r.a.createElement(B.a,{disabled:!0,required:!0,margin:"dense",type:"date",id:"Fecha",label:"Fecha",value:a.FECHA,InputLabelProps:{shrink:!0},onChange:function(e){return function(e,a,t){t(Object(E.a)(Object(E.a)({},a),{},{fecha:e.target.value}))}(e,s,m)},fullWidth:!0})),r.a.createElement(R.a,{item:!0,md:4},r.a.createElement(B.a,{disabled:!0,required:!0,margin:"dense",type:"time",id:"Hora",value:a.HORA_INICIO,label:"Hora Inicio",InputLabelProps:{shrink:!0},onChange:function(e){return function(e,a,t){e.target.value<"08:00"||e.target.value>"19:30"?document.getElementById("Hora").value="08:00":t(Object(E.a)(Object(E.a)({},a),{},{horaini:e.target.value}))}(e,s,m)},fullWidth:!0})),r.a.createElement(R.a,{item:!0,md:4},r.a.createElement(B.a,{disabled:!0,required:!0,margin:"dense",type:"time",id:"Hora fin",label:"Hora Fin",value:a.HORA_FIN,InputLabelProps:{shrink:!0},onChange:function(e){return function(e,a,t){e.target.value>"20:00"||e.target.value<"08:30"?document.getElementById("Hora fin").value="20:00":t(Object(E.a)(Object(E.a)({},a),{},{horafin:e.target.value}))}(e,s,m)},fullWidth:!0})),r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(B.a,{disabled:!0,id:"lugar",label:"Lugar",value:a.LUGAR,onChange:function(e){return Xs(e,s,m)},fullWidth:!0})),r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(B.a,{disabled:!0,id:"tutoria",label:"Tutor\xeda",value:a.PROCESO_TUTORIum.NOMBRE,onChange:function(e){return Xs(e,s,m)},fullWidth:!0})),a.PROCESO_TUTORIum.GRUPAL?r.a.createElement(R.a,{item:!0,md:12}):"",a.ESTADO.includes("realizada")&&r.a.createElement(Ks,{plan:F,setPlan:G,ultimoCompromiso:q}),(a.ESTADO.includes("03")||a.ESTADO.includes("04"))&&r.a.createElement(Vs,{plan:F,setPlan:G,ultimoCompromiso:q}),r.a.createElement(R.a,{item:!0,md:12,justify:"flex-start"},r.a.createElement(Ys,{strecht:!0,titulo:"",obtenerEtiquetas:function(e){return function(e,a,t){var n=[];e.forEach((function(e){e.agregar&&n.push(e.id)})),a.apoyo=n,t(Object(E.a)({},a))}(e,s,m)},enlace:"/api/listaAreasApoyo",enlace2:"/api/listaSesiones/"+a.ID_TUTOR+"/"+a.FECHA,small:!0,label:"Unidades de Apoyo",idSesion:a.ID_SESION,ID:"ID_AREA_APOYO"})),r.a.createElement(R.a,{item:!0,md:12,justify:"center"},r.a.createElement(y.a,{elevation:0,style:Qs.paperitem},r.a.createElement(I.a,{variant:"h6"},"Resultados"))),r.a.createElement(R.a,{item:!0,md:12,container:!0,justify:"center"},r.a.createElement(B.a,{multiline:!0,rows:4,id:"res",variant:"outlined",defaultValue:a.ALUMNOs.filter((function(e){return e.ID_ALUMNO===t.ID_ALUMNO}))[0].ALUMNO_X_SESION.RESULTADO,onChange:function(e){return function(e,a,t){e.target.value.length>250&&(document.getElementById("res").value=e.target.value.substring(0,250)),t(Object(E.a)(Object(E.a)({},a),{},{resultado:e.target.value}))}(e,s,m)},fullWidth:!0})),r.a.createElement("p",null,r.a.createElement(I.a,{variant:"h6"},"\xbfAsisti\xf3 a la cita?"),r.a.createElement("br",null),a.ALUMNOs.filter((function(e){return e.ID_ALUMNO===t.ID_ALUMNO}))[0].ALUMNO_X_SESION.ASISTENCIA_ALUMNO?r.a.createElement("input",{type:"radio",id:"asistio",name:"asistencia",value:"yes",onChange:function(e){return Zs(e,s,m)},checked:!0}):r.a.createElement("input",{type:"radio",id:"asistio",name:"asistencia",value:"yes",onChange:function(e){return Zs(e,s,m)}}),r.a.createElement("label",{for:"asistio"},"S\xed"),0===a.ALUMNOs.filter((function(e){return e.ID_ALUMNO===t.ID_ALUMNO}))[0].ALUMNO_X_SESION.ASISTENCIA_ALUMNO?r.a.createElement("input",{type:"radio",id:"noasistio",name:"asistencia",value:"no",onChange:function(e){return Zs(e,s,m)},checked:!0}):r.a.createElement("input",{type:"radio",id:"noasistio",name:"asistencia",value:"no",onChange:function(e){return Zs(e,s,m)}}),r.a.createElement("label",{for:"noasistio"},"No"))))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"outlined",onClick:_,color:"primary"},"Cancelar"),r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:function(e){return H(e,s,m)}},"Guardar"))))},ec=function(e){return e.ALUMNOs===[]||null===e.ALUMNOs||void 0===e.ALUMNOs?{columns:[{title:"Nombre",field:"nombre"},{title:"Apellidos",field:"apellidos"},{title:"Resultado",field:"btnResultado"}],data:[]}:{columns:[{title:"Nombre",field:"nombre"},{title:"Apellido",field:"apellidos"},{title:"Resultado",field:"btnResultado"}],data:e.ALUMNOs.map((function(a){return{nombre:a.USUARIO.NOMBRE,apellidos:a.USUARIO.APELLIDOS,btnResultado:r.a.createElement($s,{cita:e,user:a})}}))}},ac=Object(h.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},caja:Object(N.a)({marginTop:e.spacing(3),padding:e.spacing(2)},e.breakpoints.down("sm"),{padding:e.spacing(1),width:e.spacing(40)})}})),tc=r.a.forwardRef((function(e,a){return r.a.createElement(Fs.a,Object.assign({direction:"up",ref:a},e))}));function nc(e){var a=ac(),t=Object(n.useState)(!1),i=Object(u.a)(t,2),o=i[0],s=i[1],c=Object(n.useState)(ec(e.cita)),l=Object(u.a)(c,2),m=l[0],d=(l[1],function(){s(!1)});return r.a.createElement("div",null,r.a.createElement(D.a,{variant:"outlined",color:"primary",onClick:function(){s(!0)}},"Ver alumnos"),r.a.createElement(Oa.a,{fullScreen:!0,open:o,onClose:d,TransitionComponent:tc},r.a.createElement(A.a,{className:a.appBar},r.a.createElement(C.a,null,r.a.createElement(ye.a,{edge:"start",color:"inherit",onClick:d,"aria-label":"close"},r.a.createElement(Ps.a,null)),r.a.createElement(I.a,{variant:"h6",className:a.title},"Registro de resultados de sesiones grupales"))),r.a.createElement(R.a,{container:!0,justify:"center",alignItems:"center",spacing:4,style:{marginTop:"3%"}},r.a.createElement(R.a,{item:!0,xs:12,md:11},r.a.createElement(Hs,{columns:m.columns,data:m.data})))))}var rc={paper:{marginTop:"4%",marginLeft:"4%",marginRight:"4%",marginBottom:"5%",flexDirection:"row",alignItems:"center",backgroundImage:""},paperitem:{marginTop:"2%",marginLeft:"4%"},foto:(_s={marginTop:"2%",marginLeft:"4%"},Object(N.a)(_s,"marginTop","4%"),Object(N.a)(_s,"flexDirection","row"),Object(N.a)(_s,"alignItems","center"),Object(N.a)(_s,"backgroundImage",""),_s)},ic=function(e,a,t){e.target.value.length>45&&(document.getElementById("lugar").value=e.target.value.substring(0,45)),t(Object(E.a)(Object(E.a)({},a),{},{lugar:e.target.value}))},oc=function(e,a,t){a.asistencia=0,t(Object(E.a)(Object(E.a)({},a),{},{asistencia:e.target.value}))},sc=function(e){var a=r.a.useState({alumnoCodigo:0,alumnoNombre:"",alumnos:[],fecha:new Date,horaini:"",horafin:0,resultado:"",lugar:"",descripcion:"",apoyo:[],asistencia:0===e.cita.ALUMNOs[0].ALUMNO_X_SESION.ASISTENCIA_ALUMNO?"no":"yes"}),t=Object(u.a)(a,2),i=t[0],o=t[1],s=Object(n.useState)({campo:"",check:!1}),m=Object(u.a)(s,2),d=(m[0],m[1]),p=Object(n.useState)({mensajeStrong:"",mensajeStrongError:"por favor revisalos!",mensajeStrongExito:"satisfactoriamente!",mensajeError:"Existen errores al completar el formulario",mensajeExito:"Facultad registrada",mensaje:""}),h=Object(u.a)(p,2),f=h[0],O=h[1],g=Object(n.useState)({severidad:"error",severW:"warning",severE:"error",severS:"success"}),b=Object(u.a)(g,2),v=b[0],j=b[1],S=r.a.useState(!0),A=Object(u.a)(S,2),C=(A[0],A[1]),x=r.a.useState(!1),k=Object(u.a)(x,2),N=k[0],T=k[1],U=Object(n.useState)(e.cita.COMPROMISOs),w=Object(u.a)(U,2),M=w[0],L=w[1],P=function(e){d(e)},F=function(){C(!1),e.onClose(),T(!1),j({severidad:""}),O({mensaje:""})},G=function(){var a=Object(l.a)(c.a.mark((function a(t,n,r){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,new Promise(function(){var a=Object(l.a)(c.a.mark((function a(t,i){var o,s,l;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("yes"!==n.asistencia){a.next=4;break}o=1,a.next=15;break;case 4:if("no"!==n.asistencia){a.next=8;break}o=0,a.next=15;break;case 8:if(null!==n.asistencia){a.next=12;break}o=0,a.next=15;break;case 12:return j({severidad:v.severE}),O({mensaje:"Falta llenar la asistencia."}),a.abrupt("return");case 15:return s={sesion:{ID_SESION:e.cita.ID_SESION,RESULTADO:n.resultado,COMPROMISOS:M,ALUMNOS:[e.cita.ALUMNOs[0].ID_ALUMNO],ASISTENCIA:[o],AREAS_APOYO:n.apoyo}},l={servicio:"/api/registrarResultadoCita",request:s},a.next=19,$(l);case 19:a.sent&&(j({severidad:"success"}),O({mensaje:"Sesion modificada Satisfactoriamente"})),r(Object(E.a)({},n)),t();case 23:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}());case 2:return a.next=4,new Promise(function(){var e=Object(l.a)(c.a.mark((function e(a,t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,setTimeout(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F();case 1:case"end":return e.stop()}}),e)}))),3e3);case 2:a();case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}());case 4:case"end":return a.stop()}}),a)})));return function(e,t,n){return a.apply(this,arguments)}}();return r.a.createElement("div",null,N&&r.a.createElement(Fr,{open:function(){T(!0)},close:function(){T(!1),j({severidad:""}),O({mensaje:""})},alumnos:e.cita.ALUMNOs}),r.a.createElement(Oa.a,{open:e.open,onClose:e.onClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(se,{severity:v.severidad,titulo:"Observacion:",alerta:f}),r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(I.a,{variant:"h5"},"Datos Sesi\xf3n")),r.a.createElement(ba.a,null,r.a.createElement(y.a,{elevation:0,style:rc.paper},r.a.createElement(R.a,{container:!0,md:12,spacing:3},e.cita.PROCESO_TUTORIum.GRUPAL?void 0:r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(B.a,{disabled:!0,id:"alumno",label:"Alumno",value:e.cita.ALUMNOs[0].USUARIO.NOMBRE+" "+e.cita.ALUMNOs[0].USUARIO.APELLIDOS,fullWidth:!0})),r.a.createElement(R.a,{item:!0,md:4},r.a.createElement(B.a,{disabled:!0,required:!0,margin:"dense",type:"date",id:"Fecha",label:"Fecha",value:e.cita.FECHA,InputLabelProps:{shrink:!0},onChange:function(e){return function(e,a,t){t(Object(E.a)(Object(E.a)({},a),{},{fecha:e.target.value}))}(e,i,o)},fullWidth:!0})),r.a.createElement(R.a,{item:!0,md:4},r.a.createElement(B.a,{disabled:!0,required:!0,margin:"dense",type:"time",id:"Hora",value:e.cita.HORA_INICIO,label:"Hora Inicio",InputLabelProps:{shrink:!0},onChange:function(e){return function(e,a,t){e.target.value<"08:00"||e.target.value>"19:30"?document.getElementById("Hora").value="08:00":t(Object(E.a)(Object(E.a)({},a),{},{horaini:e.target.value}))}(e,i,o)},fullWidth:!0})),r.a.createElement(R.a,{item:!0,md:4},r.a.createElement(B.a,{disabled:!0,required:!0,margin:"dense",type:"time",id:"Hora fin",label:"Hora Fin",value:e.cita.HORA_FIN,InputLabelProps:{shrink:!0},onChange:function(e){return function(e,a,t){e.target.value>"20:00"||e.target.value<"08:30"?document.getElementById("Hora fin").value="20:00":t(Object(E.a)(Object(E.a)({},a),{},{horafin:e.target.value}))}(e,i,o)},fullWidth:!0})),r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(B.a,{disabled:!0,id:"lugar",label:"Lugar",value:e.cita.LUGAR,onChange:function(e){return ic(e,i,o)},fullWidth:!0})),r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(B.a,{disabled:!0,id:"tutoria",label:"Tutor\xeda",value:e.cita.PROCESO_TUTORIum.NOMBRE,onChange:function(e){return ic(e,i,o)},fullWidth:!0})),e.cita.PROCESO_TUTORIum.GRUPAL?r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(nc,{cita:e.cita})):"",e.cita.PROCESO_TUTORIum.GRUPAL?r.a.createElement(r.a.Fragment,null):e.cita.ESTADO.includes("realizada")&&r.a.createElement(Ks,{plan:M,setPlan:L,ultimoCompromiso:P}),e.cita.PROCESO_TUTORIum.GRUPAL?r.a.createElement(r.a.Fragment,null):(e.cita.ESTADO.includes("03")||e.cita.ESTADO.includes("04"))&&r.a.createElement(Vs,{plan:M,setPlan:L,ultimoCompromiso:P}),e.cita.PROCESO_TUTORIum.GRUPAL?r.a.createElement(r.a.Fragment,null):r.a.createElement(R.a,{item:!0,md:12,justify:"flex-start"},r.a.createElement(Ys,{strecht:!0,titulo:"",obtenerEtiquetas:function(e){return function(e,a,t){var n=[];e.forEach((function(e){e.agregar&&n.push(e.id)})),a.apoyo=n,t(Object(E.a)({},a))}(e,i,o)},enlace:"/api/listaAreasApoyo",enlace2:"/api/listaSesiones/"+e.cita.ID_TUTOR+"/"+e.cita.FECHA,small:!0,label:"Unidades de Apoyo",idSesion:e.cita.ID_SESION,ID:"ID_AREA_APOYO"})),e.cita.PROCESO_TUTORIum.GRUPAL?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{item:!0,md:12,justify:"center"},r.a.createElement(y.a,{elevation:0,style:rc.paperitem},r.a.createElement(I.a,{variant:"h6"},"Resultados"))),r.a.createElement(R.a,{item:!0,md:12,container:!0,justify:"center"},r.a.createElement(B.a,{multiline:!0,rows:4,id:"res",variant:"outlined",defaultValue:e.cita.ALUMNOs[0].ALUMNO_X_SESION.RESULTADO,onChange:function(e){return function(e,a,t){e.target.value.length>250&&(document.getElementById("res").value=e.target.value.substring(0,250)),t(Object(E.a)(Object(E.a)({},a),{},{resultado:e.target.value}))}(e,i,o)},fullWidth:!0}))),e.cita.PROCESO_TUTORIum.GRUPAL?r.a.createElement(r.a.Fragment,null):r.a.createElement("p",null,r.a.createElement(I.a,{variant:"h6"},"\xbfAsisti\xf3 a la cita?"),r.a.createElement("br",null),e.cita.ALUMNOs[0].ALUMNO_X_SESION.ASISTENCIA_ALUMNO?r.a.createElement("input",{type:"radio",id:"asistio",name:"asistencia",value:"yes",onChange:function(e){return oc(e,i,o)},checked:!0}):r.a.createElement("input",{type:"radio",id:"asistio",name:"asistencia",value:"yes",onChange:function(e){return oc(e,i,o)}}),r.a.createElement("label",{for:"asistio"},"S\xed"),0==e.cita.ALUMNOs[0].ALUMNO_X_SESION.ASISTENCIA_ALUMNO?r.a.createElement("input",{type:"radio",id:"noasistio",name:"asistencia",value:"no",onChange:function(e){return oc(e,i,o)},checked:!0}):r.a.createElement("input",{type:"radio",id:"noasistio",name:"asistencia",value:"no",onChange:function(e){return oc(e,i,o)}}),r.a.createElement("label",{for:"noasistio"},"No"))))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"outlined",onClick:F,color:"primary"},"Cancelar"),e.cita.PROCESO_TUTORIum.GRUPAL?r.a.createElement(r.a.Fragment,null):r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:function(e){return G(e,i,o)}},"Guardar"))))},cc=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).handleDeDoggy=function(a){e.setState({asistencia:a.target.value})},e.handleOnChangeCT=function(a){e.setState(Object(N.a)({},a.target.name,a.target.value))},e.handleOnChangeEtiquetas=function(a){var t=[];a.forEach((function(e){e.agregar&&t.push(e.id)})),e.setState({etiqueta:t})},e.handleOnOpen=function(a,t){console.log(">>Element",t),e.setState({elementResul:t}),console.log(">>ElementResul",e.state.elementResul),e.setState({open:!0})},e.state={sesiones:{columns:[{title:"Nombre",field:"nombre"}],data:[{nombre:""}]},open:!1,alert:{mensajeStrong:"",mensajeStrongError:"Por favor rev\xedsalos",mensajeStrongExito:"Satisfactoriamente",mensajeError:"Existen errores al completar el formulario",mensajeExito:"Se modificaron los datos de la institucion",mensaje:""},severidad:"warning",open5:!1,elementResul:void 0,compromiso:[],etiqueta:[],descripcion:"",actuTys:!1},e.establecerData=e.establecerData.bind(Object(M.a)(e)),e.handleOnOpen=e.handleOnOpen.bind(Object(M.a)(e)),e.handleOnCloseResul=e.handleOnCloseResul.bind(Object(M.a)(e)),e.handleOnOpenVer=e.handleOnOpenVer.bind(Object(M.a)(e)),e.handleOnCloseVer=e.handleOnCloseVer.bind(Object(M.a)(e)),e.handleOnChangeEtiquetas=e.handleOnChangeEtiquetas.bind(Object(M.a)(e)),e.handleSetPlan=e.handleSetPlan.bind(Object(M.a)(e)),e.handleDeDoggy=e.handleDeDoggy.bind(Object(M.a)(e)),e.handleGuardar=e.handleGuardar.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"handleGuardar",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a,t,n,r,i,o,s,l,m,d,p,h,f,O;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],void 0!==this.state.elementResul&&(console.log(">>ID_VL=>",this.state.elementResul.ALUMNOs[0].ID_ALUMNO),t.push(this.state.elementResul.ALUMNOs[0].ID_ALUMNO)),n={sesion:{ID_SESION:null===(a=this.state.elementResul)||void 0===a?void 0:a.ID_SESION,RESULTADO:this.state.descripcion,COMPROMISOS:this.state.compromiso,ALUMNOS:t,ASISTENCIA:["yes"===this.state.asistencia?"1":"0"],AREAS_APOYO:this.state.etiqueta}},console.log(">>RESUL=>",n),r={servicio:"/api/registrarResultadoCita",request:n},e.next=7,$(r);case 7:if(i=e.sent){e.next=10;break}return e.abrupt("return");case 10:console.log("SESIONtYS XXX ",i),i.message?(h=Object(u.a)(this.context,2),f=h[0],f.openMensaje,f.mensaje,O=h[1],he(O,{open:!0,mensaje:"X>".concat(i.message)})):i.error?(m=Object(u.a)(this.context,2),d=m[0],d.openMensaje,d.mensaje,p=m[1],he(p,{open:!0,mensaje:"X>Ups, Error Inesperado.   Por favor, Int\xe9ntelo m\xe1s tarde."})):(o=Object(u.a)(this.context,2),s=o[0],s.openMensaje,s.mensaje,l=o[1],he(l,{postClose:this.handleOnCloseResul,open:!0,mensaje:"C>\xa1 Resultados Registrados Satisfactoriamente !"}),this.setState({actuTys:!this.state.actuTys}));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSetPlan",value:function(e){this.setState({compromiso:e})}},{key:"handleCompromiso",value:function(e){this.setState({compromiso:e})}},{key:"handleOnOpenVer",value:function(){this.setState({open5:!0})}},{key:"handleOnCloseVer",value:function(){this.setState({open5:!1})}},{key:"handleOnclickVerAlmunos",value:function(e,a){var t;t=a,this.setState({arrAlumnoVer:t}),this.setState({open5:!0})}},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.actuTys==this.state.actuTys){e.next=5;break}return e.next=3,X({servicio:"/api/listaSesiones/"+Q().usuario.ID_USUARIO});case 3:n=e.sent,this.establecerData(n);case 5:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"establecerData",value:function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n,i,o,s,l,u,m,d=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=0,i=Lt()(new Date).format("YYYY-MM-DD"),s=Object(ka.a)(a.data),e.prev=4,u=c.a.mark((function e(){var a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.value,e.next=3,Lt()(a.FECHA).format("YYYY-MM-DD");case 3:o=e.sent,s=a.ESTADO.includes("realizada")||a.ESTADO.includes("cancelada")?a.ESTADO.split("-")[0]:i>o?"PR":a.ESTADO.split("-")[0],console.log(">>XXX + cont",s,n),"00"!==s&&"01"!==s&&"PR"!==s||(n++,console.log(">>KHA?- dentro 2do if"),t.push({campoCont:n,imagen:r.a.createElement("div",null,1===a.PROCESO_TUTORIum.GRUPAL?r.a.createElement(de,{tablas:!0,src:"https://ututor-recursos.s3.amazonaws.com/WhatsApp+Image+2020-08-02+at+5.06.55+PM.jpeg"}):a.ALUMNOs[0].USUARIO.IMAGEN?r.a.createElement(de,{tablas:!0,src:"data:image/jpeg;base64,".concat(a.ALUMNOs[0].USUARIO.IMAGEN)}):r.a.createElement(oa.a,{alt:a.ALUMNOs[0].USUARIO.NOMBRE.replace(/["]+/g,""),className:d.props.classes.large},a.ALUMNOs[0].USUARIO.NOMBRE[0].match(/[a-z]/i)?a.ALUMNOs[0].USUARIO.NOMBRE[0]:a.ALUMNOs[0].USUARIO.NOMBRE[1])),nombre:a.PROCESO_TUTORIum.GRUPAL?r.a.createElement(D.a,{href:"#text-buttons",color:"primary",onClick:function(e){return d.handleOnclickVerAlmunos(e,a.ALUMNOs)}},"Ver Alumnos"):a.ALUMNOs[0]&&a.ALUMNOs[0].USUARIO.NOMBRE?a.ALUMNOs[0].USUARIO.NOMBRE+" "+a.ALUMNOs[0].USUARIO.APELLIDOS:"",fecha:a.FECHA+" / "+a.HORA_INICIO+" - "+a.HORA_FIN,campoLugar:a.LUGAR,tipoTutoria:a.PROCESO_TUTORIum.NOMBRE,campoEstado:"PR"===s?"Pendiente registro":"Realizada",campoResultados:r.a.createElement("div",null,r.a.createElement(D.a,{size:"large",variant:"outlined",color:"secondary",onClick:function(e){return d.handleOnOpen(e,a)},disabled:"PR"!==s},"Resultados"))}));case 7:case"end":return e.stop()}}),e)})),s.s();case 7:if((l=s.n()).done){e.next=11;break}return e.delegateYield(u(),"t0",9);case 9:e.next=7;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(4),s.e(e.t1);case 16:return e.prev=16,s.f(),e.finish(16);case 19:m={columns:[{title:"N\xb0",field:"campoCont"},{title:"",field:"imagen"},{title:"Alumno",field:"nombre"},{title:"Fecha / Hora",field:"fecha"},{title:"Lugar",field:"campoLugar"},{title:"Tipo Tutoria",field:"tipoTutoria"},{title:"Resultados",field:"campoResultados"},{title:"Estado",field:"campoEstado"}],data:t},this.setState({sesiones:m});case 21:case"end":return e.stop()}}),e,this,[[4,13,16,19]])})));return function(a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/listaSesiones/"+Q().usuario.ID_USUARIO});case 2:a=e.sent,this.establecerData(a);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleOnCloseResul",value:function(){this.setState({open:!1})}},{key:"render",value:function(){var e,a,t,n,i,o,s,c,l,u,m,d,p,h,f,O,g,b,E,v,j,S,A;return r.a.createElement("div",null,r.a.createElement(Ms,{tutores:this.state.sesiones}),r.a.createElement(Oa.a,{open:this.state.open,onClose:this.handleOnCloseResul,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(I.a,{variant:"h5"},"Datos Sesi\xf3n")),r.a.createElement(ba.a,null,r.a.createElement(y.a,{elevation:0,style:mc.paper},r.a.createElement(R.a,{container:!0,md:12,spacing:3},(null===(e=this.state.elementResul)||void 0===e||null===(a=e.PROCESO_TUTORIum)||void 0===a?void 0:a.GRUPAL)?r.a.createElement(r.a.Fragment,null):r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(B.a,{disabled:!0,id:"alumno",label:"Alumno",value:(null===(t=this.state.elementResul)||void 0===t?void 0:t.ALUMNOs[0].USUARIO.NOMBRE)+" "+(null===(n=this.state.elementResul)||void 0===n?void 0:n.ALUMNOs[0].USUARIO.APELLIDOS),fullWidth:!0})),r.a.createElement(R.a,{item:!0,md:4},r.a.createElement(B.a,{disabled:!0,required:!0,margin:"dense",type:"date",id:"Fecha",label:"Fecha",value:null===(i=this.state.elementResul)||void 0===i?void 0:i.FECHA,InputLabelProps:{shrink:!0},fullWidth:!0})),r.a.createElement(R.a,{item:!0,md:4},r.a.createElement(B.a,{disabled:!0,required:!0,margin:"dense",type:"time",id:"Hora",value:null===(o=this.state.elementResul)||void 0===o?void 0:o.HORA_INICIO,label:"Hora Inicio",InputLabelProps:{shrink:!0},fullWidth:!0})),r.a.createElement(R.a,{item:!0,md:4},r.a.createElement(B.a,{disabled:!0,required:!0,margin:"dense",type:"time",id:"Hora fin",label:"Hora Fin",value:null===(s=this.state.elementResul)||void 0===s?void 0:s.HORA_FIN,InputLabelProps:{shrink:!0},fullWidth:!0})),r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(B.a,{disabled:!0,id:"lugar",label:"Lugar",value:null===(c=this.state.elementResul)||void 0===c?void 0:c.LUGAR,fullWidth:!0})),r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(B.a,{disabled:!0,id:"tutoria",label:"Tutor\xeda",value:null===(l=this.state.elementResul)||void 0===l?void 0:l.PROCESO_TUTORIum.NOMBRE,fullWidth:!0})),(null===(u=this.state.elementResul)||void 0===u?void 0:u.PROCESO_TUTORIum.GRUPAL)?r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(nc,{cita:this.state.elementResul?this.state.elementResul:""})):"",(null===(m=this.state.elementResul)||void 0===m?void 0:m.PROCESO_TUTORIum.GRUPAL)?r.a.createElement(r.a.Fragment,null):((null===(d=this.state.elementResul)||void 0===d?void 0:d.ESTADO.includes("03"))||(null===(p=this.state.elementResul)||void 0===p?void 0:p.ESTADO.includes("04")))&&r.a.createElement(Vs,{plan:null===(h=this.state.elementResul)||void 0===h?void 0:h.COMPROMISOs,setPlan:this.handleSetPlan,ultimoCompromiso:this.handleCompromiso}),(null===(f=this.state.elementResul)||void 0===f?void 0:f.PROCESO_TUTORIum.GRUPAL)?r.a.createElement(r.a.Fragment,null):r.a.createElement(R.a,{item:!0,md:12,justify:"flex-start"},r.a.createElement(Ys,{strecht:!0,titulo:"",obtenerEtiquetas:this.handleOnChangeEtiquetas,enlace:"/api/listaAreasApoyo",enlace2:"/api/listaSesiones/"+(null===(O=this.state.elementResul)||void 0===O?void 0:O.ID_TUTOR)+"/"+(null===(g=this.state.elementResul)||void 0===g?void 0:g.FECHA),small:!0,label:"Unidades de Apoyo",idSesion:null===(b=this.state.elementResul)||void 0===b?void 0:b.ID_SESION,ID:"ID_AREA_APOYO"})),(null===(E=this.state.elementResul)||void 0===E?void 0:E.PROCESO_TUTORIum.GRUPAL)?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{item:!0,md:12,justify:"center"},r.a.createElement(y.a,{elevation:0,style:mc.paperitem},r.a.createElement(I.a,{variant:"h6"},"Resultados"))),r.a.createElement(R.a,{item:!0,md:12,container:!0,justify:"center"},r.a.createElement(B.a,{fullWidth:!0,required:!0,autoFocus:!0,name:"descripcion",label:"Ingrese los resultados de la sesi\xf3n :",multiline:!0,rows:5,variant:"outlined",onChange:this.handleOnChangeCT}),(null===(v=this.state.elementResul)||void 0===v?void 0:v.PROCESO_TUTORIum.GRUPAL)?r.a.createElement(r.a.Fragment,null):r.a.createElement("p",null,r.a.createElement(I.a,{variant:"h6"},"\xbfAsisti\xf3 a la cita?"),r.a.createElement("br",null),(null===(j=this.state.elementResul)||void 0===j?void 0:j.ALUMNOs[0].ALUMNO_X_SESION.ASISTENCIA_ALUMNO)?r.a.createElement(r.a.Fragment,null):r.a.createElement("input",{type:"radio",id:"asistio",name:"asistencia",value:"yes",onChange:this.handleDeDoggy}),r.a.createElement("label",{for:"asistio"},"S\xed"),0==(null===(S=this.state.elementResul)||void 0===S?void 0:S.ALUMNOs[0].ALUMNO_X_SESION.ASISTENCIA_ALUMNO)?r.a.createElement(r.a.Fragment,null):r.a.createElement("input",{type:"radio",id:"noasistio",name:"asistencia",value:"no",onChange:this.handleDeDoggy}),r.a.createElement("label",{for:"noasistio"},"No"))))))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"outlined",onClick:this.handleOnCloseResul,color:"primary"},"Cancelar"),(null===(A=this.state.elementResul)||void 0===A?void 0:A.PROCESO_TUTORIum.GRUPAL)?r.a.createElement(r.a.Fragment,null):r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:this.handleGuardar},"Guardar"))),this.state.open5&&r.a.createElement(Fr,{open:this.handleOnOpenVer,close:this.handleOnCloseVer,alumnos:this.state.arrAlumnoVer}))}}]),t}(n.Component);cc.contextType=fe;var lc,uc=Object(pe.a)((function(e){return{small:{width:e.spacing(3),height:e.spacing(3)},large:{width:e.spacing(10),height:e.spacing(10),fontSize:"300%"},customContainer:{padding:e.spacing(5),backgroundColor:"#ffffff"}}}))(cc),mc={paper:{marginTop:"4%",marginLeft:"4%",marginRight:"4%",marginBottom:"5%",flexDirection:"row",alignItems:"center",backgroundImage:""},paperitem:{marginTop:"2%",marginLeft:"4%"}},dc=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).handleOnChangeCT=function(a){0===a.target.value.length?e.setState({mensajeError:"\xa1 Debe ingresar un motivo !",esInvalido:!0}):e.setState({mensajeError:"",esInvalido:!1}),e.setState(Object(N.a)({},a.target.name,a.target.value)),e.setState({yopsRazon:a.target.value})},e.handleOnChangeCT_Rep=function(a){0===a.target.value.length&&(e.setState({mensajeErrorR:"\xa1 Debe ingresar un motivo de reprogramaci\xf3n!",esInvalidoR:!0}),e.setState({esInvalRTotal:!0})),0!==a.target.value.length&&""===e.state.horaFinR&&(e.setState({mensajeErrorR:"\xa1 Debe ingresar la hora inicial !",esInvalidoR:!0}),e.setState({dataMotivo:""}),e.setState({esInvalRTotal:!0})),0!==a.target.value.length&&""!==e.state.horaFinR&&(e.setState({mensajeErrorR:"",esInvalidoR:!1}),e.setState({esInvalRTotal:!1})),e.setState(Object(N.a)({},a.target.name,a.target.value)),e.setState({yopsRazon_Rep:a.target.value})},e.state={sesiones:{columns:[{title:"Nombre",field:"nombre"}],data:[{nombre:""}]},open:!1,open2:!1,open3:!1,open4:!1,open5:!1,mensajillo:"",mensajilloR:"",graciasYopsIdSesion:0,graciasYopsIdProcesoTuto:0,graciasYopsIdAlumno:[],graciasYopsIdSesionR:0,graciasYopsIdAlumnoR:[],yopsRazon:"",yopsRazon_Rep:"",fechaR:"",horaIniR:"",horaFinR:"",duraSesion:0,arrAlumnoVer:[],actuTys:!1,mensajeError:"",mensajeErrorR:"",esInvalido:!0,esInvalidoR:!0,esInvalRTotal:!0,dataMotivo:""},e.handleOnClickCancelar=e.handleOnClickCancelar.bind(Object(M.a)(e)),e.handleOnCloseCancelar=e.handleOnCloseCancelar.bind(Object(M.a)(e)),e.handleOnCloseCitaCancelada=e.handleOnCloseCitaCancelada.bind(Object(M.a)(e)),e.handleOnclickAceptarCancelacion=e.handleOnclickAceptarCancelacion.bind(Object(M.a)(e)),e.handleOnClickPosponer=e.handleOnClickPosponer.bind(Object(M.a)(e)),e.handleOnCloseReprogramar=e.handleOnCloseReprogramar.bind(Object(M.a)(e)),e.handleOnCloseCitaCancelada_Rep=e.handleOnCloseCitaCancelada_Rep.bind(Object(M.a)(e)),e.handleOnclickAceptarReprogramacion=e.handleOnclickAceptarReprogramacion.bind(Object(M.a)(e)),e.handleOnChangeFecha=e.handleOnChangeFecha.bind(Object(M.a)(e)),e.handleOnChangeHoraIni=e.handleOnChangeHoraIni.bind(Object(M.a)(e)),e.handleOnChangeHoraFin=e.handleOnChangeHoraFin.bind(Object(M.a)(e)),e.handleFocusOutHoraIni=e.handleFocusOutHoraIni.bind(Object(M.a)(e)),e.handleOnclickVerAlmunos=e.handleOnclickVerAlmunos.bind(Object(M.a)(e)),e.handleOnOpenVer=e.handleOnOpenVer.bind(Object(M.a)(e)),e.handleOnCloseVer=e.handleOnCloseVer.bind(Object(M.a)(e)),e.cumpleValidaciones=e.cumpleValidaciones.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"handleOnOpenVer",value:function(){this.setState({open5:!0})}},{key:"handleOnCloseVer",value:function(){this.setState({open5:!1})}},{key:"handleOnclickVerAlmunos",value:function(e,a){var t;t=a,this.setState({arrAlumnoVer:t}),this.setState({open5:!0})}},{key:"handleFocusOutHoraIni",value:function(){var e=this.state.horaIniR.slice(-2),a="";"00"===e||"30"===e?(a=this.state.horaIniR,this.setState({horaIniR:a})):(a=this.state.horaIniR.slice(0,2)+":00",this.setState({horaIniR:a}));var t="2020-07-04 ",n=new Date(t+=a);n.setMinutes(n.getMinutes()+this.state.duraSesion);var r=n.toLocaleTimeString();7===r.length&&(r="0"+r),r=r.slice(0,5),this.setState({horaFinR:r}),":00"===this.state.horaIniR&&(this.setState({horaFinR:""}),this.setState({esInvalRTotal:!0}))}},{key:"handleOnChangeHoraIni",value:function(e){this.setState({horaIniR:e.target.value});var a="2020-07-04 ";a+=e.target.value;var t=new Date(a);t.setMinutes(t.getMinutes()+this.state.duraSesion);var n=t.toLocaleTimeString();7===n.length&&(n="0"+n),n=n.slice(0,5),this.setState({horaFinR:n}),document.getElementById("Hora").addEventListener("focusout",this.handleFocusOutHoraIni),":00"===this.state.horaIniR&&(this.setState({horaFinR:""}),this.setState({esInvalRTotal:!0}))}},{key:"handleOnChangeHoraFin",value:function(e){this.setState({horaFinR:e.target.value})}},{key:"handleOnClickCancelar",value:function(e,a,t){this.setState({graciasYopsIdSesion:a});var n,r=[],i=Object(ka.a)(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push(o.ID_ALUMNO.toString())}}catch(s){i.e(s)}finally{i.f()}this.setState({graciasYopsIdAlumno:r}),this.setState({open:!0})}},{key:"handleOnClickPosponer",value:function(e,a,t,n,r){this.setState({graciasYopsIdSesionR:a}),this.setState({graciasYopsIdProcesoTuto:n}),this.setState({duraSesion:r});var i,o=[],s=Object(ka.a)(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;o.push(c.ID_ALUMNO.toString())}}catch(l){s.e(l)}finally{s.f()}this.setState({graciasYopsIdAlumnoR:o}),this.setState({open2:!0})}},{key:"handleOnCloseCancelar",value:function(){this.setState({open:!1})}},{key:"handleOnCloseReprogramar",value:function(){this.setState({open2:!1})}},{key:"handleOnCloseCitaCancelada",value:function(){this.setState({open3:!1}),this.setState({open:!1})}},{key:"handleOnCloseCitaCancelada_Rep",value:function(){this.setState({open4:!1}),this.setState({open2:!1})}},{key:"validarEntradaCT_Rep",value:function(e){}},{key:"validarEntradaCT",value:function(e){}},{key:"handleOnclickAceptarCancelacion",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a,t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Q(),"",t={sesion:{ID_SESION:this.state.graciasYopsIdSesion.toString(),ALUMNOS:this.state.graciasYopsIdAlumno,RAZON:this.state.yopsRazon,EMISOR:a.usuario.ID_USUARIO.toString(),RECEPTOR:this.state.graciasYopsIdAlumno}},n={servicio:"/api/cancelarCita",request:t},e.next=6,$(n);case 6:if(r=e.sent){e.next=9;break}return e.abrupt("return");case 9:r.message?this.setState({mensajillo:r.message}):r.error?this.setState({mensajillo:"Ups, Error inesperado... Por favor, int\xe9ntelo m\xe1s tarde."}):(this.setState({mensajillo:"\xa1 Cita Cancelada Satisfactoriamente !"}),this.setState({actuTys:!this.state.actuTys})),this.setState({open3:!0});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t){var n,i,o,s,l,u,m,d,p,h=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.actuTys==this.state.actuTys){e.next=25;break}return e.next=3,X({servicio:"/api/listaSesiones/"+Q().usuario.ID_USUARIO});case 3:n=e.sent,i=[],o=0,s=Lt()(new Date).format("YYYY-MM-DD"),u=Object(ka.a)(n.data),e.prev=8,d=c.a.mark((function e(){var a,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=m.value,o++,e.next=4,Lt()(a.FECHA).format("YYYY-MM-DD");case 4:l=e.sent,t=a.ESTADO.includes("realizada")||a.ESTADO.includes("cancelada")?a.ESTADO.split("-")[0]:s>l?"PR":a.ESTADO.split("-")[0],i.push({campoCont:o,imagen:r.a.createElement("div",null,1===a.PROCESO_TUTORIum.GRUPAL?r.a.createElement(de,{tablas:!0,src:"https://ututor-recursos.s3.amazonaws.com/WhatsApp+Image+2020-08-02+at+5.06.55+PM.jpeg"}):a.ALUMNOs[0].USUARIO.IMAGEN?r.a.createElement(de,{tablas:!0,src:"data:image/jpeg;base64,".concat(a.ALUMNOs[0].USUARIO.IMAGEN)}):r.a.createElement(oa.a,{alt:a.ALUMNOs[0].USUARIO.NOMBRE.replace(/["]+/g,""),className:h.props.classes.large},a.ALUMNOs[0].USUARIO.NOMBRE[0].match(/[a-z]/i)?a.ALUMNOs[0].USUARIO.NOMBRE[0]:a.ALUMNOs[0].USUARIO.NOMBRE[1])),nombre:a.PROCESO_TUTORIum.GRUPAL?r.a.createElement(D.a,{href:"#text-buttons",color:"primary",onClick:function(e){return h.handleOnclickVerAlmunos(e,a.ALUMNOs)}},"Ver Alumnos"):a.ALUMNOs[0]&&a.ALUMNOs[0].USUARIO.NOMBRE?a.ALUMNOs[0].USUARIO.NOMBRE+" "+a.ALUMNOs[0].USUARIO.APELLIDOS:"",fecha:a.FECHA+" / "+a.HORA_INICIO+" - "+a.HORA_FIN,lugar:a.LUGAR,campoMotivoSoli:a.PROCESO_TUTORIum.GRUPAL?"Grupal":a.MOTIVO,campoDescMotivo:a.PROCESO_TUTORIum.GRUPAL?"Grupal":a.DESCRIPCION,tipoTutoria:a.PROCESO_TUTORIum.NOMBRE,btnCancelar:r.a.createElement(D.a,{size:"large",variant:"outlined",color:"secondary",onClick:function(e){return h.handleOnClickCancelar(e,a.ID_SESION,a.ALUMNOs)}},"CANCELAR"),campoEstado:"PR"===t?"Pendiente Registro":"04"===t?"Pendiente":"03"===t?"Reprogramada":"02"===t?"Cancelada":"Realizada",btnPosponer:r.a.createElement(D.a,{size:"large",variant:"contained",color:"primary",onClick:function(e){return h.handleOnClickPosponer(e,a.ID_SESION,a.ALUMNOs,a.ID_PROCESO_TUTORIA,a.PROCESO_TUTORIum.DURACION)}},"REPROGRAMAR"),campoRazonMantenimiento:a.RAZON_MANTENIMIENTO});case 7:case"end":return e.stop()}}),e)})),u.s();case 11:if((m=u.n()).done){e.next=15;break}return e.delegateYield(d(),"t0",13);case 13:e.next=11;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(8),u.e(e.t1);case 20:return e.prev=20,u.f(),e.finish(20);case 23:p={columns:[{title:"N\xb0",field:"campoCont"},{title:"",field:"imagen"},{title:"Alumno",field:"nombre"},{title:"Fecha / Hora",field:"fecha"},{title:"Lugar",field:"lugar"},{title:"Motivo Solicitud",field:"campoMotivoSoli"},{title:"Descripci\xf3n del Motivo",field:"campoDescMotivo"},{title:"Tipo Tutoria",field:"tipoTutoria"},{title:"Cancelar Cita",field:"btnCancelar"},{title:"Reprogramar Cita",field:"btnPosponer"},{title:"Estado",field:"campoEstado"},{title:"Motivo Cancelaci\xf3n",field:"campoRazonMantenimiento"}],data:i},this.setState({sesiones:p});case 25:case"end":return e.stop()}}),e,this,[[8,17,20,23]])})));return function(a,t){return e.apply(this,arguments)}}()},{key:"cumpleValidaciones",value:function(){return 0==this.state.esInvalidoR&&""!==this.state.horaIniR}},{key:"handleOnclickAceptarReprogramacion",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a,t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({esInvalRTotal:!1}),a=Q(),t={sesion:{ID_SESION:this.state.graciasYopsIdSesionR,ID_TUTOR:a.usuario.ID_USUARIO.toString(),ID_PROCESO_TUTORIA:this.state.graciasYopsIdProcesoTuto,FECHA:this.state.fechaR,HORA_INICIO:this.state.horaIniR,HORA_FIN:this.state.horaFinR,ALUMNOS:this.state.graciasYopsIdAlumnoR,RAZON:this.state.yopsRazon_Rep,EMISOR:a.usuario.ID_USUARIO.toString(),RECEPTOR:this.state.graciasYopsIdAlumnoR}},n={servicio:"/api/posponerCita",request:t},e.next=6,$(n);case 6:if(r=e.sent){e.next=9;break}return e.abrupt("return");case 9:r.message?this.setState({mensajilloR:r.message}):r.error?this.setState({mensajilloR:"Ups, Error inesperado... Por favor, int\xe9ntelo m\xe1s tarde."}):(this.setState({mensajilloR:"\xa1 Cita Reprogramada Satisfactoriamente !"}),this.setState({actuTys:!this.state.actuTys})),this.setState({open4:!0});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a,t,n,i,o,s,l,u,m,d,p=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/listaSesiones/"+Q().usuario.ID_USUARIO});case 2:if(a=e.sent){e.next=5;break}return e.abrupt("return");case 5:console.log("arreglo: ",a),t=[],n=0,i=Lt()(new Date).format("YYYY-MM-DD"),s=Object(ka.a)(a.data),e.prev=10,u=c.a.mark((function e(){var a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.value,n++,e.next=4,Lt()(a.FECHA).format("YYYY-MM-DD");case 4:if(o=e.sent){e.next=7;break}return e.abrupt("return",{v:void 0});case 7:s=a.ESTADO.includes("realizada")||a.ESTADO.includes("cancelada")?a.ESTADO.split("-")[0]:i>o?"PR":a.ESTADO.split("-")[0],t.push({campoCont:n,imagen:r.a.createElement("div",null,1===a.PROCESO_TUTORIum.GRUPAL?r.a.createElement(de,{tablas:!0,src:"https://ututor-recursos.s3.amazonaws.com/WhatsApp+Image+2020-08-02+at+5.06.55+PM.jpeg"}):a.ALUMNOs[0].USUARIO.IMAGEN?r.a.createElement(de,{tablas:!0,src:"data:image/jpeg;base64,".concat(a.ALUMNOs[0].USUARIO.IMAGEN)}):r.a.createElement(oa.a,{alt:a.ALUMNOs[0].USUARIO.NOMBRE.replace(/["]+/g,""),className:p.props.classes.large},a.ALUMNOs[0].USUARIO.NOMBRE[0].match(/[a-z]/i)?a.ALUMNOs[0].USUARIO.NOMBRE[0]:a.ALUMNOs[0].USUARIO.NOMBRE[1])),nombre:a.PROCESO_TUTORIum.GRUPAL?r.a.createElement(D.a,{href:"#text-buttons",color:"primary",onClick:function(e){return p.handleOnclickVerAlmunos(e,a.ALUMNOs)}},"Ver Alumnos"):a.ALUMNOs[0]&&a.ALUMNOs[0].USUARIO.NOMBRE?a.ALUMNOs[0].USUARIO.NOMBRE+" "+a.ALUMNOs[0].USUARIO.APELLIDOS:"",fecha:a.FECHA+" / "+a.HORA_INICIO+" - "+a.HORA_FIN,lugar:a.LUGAR,campoMotivoSoli:a.PROCESO_TUTORIum.GRUPAL?"Grupal":a.MOTIVO,campoDescMotivo:a.PROCESO_TUTORIum.GRUPAL?"Grupal":a.DESCRIPCION,tipoTutoria:a.PROCESO_TUTORIum.NOMBRE,btnCancelar:r.a.createElement(D.a,{size:"large",variant:"outlined",color:"secondary",onClick:function(e){return p.handleOnClickCancelar(e,a.ID_SESION,a.ALUMNOs)}},"CANCELAR"),campoEstado:"PR"===s?"Pendiente Registro":"04"===s?"Pendiente":"03"===s?"Reprogramada":"02"===s?"Cancelada":"Realizada",btnPosponer:r.a.createElement(D.a,{size:"large",variant:"contained",color:"primary",onClick:function(e){return p.handleOnClickPosponer(e,a.ID_SESION,a.ALUMNOs,a.ID_PROCESO_TUTORIA,a.PROCESO_TUTORIum.DURACION)}},"REPROGRAMAR"),campoRazonMantenimiento:a.RAZON_MANTENIMIENTO});case 9:case"end":return e.stop()}}),e)})),s.s();case 13:if((l=s.n()).done){e.next=20;break}return e.delegateYield(u(),"t0",15);case 15:if("object"!==typeof(m=e.t0)){e.next=18;break}return e.abrupt("return",m.v);case 18:e.next=13;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(10),s.e(e.t1);case 25:return e.prev=25,s.f(),e.finish(25);case 28:d={columns:[{title:"N\xb0",field:"campoCont"},{title:"",field:"imagen"},{title:"Alumno",field:"nombre"},{title:"Fecha / Hora",field:"fecha"},{title:"Lugar",field:"lugar"},{title:"Motivo Solicitud",field:"campoMotivoSoli"},{title:"Descripci\xf3n del Motivo",field:"campoDescMotivo"},{title:"Tipo Tutoria",field:"tipoTutoria"},{title:"Cancelar Cita",field:"btnCancelar"},{title:"Reprogramar Cita",field:"btnPosponer"},{title:"Estado",field:"campoEstado"},{title:"Motivo Cancelaci\xf3n",field:"campoRazonMantenimiento"}],data:t},this.setState({sesiones:d});case 30:case"end":return e.stop()}}),e,this,[[10,22,25,28]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleOnChangeFecha",value:function(e){this.setState({fechaR:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.open5&&r.a.createElement(Fr,{open:this.handleOnOpenVer,close:this.handleOnCloseVer,alumnos:this.state.arrAlumnoVer}),r.a.createElement(Oa.a,{open:this.state.open,onClose:this.handleOnCloseCancelar,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ea.a,{id:"alert-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,justify:"center"},r.a.createElement(Za.a,{style:{fontSize:70,fill:"orange"}})),r.a.createElement("h3",null," \xbf Est\xe1 seguro de cancelar esta cita ? ")),r.a.createElement(ba.a,null,r.a.createElement(y.a,{elevation:0},r.a.createElement(B.a,{required:!0,autoFocus:!0,fullWidth:!0,name:"Motivo",label:"Ingrese Motivo de Cancelaci\xf3n",onChange:this.handleOnChangeCT,variant:"outlined",rows:10,multiline:!0}),r.a.createElement(G.a,{error:!0},this.state.mensajeError))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{size:"large",variant:"outlined",color:"primary",onClick:this.handleOnCloseCancelar},"No"),r.a.createElement(D.a,{size:"large",variant:"contained",color:"primary",disabled:this.state.esInvalido,onClick:this.handleOnclickAceptarCancelacion},"S\xed"))),r.a.createElement(Oa.a,{open:this.state.open2,onClose:this.handleOnCloseReprogramar,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ea.a,{id:"alert-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,justify:"center"},r.a.createElement(Za.a,{style:{fontSize:70,fill:"orange"}})),r.a.createElement("h3",null," \xbf Est\xe1 seguro de reprogramar esta cita ? ")),r.a.createElement(R.a,{item:!0,md:12,xs:12,style:hc.subtitulo},r.a.createElement("h3",null,"Esta sesi\xf3n de tutoria dura : ".concat(this.state.duraSesion," minutos"))),r.a.createElement(ba.a,null,r.a.createElement(R.a,{container:!0,spacing:2},r.a.createElement(R.a,{item:!0,md:4},r.a.createElement(B.a,{required:!0,margin:"dense",type:"date",id:"Fecha",label:"Nueva Fecha",InputLabelProps:{shrink:!0},onChange:function(a){return e.handleOnChangeFecha(a)},fullWidth:!0})),r.a.createElement(R.a,{item:!0,md:4},r.a.createElement(B.a,{value:this.state.horaIniR,variant:"outlined",required:!0,margin:"dense",type:"time",id:"Hora",label:"Nueva Hora Inicio",InputLabelProps:{shrink:!0},onChange:function(a){return e.handleOnChangeHoraIni(a)},fullWidth:!0})),r.a.createElement(R.a,{item:!0,md:4},r.a.createElement(B.a,{value:this.state.horaFinR,disabled:!0,variant:"outlined",required:!0,margin:"dense",type:"time",id:"Hora fin",label:"Nueva Hora Fin",InputLabelProps:{shrink:!0},onChange:function(a){return e.handleOnChangeHoraFin(a)},fullWidth:!0}))),r.a.createElement("br",null),r.a.createElement(y.a,{elevation:0},r.a.createElement(B.a,{required:!0,autoFocus:!0,fullWidth:!0,name:"dataMotivo",label:"Ingrese raz\xf3n  de Reprogramaci\xf3n de la Cita",variant:"outlined",rows:10,multiline:!0,onChange:this.handleOnChangeCT_Rep,value:this.state.dataMotivo}),r.a.createElement(G.a,{error:!0},this.state.mensajeErrorR))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{size:"large",variant:"outlined",color:"primary",onClick:this.handleOnCloseReprogramar},"No"),r.a.createElement(D.a,{size:"large",variant:"contained",color:"primary",disabled:this.state.esInvalRTotal,onClick:this.handleOnclickAceptarReprogramacion},"S\xed"))),r.a.createElement(Tt,{paperTutor:!0,procesos:[{index:0,titulo:"Pendientes",proceso:function(){return r.a.createElement(ws,{sesiones:e.state.sesiones,estado:"PyR"})}},{index:1,titulo:"Realizadas",proceso:function(){return r.a.createElement(uc,null)}},{index:2,titulo:"Canceladas",proceso:function(){return r.a.createElement(ws,{sesiones:e.state.sesiones,estado:"Cancelada"})}}],paper:!0}),r.a.createElement(Oa.a,{open:this.state.open3,onClose:this.handleOnCloseCitaCancelada,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,justify:"center"},this.state.mensajillo.includes("Satisfactoriamente")?r.a.createElement(Ba.a,{color:"primary",style:{fontSize:70}}):r.a.createElement(qa.a,{color:"error",style:{fontSize:70}}))),r.a.createElement(ba.a,null,"  ",this.state.mensajillo,"   "),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:this.handleOnCloseCitaCancelada},"Aceptar"))),r.a.createElement(Oa.a,{open:this.state.open4,onClose:this.handleOnCloseCitaCancelada_Rep,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,justify:"center"},this.state.mensajilloR.includes("Satisfactoriamente")?r.a.createElement(Ba.a,{color:"primary",style:{fontSize:70}}):r.a.createElement(qa.a,{color:"error",style:{fontSize:70}}))),r.a.createElement(ba.a,null,"  ",this.state.mensajilloR,"   "),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:this.handleOnCloseCitaCancelada_Rep},"Aceptar"))))}}]),t}(n.Component),pc=Object(re.a)(d.f,Object(pe.a)((function(e){return{small:{width:e.spacing(3),height:e.spacing(3)},large:{width:e.spacing(10),height:e.spacing(10),fontSize:"300%"},customContainer:{padding:e.spacing(5),backgroundColor:"#ffffff"}}})))(dc),hc={subtitulo:{textAlign:"center"}},fc=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={procesos:[{index:0,titulo:"",proceso:pc}]},e}return Object(w.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(xa,{titulo:"Citas de mis Alumnos"}),r.a.createElement(Tt,{procesos:this.state.procesos}))}}]),t}(n.Component),Oc={paper:{marginTop:"3%",marginLeft:"3%",marginRight:"3%",display:"flex",flexDirection:"column",alignItems:"left",backgroundImage:""}},gc=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(U.a)(this,t),(n=a.call(this,e)).handleOnOpen=function(e){n.setState({open:!0}),n.state.alumnos=e},n.state={asignaciones:{columns:[{title:"Nombre",field:"nombre"}],data:[{nombre:""}]},alumnos:[],alumnosSeleccionados:[],flag:0},n.establecerData=n.establecerData.bind(Object(M.a)(n)),n.handleOnOpen=n.handleOnOpen.bind(Object(M.a)(n)),n.handleOnClose=n.handleOnClose.bind(Object(M.a)(n)),n.handleOnChangeChecked=n.handleOnChangeChecked.bind(Object(M.a)(n)),n}return Object(w.a)(t,[{key:"establecerData",value:function(e){var a,t=this,n=[],i=Object(ka.a)(e.asignaciones);try{var o=function(){var e=a.value;null!==e.ID_ASIGNACION&&n.push({fecha:Lt()(e.FECHA_ASIGNACION).format("YYYY-MM-DD"),tutoria:e.PROCESO_TUTORIA.NOMBRE,boton:r.a.createElement("div",null,r.a.createElement(D.a,{variant:"outlined",color:"primary",onClick:function(){return t.handleOnOpen(e.ALUMNOS)}},"Ver alumnos")),checkbox:r.a.createElement("div",null,r.a.createElement(va.a,{id:e.ID_ASIGNACION,value:e.ID_ASIGNACION,color:"primary",onChange:function(){return t.handleToggle(e.ID_ASIGNACION,e.ALUMNOS)}}))})};for(i.s();!(a=i.n()).done;)o()}catch(c){i.e(c)}finally{i.f()}var s={columns:[{title:"Fecha de Asignaci\xf3n",field:"fecha"},{title:"Tutoria",field:"tutoria"},{title:"Alumnos",field:"boton"},{title:"Seleccionar",field:"checkbox"}],data:n};this.setState({asignaciones:s})}},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.idTutoria===a.idTutoria&&t.flag===this.state.flag){e.next=5;break}return e.next=3,X({servicio:"/api/asignacion/tutoria/tutor/"+this.props.idTutoria+"/"+Q().usuario.ID_USUARIO});case 3:(n=e.sent)&&this.establecerData(n);case 5:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/asignacion/tutoria/tutor/"+this.props.idTutoria+"/"+Q().usuario.ID_USUARIO});case 2:(a=e.sent)&&this.establecerData(a);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleToggle",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t){var n,r,i,o,s,l=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(ka.a)(t);try{for(i=function(){var e=r.value;-1!==(o=l.state.alumnosSeleccionados.findIndex((function(a){return a===e.ID_ALUMNO})))?l.state.alumnosSeleccionados.splice(o+1,1):l.state.alumnosSeleccionados.push(e.ID_ALUMNO)},n.s();!(r=n.n()).done;)i()}catch(a){n.e(a)}finally{n.f()}return s=this.state.flag+1,this.setState({flag:s}),e.next=6,this.props.escogerAlumnos(this.state.alumnosSeleccionados);case 6:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"handleOnChangeChecked",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t){var n,r,i,o,s,l,u,m,d,p,h,f=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.getElementById(a),0!==this.state.alumnosSeleccionados.length)if(!1===n.checked){r=Object(ka.a)(t);try{for(o=function(){var e=i.value;-1!==(s=f.state.alumnosSeleccionados.findIndex((function(a){return a===e.ID_USUARIO})))&&f.state.alumnosSeleccionados.splice(s,1)},r.s();!(i=r.n()).done;)o()}catch(c){r.e(c)}finally{r.f()}}else{l=Object(ka.a)(t);try{for(l.s();!(u=l.n()).done;)m=u.value,this.state.alumnosSeleccionados.push(m.ID_ALUMNO)}catch(c){l.e(c)}finally{l.f()}}else if(!0===n.checked){d=Object(ka.a)(t);try{for(d.s();!(p=d.n()).done;)h=p.value,this.state.alumnosSeleccionados.push(h.ID_ALUMNO)}catch(c){d.e(c)}finally{d.f()}}return e.next=4,this.props.escogerAlumnos(this.state.alumnosSeleccionados);case 4:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"handleOnClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.open&&r.a.createElement(Fr,{open:this.handleOnOpen,close:this.handleOnClose,alumnos:this.state.alumnos}),r.a.createElement(y.a,{elevation:0,style:Oc.paper},r.a.createElement(Mr,{asignaciones:this.state.asignaciones})))}}]),t}(r.a.Component),bc={paper:{marginTop:"3%",marginLeft:"3%",marginRight:"3%",marginBottom:"3%",display:"flex",alignItems:"left",flexDirection:"row",backgroundImage:""},paper2:{marginTop:"1%",marginLeft:"3%",marginRight:"3%",marginBottom:"3%",display:"flex",flexDirection:"row",alignItems:"left",backgroundImage:""},paper3:{marginTop:"3%",marginLeft:"3%",marginRight:"3%",marginBottom:"3%",display:"flex"}},Ec=function(){var e=Object(l.a)(c.a.mark((function e(a,t,n,r){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.target.value,Lt()(a.target.value,"HH:mm").format("HH:mm")>Lt()("22:30","HH:mm").format("HH:mm")&&(30===r?(document.getElementById("Hora").value="23:30",i=Lt()("23:30","HH:mm").format("HH:mm"),Lt()(a.target.value,"HH:mm").add(r,"minutes").format("HH:mm")):60===r?(document.getElementById("Hora").value="23:00",i=Lt()("23:00","HH:mm").format("HH:mm"),Lt()(a.target.value,"HH:mm").add(r,"minutes").format("HH:mm")):90===r&&(document.getElementById("Hora").value="22:30",i=Lt()("22:30","HH:mm").format("HH:mm"),Lt()("00:00","HH:mm").format("HH:mm"))),e.next=4,n(Object(E.a)(Object(E.a)({},t),{},{horaini:Lt()(i,"HH:mm").format("HH:mm"),horafin:Lt()(i,"HH:mm").add(r,"minutes").format("HH:mm")}));case 4:case"end":return e.stop()}}),e)})));return function(a,t,n,r){return e.apply(this,arguments)}}(),vc=function(){var e=r.a.useState({usuarioCodigo:0,usuarioNombre:"",fecha:Lt()(new Date).format("YYYY-MM-DD"),horaini:"",horafin:"",lugar:""}),a=Object(u.a)(e,2),t=a[0],i=a[1],o=Object(n.useState)([]),s=Object(u.a)(o,2),m=s[0],d=s[1],p=Object(n.useState)(""),h=Object(u.a)(p,2),f=h[0],O=h[1],g=Object(n.useState)([]),b=Object(u.a)(g,2),v=b[0],j=b[1],S=Object(n.useState)(""),A=Object(u.a)(S,2),C=A[0],x=A[1],k=Object(n.useState)([]),N=Object(u.a)(k,2),T=N[0],U=N[1],w=Object(n.useState)(""),M=Object(u.a)(w,2),L=M[0],P=M[1],F=Object(n.useState)(0),G=Object(u.a)(F,2),q=G[0],_=G[1],H=Object(n.useState)(!0),z=Object(u.a)(H,2),V=(z[0],z[1]),W=Object(n.useState)([]),Y=Object(u.a)(W,2),J=Y[0],K=Y[1],Z=Object(n.useState)({mensajeStrong:"",mensajeStrongError:"por favor revisalos!",mensajeStrongExito:"satisfactoriamente!",mensajeError:"Existen errores al completar el formulario",mensajeExito:"Facultad registrada",mensaje:""}),ee=Object(u.a)(Z,2),ae=ee[0],te=ee[1],ne=Object(n.useState)({severidad:"error",severW:"warning",severE:"error",severS:"success"}),re=Object(u.a)(ne,2),ie=re[0],oe=re[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/api/facultad/tutor/"+Q().usuario.ID_USUARIO,t={servicio:a},e.next=4,X(t);case 4:(n=e.sent)&&(d(n.facultades),n.facultades[0]&&O(n.facultades[0].FACULTAD.ID_PROGRAMA));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),{}),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/api/programa/lista/tutor/"+Q().usuario.ID_USUARIO+"/"+f,t={servicio:a},e.next=4,X(t);case 4:(n=e.sent)&&(j(n.programas),n.programas[0]&&(x(n.programas[0].ID_PROGRAMA),console.log("asdf",n.programas)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!=f&&function(){e.apply(this,arguments)}()}),[f]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={servicio:"/api/tutoriagrupal/"+C},e.next=4,X(a);case 4:(t=e.sent)!==[]&&(U(t.tutoria),_(t.tutoria[0].DURACION),t.tutoria[0]&&(P(t.tutoria[0].ID_PROCESO_TUTORIA),console.log("asdf",t.tutoria)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==f&&""!==C&&function(){e.apply(this,arguments)}()}),[C]);var ce=function(){var e=Object(l.a)(c.a.mark((function e(a){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.fecha&&""!==t.horaini&&""!==t.horafin&&J!==[]){e.next=5;break}oe({severidad:"error"}),te({mensaje:"Complete los campos obligatorios (*)"}),e.next=11;break;case 5:return n={sesion:{ID_TUTOR:Q().usuario.ID_USUARIO,ID_PROCESO_TUTORIA:L,LUGAR:t.lugar,FECHA:t.fecha,HORA_INICIO:t.horaini,HORA_FIN:t.horafin,ALUMNOS:J}},r={servicio:"/api/crearSesionGrupal",request:n},e.next=9,$(r);case 9:(i=e.sent)&&(oe({severidad:"success"}),te({mensaje:"La sesi\xf3n se ha registrado satisfactoriamente"}),(i.message||i.error)&&(oe({severidad:i.message?"warning":"error"}),te({mensaje:i.message?i.message:"Problema de conexi\xf3n"})));case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(se,{severity:ie.severidad,titulo:"Observacion:",alerta:ae}),r.a.createElement(y.a,{style:bc.paper},r.a.createElement(R.a,{container:!0,md:12,style:bc.paper2,spacing:3},r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(I.a,{variant:"h6"},"Datos Sesi\xf3n")),r.a.createElement(R.a,{item:!0,md:3},r.a.createElement(Tr,{setPrDisabled:V,facultades:m,facultad:f,setFacultad:O})),r.a.createElement(R.a,{item:!0,md:2,style:{marginRight:"5%"}},r.a.createElement(Yt,{programas:v,programa:C,setPrograma:x})),r.a.createElement(R.a,{item:!0,md:3},r.a.createElement(wr,{procesosTutoria:T,procesoTutoria:L,setProcesoTutoria:P})),r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(I.a,{variant:"h6"},"")),r.a.createElement(R.a,{item:!0,md:3},r.a.createElement(B.a,{disabled:""===L,required:!0,margin:"dense",type:"date",id:"Fecha",label:"Fecha",defaultValue:t.fecha,InputLabelProps:{shrink:!0},onChange:function(e){return function(e,a,t){t(Object(E.a)(Object(E.a)({},a),{},{fecha:e.target.value}))}(e,t,i)},fullWidth:!0})),r.a.createElement(R.a,{item:!0,md:3},r.a.createElement(B.a,{disabled:""===L,required:!0,margin:"dense",type:"time",id:"Hora",label:"Hora Inicio",InputLabelProps:{shrink:!0},onChange:function(e){return Ec(e,t,i,q)},fullWidth:!0})),r.a.createElement(R.a,{item:!0,md:3},r.a.createElement(B.a,{disabled:!0,margin:"dense",type:"time",id:"Hora fin",label:"Hora Fin",InputLabelProps:{shrink:!0},value:t.horafin,fullWidth:!0})),r.a.createElement(R.a,{item:!0,md:3},r.a.createElement(B.a,{disabled:""===L,id:"lugar",label:"Lugar",InputLabelProps:{shrink:!0},onChange:function(e){return function(e,a,t){e.target.value.length>45&&(document.getElementById("lugar").value=e.target.value.substring(0,45)),t(Object(E.a)(Object(E.a)({},a),{},{lugar:e.target.value}))}(e,t,i)},fullWidth:!0})))),L&&r.a.createElement(R.a,{md:12},r.a.createElement(gc,{idTutoria:L,escogerAlumnos:function(e){K(e)}})),L&&r.a.createElement(R.a,{style:bc.paper2,justify:"flex-end"},r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:ce},"Guardar")))},jc=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={},e}return Object(w.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(xa,{titulo:"Crear sesiones grupales"}),r.a.createElement(vc,null))}}]),t}(n.Component),Sc={paper:{marginTop:"3%",marginLeft:"3%",marginRight:"3%",marginBottom:"4%",flexDirection:"row",alignItems:"center",backgroundImage:""},paperitem:{marginTop:"2%",marginLeft:"4%"},foto:(lc={marginTop:"2%",marginLeft:"4%"},Object(N.a)(lc,"marginTop","4%"),Object(N.a)(lc,"flexDirection","row"),Object(N.a)(lc,"alignItems","center"),Object(N.a)(lc,"backgroundImage",""),lc)},Ac=function(){var e=Object(l.a)(c.a.mark((function e(a,t,n,r){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.target.value,Lt()(a.target.value,"HH:mm").format("HH:mm")>Lt()("22:30","HH:mm").format("HH:mm")&&(30===r?(document.getElementById("Hora").value="23:30",i=Lt()("23:30","HH:mm").format("HH:mm"),Lt()(a.target.value,"HH:mm").add(r,"minutes").format("HH:mm")):60===r?(document.getElementById("Hora").value="23:00",i=Lt()("23:00","HH:mm").format("HH:mm"),Lt()(a.target.value,"HH:mm").add(r,"minutes").format("HH:mm")):90===r&&(document.getElementById("Hora").value="22:30",i=Lt()("22:30","HH:mm").format("HH:mm"),Lt()("00:00","HH:mm").format("HH:mm"))),n(Object(E.a)(Object(E.a)({},t),{},{horaini:i})),e.next=5,n(Object(E.a)(Object(E.a)({},t),{},{horaini:Lt()(i,"HH:mm").format("HH:mm"),horafin:Lt()(i,"HH:mm").add(r,"minutes").format("HH:mm")}));case 5:case"end":return e.stop()}}),e)})));return function(a,t,n,r){return e.apply(this,arguments)}}(),Cc=function(){var e,a=r.a.useState({alumnoCodigo:0,alumnoNombre:"",alumnos:[],fecha:Lt()(new Date).format("YYYY-MM-DD"),horaini:"",horafin:"",resultado:"",lugar:"",descripcion:"",apoyo:[]}),t=Object(u.a)(a,2),i=t[0],o=t[1],s=Object(n.useState)({mensajeStrong:"",mensajeStrongError:"por favor revisalos!",mensajeStrongExito:"satisfactoriamente!",mensajeError:"Existen errores al completar el formulario",mensajeExito:"Facultad registrada",mensaje:""}),m=Object(u.a)(s,2),d=m[0],p=m[1],h=Object(n.useState)({severidad:"error",severW:"warning",severE:"error",severS:"success"}),f=Object(u.a)(h,2),O=f[0],g=f[1],b=r.a.useState(!1),v=Object(u.a)(b,2),j=v[0],S=v[1],A=Object(n.useState)([]),C=Object(u.a)(A,2),x=C[0],k=C[1],T=Object(n.useState)(!0),U=Object(u.a)(T,2),w=U[0],M=U[1],L=Object(n.useState)(!0),P=Object(u.a)(L,2),F=P[0],G=P[1],q=Object(n.useState)([]),_=Object(u.a)(q,2),H=_[0],z=_[1],V=Object(n.useState)(""),W=Object(u.a)(V,2),Y=W[0],J=W[1],K=Object(n.useState)([]),Z=Object(u.a)(K,2),ee=Z[0],ae=Z[1],te=Object(n.useState)(""),ne=Object(u.a)(te,2),re=ne[0],ie=ne[1],oe=Object(n.useState)([]),ce=Object(u.a)(oe,2),le=ce[0],ue=ce[1],me=Object(n.useState)(""),de=Object(u.a)(me,2),pe=de[0],he=de[1],fe=Object(n.useState)({campo:"",check:!1}),Oe=Object(u.a)(fe,2),ge=(Oe[0],Oe[1]),be=Object(n.useState)(0),Ee=Object(u.a)(be,2),ve=Ee[0],je=Ee[1];function Se(){return(Se=Object(l.a)(c.a.mark((function e(a,t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={servicio:"/api/alumno/buscar/"+a},e.next=4,X(r);case 4:(i=e.sent)&&(t.alumnos.pop(),null===i.alumno?(g({severidad:"error"}),p({mensaje:"No existe ning\xfan alumno con ese c\xf3digo"}),n(Object(E.a)(Object(E.a)({},t),{},{alumnoNombre:""}))):(g({severidad:""}),p({mensaje:""}),t.alumnos.push(i.alumno.ID_ALUMNO),n(Object(E.a)(Object(E.a)({},t),{},{alumnoNombre:i.alumno.USUARIO.NOMBRE+" "+i.alumno.USUARIO.APELLIDOS}))));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/api/facultad/tutor/"+Q().usuario.ID_USUARIO,t={servicio:a},e.next=4,X(t);case 4:(n=e.sent)&&(z(n.facultades),n.facultades[0]&&J(n.facultades[0].FACULTAD.ID_PROGRAMA));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),{}),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/api/programa/lista/tutor/"+Q().usuario.ID_USUARIO+"/"+Y,t={servicio:a},e.next=4,X(t);case 4:(n=e.sent)&&(ae(n.programas),n.programas[0]&&(ie(n.programas[0].ID_PROGRAMA),console.log("asdf",n.programas)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!=Y&&function(){e.apply(this,arguments)}()}),[Y]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={servicio:"/api/tutoria/lista/"+re},e.next=4,X(a);case 4:(t=e.sent)!==[]&&(ue(t.tutoria),je(t.tutoria[0].DURACION));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==Y&&""!==re&&function(){e.apply(this,arguments)}()}),[re]);var Ae=function(){S(!1),g({severidad:""}),p({mensaje:""}),o({alumnoCodigo:0,alumnoNombre:"",alumnos:[],fecha:Lt()(new Date).format("YYYY-MM-DD"),horaini:"",horafin:"",resultado:"",lugar:"",descripcion:"",apoyo:[]})},Ce=function(){var e=Object(l.a)(c.a.mark((function e(a,t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(){var e=Object(l.a)(c.a.mark((function e(a,n){var r,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g({severidad:""}),p({mensaje:""}),""!==t.fecha&&""!==t.horaini&&""!==t.horafin&&""!==t.resultado&&t.alumnos!==[]){e.next=8;break}g({severidad:"error"}),p({mensaje:"Complete los campos obligatorios (*)"}),n(!1),e.next=14;break;case 8:return r={sesion:{ID_TUTOR:Q().usuario.ID_USUARIO,ID_PROCESO_TUTORIA:t.procesoTutoria,LUGAR:t.lugar,MOTIVO:"PUCP",DESCRIPCION:t.descripcion,FECHA:t.fecha,HORA_INICIO:t.horaini,HORA_FIN:t.horafin,RESULTADO:t.resultado,COMPROMISOS:x,AREAS_APOYO:t.apoyo,ALUMNOS:t.alumnos}},i={servicio:"/api/registrarSesion",request:r},e.next=12,$(i);case 12:(o=e.sent)&&(o.message?(g({severidad:"error"}),p({mensaje:o.message})):o.error?(g({severidad:"error"}),p({mensaje:"Ocurri\xf3 un error en la operaci\xf3n, intente de nuevo"})):(g({severidad:"success"}),p({mensaje:"La sesi\xf3n se ha registrado satisfactoriamente"})));case 14:a(!0);case 15:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}());case 2:return r=e.sent,e.next=5,new Promise(function(){var e=Object(l.a)(c.a.mark((function e(a,t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(">Resul=>",r),!r){e.next=5;break}return e.next=4,setTimeout(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ae();case 1:case"end":return e.stop()}}),e)}))),3e3);case 4:window.location.reload();case 5:a();case 6:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(Object(E.a)(Object(E.a)({},i),{},{procesoTutoria:pe}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==pe&&function(){e.apply(this,arguments)}()}),[pe]),r.a.createElement("div",null,r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:function(){S(!0)}},"Registrar Sesi\xf3n"),r.a.createElement(Oa.a,{open:j,onClose:Ae,"aria-labelledby":"form-dialog-title"},r.a.createElement(se,{severity:O.severidad,titulo:"Observacion:",alerta:d}),r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,justify:"space-between",direction:"row"},r.a.createElement(R.a,{item:!0,md:9},r.a.createElement(I.a,{variant:"h5"},"Registrar Sesi\xf3n")))),r.a.createElement(ba.a,null,r.a.createElement(y.a,{elevation:0,style:Sc.paper},r.a.createElement(R.a,{container:!0,md:12,spacing:3},r.a.createElement(R.a,{item:!0,md:4},r.a.createElement(B.a,{required:!0,id:"codigo  ",label:"C\xf3digo",variant:"outlined",onChange:function(e){return function(e,a,t){t(Object(E.a)(Object(E.a)({},a),{},{alumnoCodigo:e.target.value}))}(e,i,o)},fullWidth:!0})),r.a.createElement(ye.a,{color:"primary",onClick:function(){return function(e,a,t){return Se.apply(this,arguments)}(i.alumnoCodigo,i,o)}},r.a.createElement(jo.a,{color:"primary",fontsize:"large"})),r.a.createElement(R.a,{item:!0,style:{flexGrow:1}},r.a.createElement(B.a,{"aria-readonly":!0,id:"alumno",label:"Alumno",value:i.alumnoNombre,fullWidth:!0})),r.a.createElement(R.a,{item:!0,md:6},r.a.createElement(Tr,{setPrDisabled:G,facultades:H,facultad:Y,setFacultad:J})),r.a.createElement(R.a,{item:!0,md:6},r.a.createElement(Yt,{prDisabled:F,setPDisabled:M,programas:ee,programa:re,setPrograma:ie})),r.a.createElement(R.a,{item:!0,md:12,style:{marginBottom:"2%"}},r.a.createElement(wr,{pDisabled:w,procesosTutoria:le,procesoTutoria:pe,setProcesoTutoria:he})),r.a.createElement(R.a,{item:!0,md:4},r.a.createElement(B.a,(e={required:!0,disabled:null===pe,margin:"dense",type:"date",id:"Fecha",label:"Fecha",defaultValue:i.fecha,InputLabelProps:{shrink:!0}},Object(N.a)(e,"defaultValue",Lt()(new Date).format("YYYY-MM-DD")),Object(N.a)(e,"onChange",(function(e){return function(e,a,t){t(Object(E.a)(Object(E.a)({},a),{},{fecha:e.target.value}))}(e,i,o)})),Object(N.a)(e,"fullWidth",!0),e))),r.a.createElement(R.a,{item:!0,md:4},r.a.createElement(B.a,{required:!0,disabled:null===pe,margin:"dense",type:"time",id:"Hora",label:"Hora Inicio",InputLabelProps:{shrink:!0},onChange:function(e){return Ac(e,i,o,ve)},fullWidth:!0})),r.a.createElement(R.a,{item:!0,md:4},r.a.createElement(B.a,{required:!0,disabled:!0,margin:"dense",type:"time",id:"Hora fin",label:"Hora Fin",InputLabelProps:{shrink:!0},value:i.horafin,fullWidth:!0})),r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(B.a,{disabled:null===pe,id:"lugar",label:"Lugar",onChange:function(e){return function(e,a,t){e.target.value.length>45&&(document.getElementById("lugar").value=e.target.value.substring(0,45)),t(Object(E.a)(Object(E.a)({},a),{},{lugar:e.target.value}))}(e,i,o)},fullWidth:!0})),r.a.createElement(Vs,{plan:x,setPlan:k,ultimoCompromiso:function(e){ge(e)}}),r.a.createElement(R.a,{item:!0,md:12,justify:"center"},r.a.createElement(y.a,{elevation:0,style:Sc.paperitem},r.a.createElement(I.a,{variant:"h6"},"Resultados"))),r.a.createElement(R.a,{item:!0,md:12,justify:"flex-start"},r.a.createElement(Ys,{strecht:!0,titulo:"",obtenerEtiquetas:function(e){return function(e){var a=[];e.forEach((function(e){e.agregar&&a.push(e.id)})),i.apoyo=a,o(Object(E.a)({},i))}(e)},enlace:"/api/listaAreasApoyo",small:!0,label:"Derivar a unidades de Apoyo",ID:"ID_AREA_APOYO"})),r.a.createElement(R.a,{item:!0,md:12,container:!0,justify:"center"},r.a.createElement(B.a,{multiline:!0,rows:4,id:"res",variant:"outlined",onChange:function(e){return function(e,a,t){e.target.value.length>45&&(document.getElementById("res").value=e.target.value.substring(0,250)),t(Object(E.a)(Object(E.a)({},a),{},{resultado:e.target.value}))}(e,i,o)},fullWidth:!0}))))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"outlined",onClick:Ae,color:"primary"},"Cancelar"),r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:function(e){return Ce(e,i,o)}},"Guardar"))))};var Ic=function(e){return e.tutores?r.a.createElement(wt.a,{title:"",columns:e.tutores.columns,data:e.tutores.data,exportar:!0}):r.a.createElement(Cn,{mensaje:"Cargando Tutores",size:"lg",base:!0})},Rc={paper:{marginTop:"1.5%",display:"flex",flexDirection:"column",alignItems:"left",backgroundImage:""}},yc=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={cargando:!1,tutores:void 0,openSolicitarTutor:!1,openVerDispo:!1,_tutorFijo:0,mensajillo:"",botonDisable:!1,actualizar:!1},e.handleOnClickSolicitarTutor=e.handleOnClickSolicitarTutor.bind(Object(M.a)(e)),e.handleOnClose=e.handleOnClose.bind(Object(M.a)(e)),e.handleOnClickVerDispo=e.handleOnClickVerDispo.bind(Object(M.a)(e)),e.handleOnCloseVerDispo=e.handleOnCloseVerDispo.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"handleOnClickSolicitarTutor",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t){var n,r,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({_tutorFijo:t});case 2:return n=Q(),r={solicitud:{ID_PROCESO_TUTORIA:this.props.frmIdProceso,ID_TUTOR:this.state._tutorFijo,ID_ALUMNO:n.usuario.ID_USUARIO}},i={servicio:"/api/solicitud/enviar",request:r},e.next=7,$(i);case 7:if(o=e.sent){e.next=10;break}return e.abrupt("return");case 10:o.error||!o?this.setState({mensajillo:"UpS, Error Inesperado!    Por favor, Int\xe9ntelo m\xe1s tarde."}):o&&(this.setState({mensajillo:"\xa1 Solicitud Registrada Satisfactoriamente ! \n Espere a que el Tutor Acepte su solicitud, Por favor, revise su bandeja."}),this.setState({botonDisable:!0}),this.setState({actualizar:!this.state.actualizar})),this.setState({openSolicitarTutor:!0});case 12:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"handleOnClose",value:function(){this.setState({openSolicitarTutor:!1}),this.setState({botonDisable:!0})}},{key:"handleOnClickVerDispo",value:function(e,a,t){this.props.handleFiltroTutor({id:a,nombre:t}),this.props.modoBatallador(!0)}},{key:"handleOnCloseVerDispo",value:function(){this.setState({openVerDispo:!1})}},{key:"shouldComponentUpdate",value:function(e,a){return e.actualizar!=this.state.actualizar}},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t){var n,i,o,s,l,u,m,d,p,h=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.actualizar==this.state.actualizar){e.next=24;break}return this.setState({cargando:!0}),e.next=4,X({servicio:"/api/tutor/estadosolicitud/"+Q().usuario.ID_USUARIO+"/"+this.props.frmIdProceso});case 4:if(!(n=e.sent)){e.next=24;break}if(this.props.actualizarVisibilidadColumnas(n.estado),0!==n.estado){e.next=21;break}return this.setState({cargando:!0}),e.next=11,X({servicio:"/api/tutor/lista/"+Q().usuario.ROL_X_USUARIO_X_PROGRAMAs[0].ID_PROGRAMA});case 11:i=e.sent,o=[],s=0,l=Object(ka.a)(i.tutores);try{for(m=function(){var e=u.value;s++,o.push({campoCont:s,imagen:r.a.createElement("div",null,e.USUARIO.IMAGEN?r.a.createElement(de,{tablas:!0,src:"data:image/jpeg;base64,".concat(e.USUARIO.IMAGEN)}):r.a.createElement(oa.a,{alt:e.USUARIO.NOMBRE.replace(/["]+/g,""),className:h.props.classes.large},e.USUARIO.NOMBRE[0].match(/[a-z]/i)?e.USUARIO.NOMBRE[0]:e.USUARIO.NOMBRE[1])),nombre:e.USUARIO.NOMBRE+" "+e.USUARIO.APELLIDOS,correo:e.USUARIO.CORREO,btnVerDisponibilidad:r.a.createElement(D.a,{size:"large",variant:"outlined",color:"secondary",onClick:function(a){return h.handleOnClickVerDispo(a,e.ID_TUTOR,e.USUARIO.NOMBRE+" "+e.USUARIO.APELLIDOS)}},"Ver Disponibilidad"),btnSolicitarTutor:r.a.createElement(D.a,{size:"large",variant:"contained",color:"primary",onClick:function(a){return h.handleOnClickSolicitarTutor(a,e.ID_TUTOR)},disabled:h.state.botonDisable},"SOLICITAR TUTOR")})},l.s();!(u=l.n()).done;)m()}catch(a){l.e(a)}finally{l.f()}return d={columns:[{title:"N\xb0",field:"campoCont"},{title:"",field:"imagen"},{title:"Tutor",field:"nombre"},{title:"Correo Electr\xf3nico",field:"correo"},{title:"",field:"btnVerDisponibilidad"},{title:"",field:"btnSolicitarTutor"}],data:o},e.next=19,this.setState({tutores:d,cargando:!1});case 19:e.next=24;break;case 21:return p={columns:[{title:"Observaci\xf3n",field:"mensaje"},{title:"Tutor",field:"nombre"},{title:"Correo electr\xf3nico",field:"correo"}],data:[{mensaje:n.mensaje,nombre:n.tutor.USUARIO.NOMBRE+" "+n.tutor.USUARIO.APELLIDOS,correo:n.tutor.USUARIO.CORREO}]},e.next=24,this.setState({tutores:p,cargando:!1});case 24:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(){var e=Object(l.a)(c.a.mark((function e(a){var t,n,i,o,s,l,u,m,d,p=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.frmIdProceso===this.props.frmIdProceso){e.next=24;break}return this.setState({cargando:!0}),e.next=4,X({servicio:"/api/tutor/estadosolicitud/"+Q().usuario.ID_USUARIO+"/"+a.frmIdProceso});case 4:if(!(t=e.sent)){e.next=24;break}if(this.props.actualizarVisibilidadColumnas(t.estado),0!==t.estado){e.next=21;break}return this.setState({cargando:!0}),e.next=11,X({servicio:"/api/tutor/lista/"+Q().usuario.ROL_X_USUARIO_X_PROGRAMAs[0].ID_PROGRAMA});case 11:n=e.sent,i=[],o=0,s=Object(ka.a)(n.tutores);try{for(u=function(){var e=l.value;o++,i.push({campoCont:o,imagen:r.a.createElement("div",null,e.USUARIO.IMAGEN?r.a.createElement(de,{tablas:!0,src:"data:image/jpeg;base64,".concat(e.USUARIO.IMAGEN)}):r.a.createElement(oa.a,{alt:e.USUARIO.NOMBRE.replace(/["]+/g,""),className:p.props.classes.large},e.USUARIO.NOMBRE[0].match(/[a-z]/i)?e.USUARIO.NOMBRE[0]:e.USUARIO.NOMBRE[1])),nombre:e.USUARIO.NOMBRE+" "+e.USUARIO.APELLIDOS,correo:e.USUARIO.CORREO,btnVerDisponibilidad:r.a.createElement(D.a,{size:"large",variant:"outlined",color:"secondary",onClick:function(a){return p.handleOnClickVerDispo(a,e.ID_TUTOR,e.USUARIO.NOMBRE+" "+e.USUARIO.APELLIDOS)}},"Ver Disponibilidad"),btnSolicitarTutor:r.a.createElement(D.a,{size:"large",variant:"contained",color:"primary",onClick:function(a){return p.handleOnClickSolicitarTutor(a,e.ID_TUTOR)},disabled:p.state.botonDisable},"SOLICITAR TUTOR")})},s.s();!(l=s.n()).done;)u()}catch(c){s.e(c)}finally{s.f()}return m={columns:[{title:"N\xb0",field:"campoCont"},{title:"",field:"imagen"},{title:"Tutor",field:"nombre"},{title:"Correo electr\xf3nico",field:"correo"},{title:"",field:"btnVerDisponibilidad"},{title:"",field:"btnSolicitarTutor"}],data:i},e.next=19,this.setState({tutores:m,cargando:!1});case 19:e.next=24;break;case 21:return d={columns:[{title:"Observaci\xf3n",field:"mensaje"},{title:"Tutor",field:"nombre"},{title:"Correo electr\xf3nico",field:"correo"}],data:[{mensaje:t.mensaje,nombre:t.tutor.USUARIO.NOMBRE+" "+t.tutor.USUARIO.APELLIDOS,correo:t.tutor.USUARIO.CORREO}]},e.next=24,this.setState({tutores:d,cargando:!1});case 24:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a,t,n,i,o,s,l,u,m,d=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/tutor/estadosolicitud/"+Q().usuario.ID_USUARIO+"/"+this.props.frmIdProceso});case 2:if(!(a=e.sent)){e.next=23;break}if(this.props.actualizarVisibilidadColumnas(a.estado),0!==a.estado){e.next=20;break}return this.setState({cargando:!0}),e.next=9,X({servicio:"/api/tutor/lista/"+Q().usuario.ROL_X_USUARIO_X_PROGRAMAs[0].ID_PROGRAMA});case 9:t=e.sent,console.log("arreglo: ",t),n=[],i=0,o=Object(ka.a)(t.tutores);try{for(l=function(){var e=s.value;i++,n.push({campoCont:i,imagen:r.a.createElement("div",null,e.USUARIO.IMAGEN?r.a.createElement(de,{tablas:!0,src:"data:image/jpeg;base64,".concat(e.USUARIO.IMAGEN)}):r.a.createElement(oa.a,{alt:e.USUARIO.NOMBRE.replace(/["]+/g,""),className:d.props.classes.large},e.USUARIO.NOMBRE[0].match(/[a-z]/i)?e.USUARIO.NOMBRE[0]:e.USUARIO.NOMBRE[1])),nombre:e.USUARIO.NOMBRE+" "+e.USUARIO.APELLIDOS,correo:e.USUARIO.CORREO,btnVerDisponibilidad:r.a.createElement(D.a,{size:"large",variant:"outlined",color:"secondary",onClick:function(a){return d.handleOnClickVerDispo(a,e.ID_TUTOR,e.USUARIO.NOMBRE+" "+e.USUARIO.APELLIDOS)}},"Ver Disponibilidad"),btnSolicitarTutor:r.a.createElement(D.a,{size:"large",variant:"contained",color:"primary",onClick:function(a){return d.handleOnClickSolicitarTutor(a,e.ID_TUTOR)},disabled:d.state.botonDisable},"SOLICITAR TUTOR")})},o.s();!(s=o.n()).done;)l()}catch(c){o.e(c)}finally{o.f()}return u={columns:[{title:"N\xb0",field:"campoCont"},{title:"",field:"imagen"},{title:"Tutor",field:"nombre"},{title:"Correo electr\xf3nico",field:"correo"},{title:"",field:"btnVerDisponibilidad"},{title:"",field:"btnSolicitarTutor"}],data:n},e.next=18,this.setState({tutores:u,cargando:!1});case 18:e.next=23;break;case 20:return m={columns:[{title:"Observaci\xf3n",field:"mensaje"},{title:"Tutor",field:"nombre"},{title:"Correo electr\xf3nico",field:"correo"}],data:[{mensaje:a.mensaje,nombre:a.tutor.USUARIO.NOMBRE+" "+a.tutor.USUARIO.APELLIDOS,correo:a.tutor.USUARIO.CORREO}]},e.next=23,this.setState({tutores:m,cargando:!1});case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return!this.state.tutores||this.state.cargando?r.a.createElement(Cn,{mensaje:"Cargando Tutores",size:"md",base:!0,fondoBlanco:!0}):r.a.createElement("div",null,r.a.createElement(Oa.a,{open:this.state.openSolicitarTutor,onClose:this.handleOnClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,justify:"center"},this.state.mensajillo.includes("Satisfactoriamente")?r.a.createElement(Ba.a,{color:"primary",style:{fontSize:70}}):r.a.createElement(qa.a,{color:"error",style:{fontSize:70}}))),r.a.createElement(ba.a,null,this.state.mensajillo),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:this.handleOnClose},"Aceptar"))),r.a.createElement(y.a,{elevation:0,style:Rc.paper},r.a.createElement(Ic,{tutores:this.state.tutores})),r.a.createElement(Oa.a,{open:this.state.openVerDispo,onClose:this.handleOnCloseVerDispo,"aria-labelledby":"form-dialog-title"},r.a.createElement(ba.a,null,r.a.createElement(R.a,{container:!0,xs:12},r.a.createElement(y.a,{style:Rc.paper},">> Redireccionando al calendario de disponibilidades de tutores..."))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{size:"large",variant:"contained",color:"primary",onClick:this.handleOnCloseVerDispo},"OK"))))}}]),t}(n.Component),xc=Object(pe.a)((function(e){return{small:{width:e.spacing(3),height:e.spacing(3)},large:{width:e.spacing(10),height:e.spacing(10),fontSize:"300%"},customContainer:{padding:e.spacing(5),backgroundColor:"#ffffff"}}}))(yc),kc=["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"],Dc=["","Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Setiembre","Octubre","Noviembre","Diciembre"],Nc={paper:{marginTop:"3%",marginLeft:"2%",marginRight:"2%"},chip:{textAlign:"center"}},Tc=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).handleOnChangeCT=function(a){0===a.target.value.length?e.setState({errorDesc:!0}):e.setState({errorDesc:!1}),e.setState(Object(N.a)({},a.target.name,a.target.value))},e.state={duracionProceso:90,lstMotivos:{motivos:[{ID:1,NOMBRE:"Acad\xe9mico"},{ID:2,NOMBRE:"Acad\xe9mico Administrativo"},{ID:3,NOMBRE:"Vocacional"},{ID:4,NOMBRE:"Personal--Familiar"},{ID:5,NOMBRE:"Personal--Individual"},{ID:6,NOMBRE:"Personal--Econ\xf3mico"},{ID:7,NOMBRE:"Personal--Psicol\xf3gico"},{ID:8,NOMBRE:"Otro"}]},_motivoSelecc:"",descripcion:"",open:!1,openV:!1,mensajillo:"",horaIniR:"",horaFinR:"",errorDesc:!1,horaOcupada:!1},e.handleOnChangeMotivo=e.handleOnChangeMotivo.bind(Object(M.a)(e)),e.handleOnClickSolicitarCita=e.handleOnClickSolicitarCita.bind(Object(M.a)(e)),e.handleOnChangeCT=e.handleOnChangeCT.bind(Object(M.a)(e)),e.handleOnClick=e.handleOnClick.bind(Object(M.a)(e)),e.handleOnClose=e.handleOnClose.bind(Object(M.a)(e)),e.handleOnCloseV=e.handleOnCloseV.bind(Object(M.a)(e)),e.handleOnChangeHoraIni=e.handleOnChangeHoraIni.bind(Object(M.a)(e)),e.handleOnChangeHoraFin=e.handleOnChangeHoraFin.bind(Object(M.a)(e)),e.handleFocusOutHoraIni=e.handleFocusOutHoraIni.bind(Object(M.a)(e)),e.cumpleValidacion=e.cumpleValidacion.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"handleOnClick",value:function(){this.setState({open:!0})}},{key:"handleOnClose",value:function(){this.setState({open:!1}),this.props.onCloseFrm()}},{key:"handleOnCloseV",value:function(){this.setState({openV:!1})}},{key:"handleOnChangeMotivo",value:function(e){void 0!==e.NOMBRE?this.setState({_motivoSelecc:e.NOMBRE}):this.setState({_motivoSelecc:"Acad\xe9mico"})}},{key:"cumpleValidacion",value:function(){return""!==this.state.descripcion&&""!==this.state.horaIniR}},{key:"handleOnClickSolicitarCita",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a,t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cumpleValidacion()){e.next=13;break}return a=Q(),t={sesion:{ID_TUTOR:this.props.dispo.ID_TUTOR,ID_PROCESO_TUTORIA:this.props.idPro,LUGAR:this.props.dispo.LUGAR,MOTIVO:this.state._motivoSelecc,DESCRIPCION:this.state.descripcion,FECHA:this.props.dispo.FECHA,HORA_INICIO:this.state.horaIniR,HORA_FIN:this.state.horaFinR,ALUMNOS:[a.usuario.ID_USUARIO]}},n={servicio:"/api/registrarCita",request:t},e.next=6,$(n);case 6:if(r=e.sent){e.next=9;break}return e.abrupt("return");case 9:r.message?this.setState({mensajillo:r.message}):r.error?this.setState({mensajillo:"Ups, Error Inesperado.   Por favor, Int\xe9ntelo m\xe1s tarde."}):(this.setState({mensajillo:"\xa1 Sesi\xf3n Registrada Satisfactoriamente !"}),this.props.onChange({actualizaMensajillo:!0})),this.setState({open:!0}),e.next=15;break;case 13:this.setState({mensajillo:"\xa1 Complete todos los campos, por favor !"}),this.setState({openV:!0});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validarEntradaCT",value:function(e){}},{key:"handleFocusOutHoraIni",value:function(){var e=this.props.dispo.HORA_INICIO.slice(0,2),a=this.props.dispo.HORA_INICIO.slice(-2),t=this.props.dispo.HORA_FIN.slice(0,2),n=parseInt(e,10),r=parseInt(a,10),i=parseInt(t,10),o=this.state.horaIniR.slice(0,2),s=this.state.horaIniR.slice(-2),c=parseInt(o,10),l=parseInt(s,10);c<n||c>i?(c=n,l=r):c===i?"00"===this.props.dispo.HORA_FIN.slice(-2)?(c=n,l=r):"30"===this.props.dispo.HORA_FIN.slice(-2)&&30===this.props.duracionPro?(c=i,l=0):(c=n,l=r):(c=parseInt(o,10),(l=parseInt(s,10))<r&&(l=r));var u="";c<10&&l<10?u="0"+c.toString()+":0"+l.toString():c>=10&&l<10?u=c.toString()+":0"+l.toString():c<10&&l>=10?u="0"+c.toString()+":"+l.toString():c>=10&&l>=10&&(u=c.toString()+":"+l.toString()),this.setState({horaIniR:u});var m=this.state.horaIniR.slice(-2),d="";"00"===m||"30"===m?(d=this.state.horaIniR,this.setState({horaIniR:d})):(d=this.state.horaIniR.slice(0,2)+":00",this.setState({horaIniR:d}));var p="2020-07-04 ",h=new Date(p+=d);h.setMinutes(h.getMinutes()+this.props.duracionPro);var f=h.toLocaleTimeString();7===f.length&&(f="0"+f),f=f.slice(0,5),this.setState({horaFinR:f})}},{key:"handleOnChangeHoraIni",value:function(e){this.setState({flagHI:!0}),this.setState({horaIniR:e.target.value});var a="2020-07-04 ";a+=e.target.value;var t=new Date(a);t.setMinutes(t.getMinutes()+this.props.duracionPro);var n=t.toLocaleTimeString();7===n.length&&(n="0"+n),n=n.slice(0,5),this.setState({horaFinR:n}),document.getElementById("Hora").addEventListener("focusout",this.handleFocusOutHoraIni)}},{key:"handleOnChangeHoraFin",value:function(e){this.setState({horaFinR:e.target.value})}},{key:"render",value:function(){var e,a,t=this,n=this.props.dispo,i=new Date(this.props.fexaForm);return r.a.createElement("div",null,r.a.createElement(R.a,{container:!0,spacing:2},r.a.createElement(y.a,{elevation:3,style:Nc.paper},r.a.createElement(R.a,{container:!0,spacing:2,alignContent:"center",style:Nc.chip},r.a.createElement(R.a,{item:!0,md:3,xs:3},n.TUTOR.USUARIO.IMAGEN?r.a.createElement(de,{src:"data:image/jpeg;base64,".concat(n.TUTOR.USUARIO.IMAGEN)}):r.a.createElement(de,{square:!0,src:"https://cdn.iconscout.com/icon/premium/png-256-thumb/deadline-calendar-date-schedule-timeline-33430.png"}),r.a.createElement("h3",null,kc[i.getDay()]+", "+i.getDate()+" de "+Dc[i.getMonth()+1]+" del 2020")),r.a.createElement(R.a,{item:!0,md:9,xs:9},r.a.createElement(R.a,{container:!0,spacing:2,alignContent:"center"},r.a.createElement(R.a,{item:!0,md:12,xs:12},r.a.createElement("h1",null,"Tutor: "+(null===(e=n.TUTOR.USUARIO)||void 0===e?void 0:e.NOMBRE)+" "+(null===(a=n.TUTOR.USUARIO)||void 0===a?void 0:a.APELLIDOS))),r.a.createElement(R.a,{container:!0,spacing:2,alignContent:"center"},r.a.createElement(R.a,{item:!0,md:12,xs:12,alignContent:"center"},r.a.createElement("h3",null,"Disponibilidad: "," ")),r.a.createElement(R.a,{item:!0,md:12,xs:12},r.a.createElement(R.a,{container:!0,spacing:2,alignContent:"center"},r.a.createElement(R.a,{item:!0,md:6,xs:6},r.a.createElement("h3",null,"Desde :"," ",r.a.createElement(ei.a,{label:null===n||void 0===n?void 0:n.HORA_INICIO,color:"primary",size:"medium"})," ")),r.a.createElement(R.a,{item:!0,md:6,xs:6},r.a.createElement("h3",null,"Hasta :"," ",r.a.createElement(ei.a,{label:null===n||void 0===n?void 0:n.HORA_FIN,color:"primary",size:"medium"})))))))),r.a.createElement(R.a,{item:!0,md:12},r.a.createElement("h3",null,this.props.mensajeDispo)))),r.a.createElement(R.a,{style:Nc.paper},r.a.createElement(R.a,{container:!0,spacing:2,alignContent:"center",style:Nc.chip},r.a.createElement(R.a,{item:!0,md:6},r.a.createElement(R.a,{container:!0,spacing:2,alignContent:"center"},r.a.createElement(R.a,{item:!0,md:12},r.a.createElement("h3",null,"Esta sesi\xf3n de tutoria dura : ".concat(this.props.duracionPro," minutos"))),r.a.createElement(R.a,{item:!0,md:12,xs:12},r.a.createElement(y.a,{elevation:0,style:Uc.paper},r.a.createElement(B.a,{autoFocus:!0,name:"descripcion",label:"Ingrese Descripci\xf3n del motivo de la solicitud:",fullWidth:!0,variant:"outlined",rows:6,multiline:!0,required:!0,onChange:this.handleOnChangeCT}),this.state.errorDesc&&r.a.createElement(G.a,{error:!0},"Descripci\xf3n es un campo requerido"))))),r.a.createElement(R.a,{item:!0,md:6,xs:6},r.a.createElement(R.a,{container:!0,spacing:2,alignContent:"center"},r.a.createElement(R.a,{item:!0,md:12,xs:12},r.a.createElement(R.a,{container:!0,spacing:2},r.a.createElement(R.a,{item:!0,md:6,xs:6},r.a.createElement(B.a,{value:this.state.horaIniR,variant:"outlined",required:!0,margin:"dense",type:"time",id:"Hora",label:"Ingrese la hora Inicio",InputLabelProps:{shrink:!0},onChange:function(e){return t.handleOnChangeHoraIni(e)},fullWidth:!0}),r.a.createElement(G.a,null,"Los minutos deben acabar en 00 o 30")),r.a.createElement(R.a,{item:!0,md:6,xs:6},r.a.createElement(B.a,{value:this.state.horaFinR,disabled:!0,variant:"outlined",required:!0,margin:"dense",type:"time",id:"Hora fin",label:"Hora Fin",InputLabelProps:{shrink:!0},onChange:function(e){return t.handleOnChangeHoraFin(e)},fullWidth:!0})))),r.a.createElement(R.a,{item:!0,md:12,xs:12},r.a.createElement(vn,{mensaje:"periodo",escogerItem:this.handleOnChangeMotivo,titulo:"Motivo de Solicitud",datos:this.state.lstMotivos,id:"ID",nombre:"NOMBRE",keyServicio:"motivos",placeholder:"Escoja un motivo",allObject:!0})),r.a.createElement(R.a,{container:!0,spacing:2,alignContent:"center"},r.a.createElement(R.a,{item:!0,md:6,xs:12},r.a.createElement(D.a,{size:"large",variant:"outlined",color:"primary",onClick:this.handleOnClose},"Cancelar")),r.a.createElement(R.a,{item:!0,md:6,xs:12},r.a.createElement(D.a,{size:"large",variant:"contained",color:"primary",onClick:this.handleOnClickSolicitarCita},"Solicitar Cita")))))))),r.a.createElement(Oa.a,{open:this.state.open,onClose:this.handleOnClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(ga.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,justify:"center"},this.state.mensajillo.includes("Satisfactoriamente")?r.a.createElement(Ba.a,{color:"primary",style:{fontSize:70}}):r.a.createElement(qa.a,{color:"error",style:{fontSize:70}}))),r.a.createElement(ba.a,null,this.state.mensajillo),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:this.handleOnClose},"Aceptar"))),r.a.createElement(Oa.a,{open:this.state.openV,onClose:this.handleOnCloseV,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(ga.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,justify:"center"},r.a.createElement(Za.a,{style:{fontSize:70,fill:"orange"}}))),r.a.createElement(ba.a,null,this.state.mensajillo),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:this.handleOnCloseV},"Aceptar"))))}}]),t}(n.Component),Uc={paper:{marginLeft:"10%",marginRight:"10%",marginTop:"3%",flexDirection:"column"}},wc={paper:{marginTop:"3%",marginLeft:"3%",marginRight:"3%",display:"flex",flexDirection:"column",alignItems:"left",backgroundImage:""}},Mc=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={tutores:{columns:[{title:"Nombre",field:"nombre"}],data:[{nombre:""}]},openVerDispo:!1},e.handleOnClickVerDispo=e.handleOnClickVerDispo.bind(Object(M.a)(e)),e.handleOnCloseVerDispo=e.handleOnCloseVerDispo.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"handleOnClickVerDispo",value:function(e,a,t){this.props.handleFiltroTutor({id:a,nombre:t}),this.props.modoBatallador(!0)}},{key:"handleOnCloseVerDispo",value:function(){this.setState({openVerDispo:!1})}},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a,t,n,i,o,s,l,u=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/tutor/lista/"+Q().usuario.ROL_X_USUARIO_X_PROGRAMAs[0].ID_PROGRAMA});case 2:a=e.sent,t=[],n=0,i=Object(ka.a)(a.tutores);try{for(s=function(){var e=o.value;n++,t.push({campoCont:n,nombre:e.USUARIO?e.USUARIO.NOMBRE+" "+e.USUARIO.APELLIDOS:"Manuel",correo:e.USUARIO?e.USUARIO.CORREO:"m.tupia@pucp.edu.pe",btnVerDisponibilidad:r.a.createElement(D.a,{size:"large",variant:"outlined",color:"secondary",onClick:function(a){return u.handleOnClickVerDispo(a,e.ID_TUTOR,e.USUARIO.NOMBRE+" "+e.USUARIO.APELLIDOS)}},"Ver Disponibilidad")})},i.s();!(o=i.n()).done;)s()}catch(c){i.e(c)}finally{i.f()}l={columns:[{title:"N\xb0",field:"campoCont"},{title:"Tutor",field:"nombre"},{title:"Correo",field:"correo"},{title:"",field:"btnVerDisponibilidad"}],data:t},this.setState({tutores:l});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y.a,{elevation:0,style:wc.paper},r.a.createElement(Ic,{tutores:this.state.tutores})),r.a.createElement(Oa.a,{open:this.state.openVerDispo,onClose:this.handleOnCloseVerDispo,"aria-labelledby":"form-dialog-title"},r.a.createElement(ba.a,null,r.a.createElement("h3",null,"Regresar al filtro x este tutor")),r.a.createElement(ga.a,null,r.a.createElement(D.a,{size:"large",variant:"contained",color:"primary",onClick:this.handleOnCloseVerDispo},"Oki Doki"))))}}]),t}(n.Component),Lc=t(196),Pc=t.n(Lc),Fc=t(197),Bc=t.n(Fc),Gc=t(360),qc=t.n(Gc),_c=t(359),Hc=t.n(_c),zc={control:{textAlign:"center"},paper:{borderTop:"2px solid #3AAFA9",backgroundColor:"#ffffff"},paperTitulo:{marginTop:"2%",marginLeft:"7%",marginRight:"7%"}},Vc=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).obtenerSeleccion=function(){var a=Object(l.a)(c.a.mark((function a(t){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.setState({servicioTutoriaActual:"Tutorias del Programa"===t.value?e.getServicioTutoriaActual(0):e.getServicioTutoriaActual(1)});case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),e.saltoEnElTiempoLocal=function(a){e.props.saltoEnElTiempo(a)},e.handleOnChangeTutores=function(a){var t=[];a.forEach((function(e){e.agregar&&t.push(e.id)})),e.setState({etiqueta:t}),e.props.handleFiltroTutores(t)},e.handleOnChangeTutoria=function(a){e.props.filtroProceso&&(e.state.servicioTutoriaActual.includes("tutoriaasignada")?(e.setState({tutoriaFija:!0}),e.props.handleFiltroProceso(a),e.props.handleDuracion(a?a.DURACION:0)):(e.setState({tutoriaFija:!1}),e.setState({modoBatallador:!0}),e.props.handleFiltroProceso(a[0]),e.props.handleDuracion(a[1])))},e.state={tutoriaFija:!1,atras:-1,adelante:1,colorActivo:"primary",colorInactivo:"secondary",colorLista:"secondary",colorBatallador:"primary",modoBatallador:!0,etiqueta:[],vistaColumna:"Columna",vistaLista:"Lista",radios:{tipoTutoria:[{titulo:"Tutorias del Programa",valor:"Tutorias del Programa"},{titulo:"Tutorias Fijas Asignadas",valor:"Tutorias Fijas Asignadas"}]},servicioTutoriaActual:void 0},e.saltoEnElTiempoLocal=e.saltoEnElTiempoLocal.bind(Object(M.a)(e)),e.ModoBatallador=e.ModoBatallador.bind(Object(M.a)(e)),e.ModoLista=e.ModoLista.bind(Object(M.a)(e)),e.handleOnChangeTutores=e.handleOnChangeTutores.bind(Object(M.a)(e)),e.handleOnChangeTutoria=e.handleOnChangeTutoria.bind(Object(M.a)(e)),e.renderTutoria=e.renderTutoria.bind(Object(M.a)(e)),e.obtenerSeleccion=e.obtenerSeleccion.bind(Object(M.a)(e)),e.getServicioTutoriaActual=e.getServicioTutoriaActual.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"getServicioTutoriaActual",value:function(e){switch(e){case 0:return"/api/tutoriavariable/".concat(this.props.programa);case 1:return"/api/tutoriaasignada/".concat(this.props.programa,"/").concat(Q().usuario.ID_USUARIO);default:return null}}},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q().usuario.ID_USUARIO;case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"ModoBatallador",value:function(){this.props.modoBatallador(!0),this.setState({colorBatallador:this.state.colorActivo}),this.setState({colorLista:this.state.colorInactivo}),this.setState({vistaColumna:"Columna"}),this.setState({vistaLista:"Lista"})}},{key:"ModoLista",value:function(){this.props.modoBatallador(!1),this.setState({colorBatallador:this.state.colorInactivo}),this.setState({colorLista:this.state.colorActivo}),this.setState({vistaColumna:"Columna"}),this.setState({vistaLista:"Lista"})}},{key:"renderTutoria",value:function(e){return r.a.createElement(vn,{allObject:!!e.includes("tutoriaasignada"),mensaje:"tutoria",titulo:"Tutorias encontradas",enlace:e,id:"ID_PROCESO_TUTORIA",nombre:"NOMBRE",keyServicio:"tutoria",escogerItem:this.handleOnChangeTutoria,small:!0,inicial:!0,placeholder:"Escoja la tutor\xeda"})}},{key:"render",value:function(){var e=this;return r.a.createElement(y.a,{style:zc.paper},r.a.createElement(R.a,{container:!0,spacing:0,alignContent:"center"},r.a.createElement(R.a,{item:!0,md:1,xs:1},r.a.createElement(R.a,{container:!0,spacing:0,alignContent:"center"},r.a.createElement(R.a,{item:!0,md:3,xs:3},r.a.createElement(ye.a,{sizeSmall:!0,color:"primary","aria-label":"delete",onClick:function(){return e.saltoEnElTiempoLocal(-28)}},r.a.createElement(Pc.a,null))),r.a.createElement(R.a,{item:!0,md:6,xs:6},r.a.createElement("h3",{style:zc.control},this.props.fecha.mes||"Mes Actual")),r.a.createElement(R.a,{item:!0,md:3,xs:3},r.a.createElement(ye.a,{sizeSmall:!0,color:"primary","aria-label":"delete",onClick:function(){return e.saltoEnElTiempoLocal(28)}},r.a.createElement(Bc.a,null)))),"disponibilidad"!==this.props.tipo?r.a.createElement(r.a.Fragment,null):r.a.createElement(R.a,{container:!0,spacing:0,alignContent:"center"},r.a.createElement(R.a,{item:!0,md:3,xs:3},r.a.createElement(ye.a,{color:"primary","aria-label":"delete",onClick:function(){return e.saltoEnElTiempoLocal(-7)}},r.a.createElement(Pc.a,null))),r.a.createElement(R.a,{item:!0,md:6,xs:6},r.a.createElement("h3",{style:zc.control},"Semana")),r.a.createElement(R.a,{item:!0,md:3,xs:3},r.a.createElement(ye.a,{color:"primary","aria-label":"delete",onClick:function(){return e.saltoEnElTiempoLocal(7)}},r.a.createElement(Bc.a,null))))),"disponibilidad"!==this.props.tipo?r.a.createElement(R.a,{item:!0,md:2,xs:2}):r.a.createElement(R.a,{item:!0,md:2,xs:2},r.a.createElement(R.a,{item:!0,md:12,xs:12},r.a.createElement(Zr,{stretch:!0,disabled:!1,titulo:"Escoga un Tipo de tutoria",radios:this.state.radios.tipoTutoria,obtenerSeleccion:this.obtenerSeleccion}))),"disponibilidad"!==this.props.tipo?r.a.createElement(R.a,{item:!0,md:2,xs:2}):r.a.createElement(R.a,{item:!0,md:2,xs:2},this.renderTutoria(this.state.servicioTutoriaActual?this.state.servicioTutoriaActual:this.getServicioTutoriaActual(0))),r.a.createElement(R.a,{item:!0,md:3,xs:3},r.a.createElement("h3",{style:zc.control},"Hoy: "+new Date(this.props.fecha.fecha).toDateString()," "),"disponibilidad"!==this.props.tipo?r.a.createElement(r.a.Fragment,null):r.a.createElement(R.a,{container:!0,spacing:0,style:zc.control},r.a.createElement(R.a,{item:!0,md:12,xs:12,alignContent:"center"},this.state.vistaColumna,r.a.createElement(ye.a,{onClick:function(){return e.ModoBatallador()}},r.a.createElement(Hc.a,{color:this.props.colorActivo?"Primary":"Secondary"})),r.a.createElement(ye.a,{disabled:this.state.tutoriaFija,onClick:function(){return e.ModoLista()}},r.a.createElement(qc.a,{color:this.props.colorActivo?"Secondary":"Primary"})),this.state.vistaLista))),r.a.createElement(R.a,{item:!0,md:"disponibilidad"!==this.props.tipo?3:4,xs:"disponibilidad"!==this.props.tipo?3:4},"disponibilidad"!==this.props.tipo?r.a.createElement(r.a.Fragment,null):this.props.filtroTutores?this.state.tutoriaFija?r.a.createElement(r.a.Fragment,null):r.a.createElement(bn,{obtenerEtiquetas:this.handleOnChangeTutores,enlace:"/api/tutor/lista/"+Q().usuario.ROL_X_USUARIO_X_PROGRAMAs[0].ID_PROGRAMA,small:!0,label:"Tutores",ID:"ID_TUTOR",keyServicio:"tutores",keySubNivel:["USUARIO"],valueSubNivel:["NOMBRE","APELLIDOS"],strecht:!0}):r.a.createElement(r.a.Fragment,null),"disponibilidad"!==this.props.tipo?r.a.createElement(r.a.Fragment,null):r.a.createElement(y.a,{style:zc.paperTitulo,elevation:0},r.a.createElement(k.a,null,r.a.createElement("strong",null,this.state.tutoriaFija?"Tutor Asignado:":" \xdaltimo Tutor Seleccionado:")," "),r.a.createElement("h3",null,this.props.tutorNombre))),"disponibilidad"!==this.props.tipo?r.a.createElement(R.a,{item:!0,md:1,xs:1},r.a.createElement(R.a,{container:!0,spacing:0,alignContent:"center"},r.a.createElement(R.a,{item:!0,md:3,xs:3},r.a.createElement(ye.a,{color:"primary","aria-label":"delete",onClick:function(){return e.saltoEnElTiempoLocal(-7)}},r.a.createElement(Pc.a,null))),r.a.createElement(R.a,{item:!0,md:6,xs:6},r.a.createElement("h3",{style:zc.control},"Semana")),r.a.createElement(R.a,{item:!0,md:3,xs:3},r.a.createElement(ye.a,{color:"primary","aria-label":"delete",onClick:function(){return e.saltoEnElTiempoLocal(7)}},r.a.createElement(Bc.a,null))))):r.a.createElement(r.a.Fragment,null)))}}]),t}(n.Component),Wc={paper:{borderTop:"3px solid #3AAFA9",backgroundColor:"#ffffff"},chip:{textAlign:"center"},paperDiseibol:{borderTop:"3px solid #3AAFA9",backgroundColor:"#cccccc"}},Yc=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={tutores:{columns:[{title:"Nombre",field:"nombre"}],data:[{nombre:""}]},open:!1,mensajeDispo:"",visible:!1,actuTys:!1,fotos:["data:image/jpeg;base64,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","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxMSEhUTEhMVFhUXFRcVFxcXFRcVFxUXHRUXFxUXFxUYHSggGBolHRUVITEhJSkrLi4uFx8zODMtNygtLisBCgoKDg0OGhAQFy0dHR0rKy0tKy0tLSstLS0tLS0tLS0tLS0tLS0rLSstLSstLS0tLS0tLS0tLS0tLS0tLS0tK//AABEIAOEA4QMBIgACEQEDEQH/xAAcAAABBQEBAQAAAAAAAAAAAAACAAEDBAUGBwj/xABHEAACAQIDBQQHAwcKBwEAAAAAAQIDEQQFIRIxQVFhBnGBkRMiMqGx0fAHFMEzNEJSYnLhFSNDY3OCkrLC8QgkU4Ois9IW/8QAGQEBAAMBAQAAAAAAAAAAAAAAAAECAwQF/8QAJREBAQACAgICAQQDAAAAAAAAAAECEQMhEjEEQXETIlFhFDIz/9oADAMBAAIRAxEAPwDzwKwkPYuBbCUgGOgCsNYcTZIjYIbBiQBkxkSbIKQCiE2JBWANSHUiGU7cUN6ZPRfBjZpNckU9Cs5Bp8xuJ1VmNcJyKqZLFkoKqyFhzQLRAG4mxpAMB2A0FcVgIrBRFKI0UBLGQMpDxiLYAbaEFsDgPcNMEVwHHQox0CSsSAkM2O0MkALYkKSGTID3Bc0rtg4vExgtfIxsXipT42XIi3SdL9bMkvZV2VJ5jJ8bFDa5DNldpWniet31S+RJTxcl3dEkU4Tt17yWL5aeN0QnbRji0tVa/J/xJVi1J3S16Oxiuetn5hXtr7yNJ8m1PGpcGvBlrD4tOybty3GLh5uWm/pfXwJJRVrp211XFP5Ey2Fm27O3ACxjUsdOO+zSf1Y1MPiFNXT+u40l2pYKQKDYIQbZGsGCwFIUYiQcUA8UPsksEJokRCJbCAhaBQ8hkQJEw4kYcADlAhlEspDSiBVaI6tRRTb3IlZj5vXu9hcN/eKKWJrucm/iV5BvQBvmZrGbHQIaAeMk94n5gwRIoOLv9fxQDQfC5M4xit78d3uBnDW6WnHp/AnguWvcE6V6WIs9y+ZcniU9bW59PmRTUHot/dYb0L5btO9ciEyU1aGl17tPNAYaq4NMdUpJWHp0W93D4cRsuLcw9dTV0SMz8FBxkuTNOxpLtSzQBNB2GaJQZIkigB0yRMmJagwRLFEBWEFYROhUkgUSyiDYgJEtNEUSaEgJrEdUKLuDJAU8TU2ISlyOZlLabb3t3N3PJ2go838DCRXJMDJA7LJNm5YpYe9lxfuKraVqFByeiLX3J7uJ1WUZRFR1RpRyuPIzubfDh6cHLBtcCT7o5HcfyRfgFDJkuHuv7iv6jT/HcRSwzsSRwja3bvM7mlkbm7bPuNnDdlo33eJW8q8+Nt5xl+Tzqb0t6W1bffS1jscv7Gbcbz07tXwsdll/Z6FPdFLuRrQoKKstCtzta48OOLif/wArCMXG3dp8Th+0WTSwzul6u9abnyPZ61Mxc3wMasHGSvwIxz0tycMynTxGri7O60425PmvrmbeFquUU3xRU7R5QqMmlo093TmiXLJ3pR8vLQ7MLt5Wcs6q4DIZMKxooEJC2AoxAOBKmBFBpAOOCIAaiIWWJkLiQACixrDxRInpoKSGpseciBg9oHrFd7Mi3A0M7m3V7kjMlK5S+1onw0byXuNPK4KU79dO7gZeGer6I6DIIa3tqUyacc3XWYOGiL1KncrYRaGjhYmFd+ET0aSL1GgitT3mjQRnXRit4bDLkauFwqdithKZoYepYYxXPK/SeNBLqQ18PcsbYFWV9Ll7plLdsrEUbGZiIm7i3oZdaNzK9V0Y3cecdv8ALNqO2t696ONyq62oPhr4M9V7T4fapyXQ8qy+p/OW4tNW6pu3uOrhrzflYau2mkOkE4CkrHU4yHBEBLEJMhiiaMQFdCHEQFJA7JLIZICBxGuTOADiAyY6YLQ8N4GBntNqonzj8GzJbOl7QUXKEWld7XDuZzTjYpfaySjvOqySPkcpRWp3mQYe0EzPNtwzdbuGjZJF/C77FGLLVGpqY2O7HppRVi3hpMqUZp7y7RiUreNbBzaLkFruKeFe41KUNBFMqQnAKwXey2lNqGIV3YpVYWNWrs20MbMsdTpp3kl0KWNZl0zc0hdPqeM4fD/8xVT/AEZO3+LQ9S/l2lUlsKWrdkuD7med0qT9PXfDblHxUnp8Do4ZquP5dlk0tXBkhTQLOp55MdApksYgFYmiAlYIgOIG45IKwVhMeCIDNAuJMDKIFfZH2CWMRONuQEFa8Yya0ai3c5zN8LJqNVezJWdtLPr8zqKyvCa5wdvrwK6cIYWEZq94Xte3ta/iYZ3WTs4sPPi1/bjaHtHo2Rfk0efbFpaaLej0Hs8/5pDNXgmsrGlUlbeZNbN5KWzTjf3m9HD7S3aFCthlT3RfkzPcdNlZEsVim3JxbXDZfwuHTzzE0/0avjG/4A4jOqsZbMKbb7nbx5E+XY/GVZ7Dgo3cUns+rq9W5PdYn2pbJ91ewvbaurXpt232i/xOmyjtU6llJW+tDmsXRrUpNS2ZW1ummmuanG1n0a8Q6VWUXe3XwZnW+O57r0jD4u5UzTNVTV2/BalfIqimk7lPPsNOV3BbtL2vb6uZ7aubzHtPjJtqjBqN7J2Svzd2ynQyqvV9atVpxd/Z2tt262aV/Miq9ncRVqpwm5LW6k5Lhp7LVmnfizVq9k5pU9mUk1Fek9JL0kZysk/Ubur9Gjbeo5rLctWVXxXZuLcJU5OU4yUr3tud9y3I5zGK2IxEV/1m/OKZ6llWA9HT9ZK/Rt+96nmOcRtia7/rP9MS/Blus/k4zHHpBfgC2KTBTOpwCRYgkQ00SpAEx1Ij2hlMCT63iA2hAXqkQIotTjw4leWgCEkJjpgMkhx6bDkgIox6mFn8WlBa2UVHy0/A3ZlihC7Ut64p8Hbf8DHlnquv42XvFx2NopUqc1+1CXR3Ul7rnXZLpTj3EFTBQaqLVqTjK3Jp6W6lzDKyVjPe41mOs7W7l009DS9FtGFg52NmjWMco6sOwSy+UdYwb66P3FjCRa/o2n+5r8DRwc78C/Erur+MjKqJpXkvBpa+Bi5lSTjfi+XA6TGUtDDxKS3sbLJo2QVHGWyb8km5QlzOaw0XGd+p0FSpeSlwat4ojJbGdGWUJO8ZteHyJ6eCs/Wk3bpb3lqg9N6JpLQj2KlWSUWkeS55riKrX67+X4HqGOla55TjZXqTfOUn7zo+NO64/ndYyKrBUSVoA7HmHjcLaI0w7gBdjoLZGsAr9RC8RAblSStoiq48Sfb0txBAha5sZIeSQCYBtBKQO0JSAKTJMPVUW77nv/BkaGfAjKbi2OVxu4ec1GTUXdNeWpNFspVVZtrkviWaMlpxOe466dcz8u2jh5mlhampj0WXqMtTPKOnjrpcJUNONYwMJJk+JxLUTGurcsDnud7K2Y8XYy0ttbRQzeh6Rb+N+59DNrVq8F6slfuL449MsstOvwcU7cTo5YT+a14dDzDI87qKVqi1vwTs/kdtQzqdSNkn3tWSIsWxzlib07hrfozRpYraVzPhQTjst3vq3xuPhU16r4GfpfcPmc/VZ5bXd25c2356npGdVNmnN/sv4HnDWngdfxvt5/zst2RWbGFIKJ1PPMo+4UR2IBD3GYooBbXQcKwgL0ZjuoRXFcAnK4CkCxIgE5DJgyYgJtoQ0WBXrqEXOTsl9WXUA3C+0uiJKem7TgZfZ3ESqqpOXGdl0WytF5rzNCo7d3Mwyvbrwn7YuQn9fEtYbEaq7/gjOhV+uQ1SdtV9fMzsbS6d3h2vRya3pFDMcZGnB7ckuV3Yr9ns0WzZ8VbqbGFUaqaklx8uBh6rpxvlHK0sxpN/lF3J3fuJ6dWEmrRnK+qtB7ugsbksIVG1BRmuKVro08px8qbirJ7MdmzVn4vwRe5LTjy+psGFw0E/yFW6s7bD62fLgW8RntKlC8qVSC5uPhw1Nylm87X9FwXLhfr1OdxVKdWpeet36qv6sVfpx6kflbDDLK6skHRzRVGnCM2v3JR+KNlSVtr66B0MPGEEuhj43GaJR06dLXv3lL2rnrFR7S431JJcbL43OMq+41s1xG09lO+zv7/9jLqRa4ndw4+OLyvkZ+Wf4VkEhrCSNmB4ikh0hrAM0FEFsZSAkGHEBYkxkyFMNMgSpoYHbHsAmh0hRQc6sIK82kubdgAbSV27Jat8jlc6zP0r2Y+wnp+0+b/ALOc1dV7MdILzl1fyMoijt+ymFf3Pb/r5LzhH/wCS5XWhpfZlTjXwNWi9HGo+9XSlGVu9PyKuPw0qcnCas19Jp8UzLkmu3Xw3ePj/AAoXJaMluIKqApS1M/a/poU57MlbxOjyjFPmcjKroXcqzHZdr28Clx20wz1Xa5lR20n03malKO+KfUuZdmcLWlrctrZ4PT69xn3HXjd9yqNDFNuy8jSwsG9bWHoYWKd0krK/ffp0L0K6UeFxU+V+1DMsWrNeH4/M47tBmMaEL67TVkvgjR7WZxCC3pc7d25e5Hl+ZZnKtPalu4LkjXi4991xfI5tdT22aOeQftKUff8AAn+9U5bpRvy3e5nLiudunm7dPICETBpYmUdzf10LUM0lxSfmhpO2uxm7FCnmcXvTj70W6VWMt0kwFJApEjGiwFbo/MRJtDAHANw0Io7ySLAVhVKiinKTSXNspZhmcad0vWlyvou/5HO4rFSqO8nflyXciBr4ztBwpL+9L8I/MxMRiJTd5SbfV/hwInIeKI2BGCaGCXZfZbmvocX6N+zVjb+9HWPu2l4nrWc5JDEw/VkvZla9ujXGPQ+eMJXlTnGcHaUZKS707o+iuz+ZqvRp1obpRTa5aaomTc1SWy7jzfNcsqUZbFSLT4PhJc4vivh0M/Ya/wBz2zGYCnWg4zipRfB8Oqa1T6o4HPex1SleVG9SHL+kj4L2l3a9DDLjs9OrHlmXvquRumuRDJO+7x/2LToheia4dSi1lHgcfsvXSzOio5xotd1vBHKVaCb3MelhJvSDfdv+JFkq+OdxdxHNlvut2+/mirWza8lCG1UlJpRhHWUm9xh4PI6svabS5X/BWR6n2I7IRwy9LOP8616t98E+MuvQY4eVWz57MXmH2odn3haOGlN3qTnP0nFJ7MXGEeaj62vG7fQ84kj2/wC3yC+74b+3l/63c8RkdWpOo86227p4TDIQ4SJ2hJcQwidoOOpAiGxfwuZOOkvWXPivmaFDExluevLczAEptNNOz4PqNpdMIxP5Yl+qvNiK+UT41uVakYK8nZfW5cTFx2byl6sPVjz4v5Iz6+IcneTbf15EDlclAnMASHSIDWDpIWyFR494AyQDRPJEUkAET0r7K8/UG8NN6P1odOa+uZ5qXcDiZU5xnH2ou6+Xlp4iD6Zw1VcC46SeqOb7PZjGvRhUi7pxT7n16nR4GrwLjGznstSxF21sVP142u/3lul8epxWZdna1B+vG8VumtYvv4x7mevxp3IsxrUqNKVSs0oRXrN7uVrcb7rGeXHK2w5bj/ceOUsHfhc38l7PTqv1I7t8t0V3vman8qYGMXKEcLaSUrykrP8Acvf1V0stCah25VKtHa9HUwrVnPDwlNUv25ODkthcd1t/Qp+jftrfkzX7Y6LJOzNOi1KXrz5taR7lzN6URUKsZxjOElKMkpRlF3Uk1dNNb00R4iWjL4zXUc2WVy7rxn7fMam8LSXB1Zv/AMIr4vyPIZo9C+2ynJY+ne+y8PHZ5flKu1b3HnzL1RFYaxJKI0SqRRY4rCJQQhhwGYFR6eIbI6m5kVJaDkG2OV0tswhINIsqaKDSFFD2ASFQ3eI4sPuAOxDNE4E0ShBYlpsaw8UQl6R9lWatOVBvjtR7n7Xk7f4j1ilPZPnjszmv3bEU636KdprnB6T8lqusUfQNCadnF3i16r4Pky0HQYaei67jg+0PbChVxP3epHbw62oaXanNXhLctyd1pyvxOgzjGTpYaq6d9rYtC36MnptLuu34HjWVqdWVKEq0qdOlUcZv0e9Lhr+zbnpK/AvNfaLv6dH2e2akp/cqNSNKjV1dSG3o73Tbad7Pjqla+80pSccbD7jTqxl61Sc0qcab5wktVKOrT43aa5mTic9U418Jhq1RQj7UowautzV7br6N6bVtNDUw2IjH0FDDLETqVI7Lnx3atvnve+yWprhuzd9It769t7st2rUcX919G405q8mtKdKs5Oyje1lPW64NX4s7yo7+KPG8LgKdGo8PBzc6aU6spN+1Kctiz4WSf02epdn8xVekpN+tH1Z964+K1MMtb6W108k+32klWwb4+iqJ+E4tf5meWM9S/wCIOUvvWGTacVRdlxUnN7V+9RjbuZ5bIqGEIQQQw4wCHuMIBmR1NxIyOoQlXEIRVKSIcRCLIEOIQCYsPu8xCAlBkIRaoRveJCEVSlgfQnZz8ywv9lT/AMkRCLRH22cT+bruf4nnD/N5/v8A4oQhfa30PIP6Xvh/lZ0X2a/lP+0/wEI3y/5xTH/asul+e5l/aR+MzqOwPt1u6PxYhGF9r/Th/wDiC/LYb9z/AFVDyhiEQgyHQhBBMQhACIcQAsCoIRCVcQhFEv/Z","data:image/jpeg;base64,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","data:image/jpeg;base64,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"]},e.handleOnClick=e.handleOnClick.bind(Object(M.a)(e)),e.handleOnClose=e.handleOnClose.bind(Object(M.a)(e)),e.obtenerMensajeRango=e.obtenerMensajeRango.bind(Object(M.a)(e)),e.handleOnChangeUpdate=e.handleOnChangeUpdate.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"handleOnClick",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.obtenerMensajeRango();case 2:e.sent&&this.setState({open:!0});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleOnClose",value:function(){this.props.refreshCalendarioCitas(),this.setState({open:!1})}},{key:"handleOnChangeUpdate",value:function(e){e.actualizaMensajillo&&this.setState({actuTys:!this.state.actuTys})}},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.actuTys==this.state.actuTys){e.next=19;break}return n={disponibilidad:{HORA_INICIO:this.props.disponibilidad.HORA_INICIO,HORA_FIN:this.props.disponibilidad.HORA_FIN,FECHA:this.props.disponibilidad.FECHA,ID_TUTOR:this.props.disponibilidad.ID_TUTOR}},r={servicio:"/api/disponibilidadIntervalos",request:n},e.next=5,$(r);case 5:if(i=e.sent){e.next=8;break}return e.abrupt("return");case 8:if(!i.message){e.next=19;break}if(!i.error){e.next=13;break}return e.abrupt("return");case 13:if(!i.message.includes("oKupada")){e.next=17;break}return e.abrupt("return");case 17:return this.setState({mensajeDispo:i.message}),e.abrupt("return");case 19:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"obtenerMensajeRango",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a,t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={disponibilidad:{HORA_INICIO:this.props.disponibilidad.HORA_INICIO,HORA_FIN:this.props.disponibilidad.HORA_FIN,FECHA:this.props.disponibilidad.FECHA,ID_TUTOR:this.props.disponibilidad.ID_TUTOR}},t={servicio:"/api/disponibilidadIntervalos",request:a},e.next=4,$(t);case 4:if(n=e.sent){e.next=7;break}return e.abrupt("return");case 7:if(!n.message){e.next=18;break}if(!n.error){e.next=12;break}return e.abrupt("return");case 12:if(!n.message.includes("oKupada")){e.next=16;break}return e.abrupt("return");case 16:return this.setState({mensajeDispo:n.message}),e.abrupt("return",!0);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(">>Dispo",this.props.disponibilidad);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,a,t=this.props.disponibilidad;return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{disabled:this.props.diseibol,onClick:this.handleOnClick},r.a.createElement(y.a,{style:this.props.diseibol?Wc.paperDiseibol:Wc.paper},r.a.createElement(R.a,{container:!0,spacing:0},r.a.createElement(R.a,{container:!0,spacing:0},r.a.createElement(R.a,{item:!0,md:3,xs:3},t.TUTOR.USUARIO.IMAGEN?r.a.createElement(de,{src:"data:image/jpeg;base64,".concat(t.TUTOR.USUARIO.IMAGEN)}):r.a.createElement(de,{src:"https://www.w3schools.com/howto/img_avatar.png"})),r.a.createElement(R.a,{item:!0,md:9,xs:9},r.a.createElement(R.a,{item:!0,md:12,xs:12},r.a.createElement(I.a,{component:"paragraph"},(null===(e=t.TUTOR.USUARIO)||void 0===e?void 0:e.NOMBRE)+" ")),r.a.createElement(R.a,{item:!0,md:12,xs:12},r.a.createElement(I.a,{component:"paragraph"},null===(a=t.TUTOR.USUARIO)||void 0===a?void 0:a.APELLIDOS)))),r.a.createElement(R.a,{container:!0,spacing:0},r.a.createElement(R.a,{item:!0,md:1,xs:1}),r.a.createElement(R.a,{item:!0,md:1,xs:1},r.a.createElement(I.a,{variant:"button",component:"h4",style:Wc.chip,display:"block",gutterBottom:!0},r.a.createElement("strong",{style:Wc.chip},"De:"))),r.a.createElement(R.a,{item:!0,md:4,xs:4},r.a.createElement(ei.a,{label:null===t||void 0===t?void 0:t.HORA_INICIO,color:"primary",size:"small",variant:"outlined"})),r.a.createElement(R.a,{item:!0,md:1,xs:1},r.a.createElement(I.a,{variant:"button",component:"h4",style:Wc.chip,display:"block",gutterBottom:!0},r.a.createElement("strong",null,"A:"))),r.a.createElement(R.a,{item:!0,md:4,xs:4},r.a.createElement(ei.a,{label:null===t||void 0===t?void 0:t.HORA_FIN,color:"primary",size:"small",variant:"outlined"}),r.a.createElement(R.a,{item:!0,md:1,xs:1})))))),r.a.createElement(Oa.a,{open:this.state.open,onClose:this.handleOnClose,"aria-labelledby":"max-width-dialog-title",maxWidth:"md"},r.a.createElement(ba.a,null,r.a.createElement(Tc,{dispo:this.props.disponibilidad,fexaForm:this.props.fexaForm,onCloseFrm:this.handleOnClose,idPro:this.props.idPro,duracionPro:this.props.duracionPro,mensajeDispo:this.state.mensajeDispo,onChange:this.handleOnChangeUpdate})),r.a.createElement(ga.a,null," ")),r.a.createElement("br",null))}}]),t}(n.Component),Jc=(t(629),{paper1:{borderTop:"3px solid #3AAFA9",backgroundColor:"#cccccc"},paper2:{borderTop:"3px solid #3AAFA9",backgroundColor:"#ffffff"},chip:{textAlign:"center",display:"flex"}}),Kc=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={tutores:{columns:[{title:"Nombre",field:"nombre"}],data:[{nombre:""}]},open:!1},e.handleOnClick=e.handleOnClick.bind(Object(M.a)(e)),e.handleOnClose=e.handleOnClose.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"handleOnClick",value:function(){this.setState({open:!0})}},{key:"handleOnClose",value:function(){this.props.refreshCalendarioCitas(),this.setState({open:!1})}},{key:"render",value:function(){var e=this.props.cita;return console.log("PERRO",e),e.ESTADO.includes("03")||e.ESTADO.includes("04")?r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{onClick:this.handleOnClick},r.a.createElement(y.a,{style:Jc.paper2},r.a.createElement(R.a,{container:!0,spacing:0},r.a.createElement(R.a,{item:!0,md:3,xs:3},1===e.PROCESO_TUTORIum.GRUPAL?r.a.createElement(de,{src:"https://ututor-recursos.s3.amazonaws.com/WhatsApp+Image+2020-08-02+at+5.06.55+PM.jpeg"}):e.ALUMNOs[0].USUARIO.IMAGEN?r.a.createElement(de,{src:"data:image/jpeg;base64,".concat(e.ALUMNOs[0].USUARIO.IMAGEN)}):r.a.createElement(de,{src:"https://www.w3schools.com/howto/img_avatar.png"})),r.a.createElement(R.a,{item:!0,md:9,xs:9},e.PROCESO_TUTORIum.GRUPAL?r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{item:!0,md:12,xs:12},r.a.createElement(I.a,{component:"paragraph"},"Grupal"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{item:!0,md:12,xs:12},r.a.createElement(I.a,{component:"paragraph"},e.ALUMNOs[0].USUARIO.NOMBRE+" ")),r.a.createElement(R.a,{item:!0,md:12,xs:12},r.a.createElement(I.a,{component:"paragraph"},e.ALUMNOs[0].USUARIO.APELLIDOS))))),r.a.createElement(R.a,{container:!0,spacing:0,alignContent:"center"},r.a.createElement(R.a,{item:!0,md:6,xs:6},r.a.createElement(ei.a,{label:e.HORA_INICIO,color:"primary",size:"small",variant:"outlined"})),r.a.createElement(R.a,{item:!0,md:6,xs:6},r.a.createElement(ei.a,{label:e.HORA_FIN,color:"primary",size:"small",variant:"outlined"}))))),r.a.createElement(sc,{cita:this.props.cita,fexaForm:this.props.fexaForm,open:this.state.open,onClose:this.handleOnClose}),r.a.createElement("br",null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{onClick:this.handleOnClick},r.a.createElement(y.a,{style:Jc.paper1},r.a.createElement(R.a,{container:!0,spacing:0},r.a.createElement(R.a,{item:!0,md:3,xs:3},1===e.PROCESO_TUTORIum.GRUPAL?r.a.createElement(de,{src:"https://ututor-recursos.s3.amazonaws.com/WhatsApp+Image+2020-08-02+at+5.06.55+PM.jpeg"}):e.ALUMNOs[0].USUARIO.IMAGEN?r.a.createElement(de,{src:"data:image/jpeg;base64,".concat(e.ALUMNOs[0].USUARIO.IMAGEN)}):r.a.createElement(de,{src:"https://www.w3schools.com/howto/img_avatar.png"})),r.a.createElement(R.a,{item:!0,md:9,xs:9},e.PROCESO_TUTORIum.GRUPAL?r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{item:!0,md:12,xs:12},r.a.createElement(I.a,{component:"paragraph"},"Grupal"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{item:!0,md:12,xs:12},r.a.createElement(I.a,{component:"paragraph"},e.ALUMNOs[0].USUARIO.NOMBRE+" ")),r.a.createElement(R.a,{item:!0,md:12,xs:12},r.a.createElement(I.a,{component:"paragraph"},e.ALUMNOs[0].USUARIO.APELLIDOS))))),r.a.createElement(R.a,{container:!0,spacing:0,alignContent:"center"},r.a.createElement(R.a,{item:!0,md:6,xs:6},r.a.createElement(ei.a,{label:e.HORA_INICIO,color:"primary",size:"small",variant:"outlined"})),r.a.createElement(R.a,{item:!0,md:6,xs:6},r.a.createElement(ei.a,{label:e.HORA_FIN,color:"primary",size:"small",variant:"outlined"}))))),r.a.createElement(sc,{cita:this.props.cita,fexaForm:this.props.fexaForm,open:this.state.open,onClose:this.handleOnClose}),r.a.createElement("br",null))}}]),t}(n.Component),Qc=Object(pe.a)((function(e){return{small:{width:e.spacing(3),height:e.spacing(3)},large:{width:e.spacing(10),height:e.spacing(10),fontSize:"300%"},customContainer:{padding:e.spacing(5),backgroundColor:"#ffffff"}}}))(Kc),Xc={centerizable:{textAlign:"center"}},Zc=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).renderHorarios=function(a){if(a)return a.data?r.a.createElement("div",null,a.data.map((function(a,t){return"disponibilidad"===e.props.tipo?r.a.createElement(Yc,{refreshCalendarioCitas:e.refreshCalendarioCitas,disponibilidad:a,fexaForm:e.props.fexaForm,idPro:e.props.idPro,duracionPro:e.props.duracionPro,diseibol:e.props.diseibol}):r.a.createElement(Qc,{cita:a,refreshCalendarioCitas:e.refreshCalendarioCitas})})),0===a.data.length?r.a.createElement(y.a,null,r.a.createElement("p",{style:Xc.centerizable},"Aun no hay horarios")):r.a.createElement(r.a.Fragment,null)):void 0},e.state={horarios:[],filtroTutores:[]},e.renderHorarios=e.renderHorarios.bind(Object(M.a)(e)),e.refreshCalendarioCitas=e.refreshCalendarioCitas.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"refreshCalendarioCitas",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t){var n,r,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({horarios:[]}),!a){e.next=8;break}return e.next=4,X({servicio:a});case 4:n=e.sent,this.setState({horarios:n}),e.next=30;break;case 8:if(!t){e.next=25;break}return e.next=11,this.setState({filtroTutores:t});case 11:if(this.state.filtroTutores!==[]){e.next=18;break}return e.next=14,X({servicio:this.props.servicio});case 14:r=e.sent,this.setState({horarios:r}),e.next=23;break;case 18:return e.next=20,$({servicio:this.props.servicio,request:{tutores:{tutores:this.props.filtroTutores}}});case 20:return i=e.sent,e.next=23,this.setState({horarios:i});case 23:e.next=30;break;case 25:return e.next=27,X({servicio:this.props.servicio});case 27:return o=e.sent,e.next=30,this.setState({horarios:o});case 30:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.servicio){e.next=2;break}return e.abrupt("return");case 2:this.refreshCalendarioCitas(void 0,void 0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(){var e=Object(l.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.servicio!==this.props.servicio&&this.refreshCalendarioCitas(a.servicio,void 0),a.filtroTutores!==this.props.filtroTutores&&this.refreshCalendarioCitas(void 0,a.filtroTutores);case 2:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.horarios.data?r.a.createElement(r.a.Fragment,null,this.renderHorarios(this.state.horarios)):r.a.createElement(Cn,{mensaje:"Cargando Tutorias",size:"lg",base:!0})}}]),t}(n.Component),$c={paper:{marginTop:"1%",flexDirection:"column",backgroundImage:"",minHeight:"300px",maxHeight:"600px",whiteSpace:"nowrap"},control:{textAlign:"center"},titutloDia:{borderTop:"2px solid #3AAFA9",backgroundColor:"#ffffff"}},el=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).renderCabecera=function(e){var a=new Date(e);return r.a.createElement("div",{style:$c.titutloDia},r.a.createElement(I.a,{variant:"button",component:"h2",style:$c.control,display:"block",gutterBottom:!0},r.a.createElement("strong",null,kc[a.getDay()]+" "+a.getDate())))},e.state={diaSemanaStr:"Lunes",diaSemanaNum:1,fecha:"",horarios:[],disponibilidades:""},e.renderCabecera=e.renderCabecera.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"render",value:function(){var e=this.props.fecha.fecha<new Date;return r.a.createElement("div",null,this.renderCabecera(this.props.fecha.fecha),r.a.createElement("div",{className:"tituloDia",elevation:5,style:$c.paper},r.a.createElement(Zc,{servicio:this.props.fecha.servicio,tipo:this.props.fecha.tipo,fexaForm:this.props.fecha.fecha,filtroTutores:this.props.fecha.listaIdTutores,idPro:this.props.idPro,duracionPro:this.props.duracionPro,diseibol:e})))}}]),t}(n.Component),al={control:{textAlign:"center"},container:{minHeight:"500px",maxHeight:"800px"}},tl=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).renderDias=function(a,t){if(a){for(var n=Lt()(new Date(a)).toDate(),i=[],o=0;o<7;o++)i.push(n),n=Lt()(n).add("days",1).toDate();return r.a.createElement(r.a.Fragment,null,"disponibilidad"!==e.props.tipo?r.a.createElement(R.a,{container:!0,spacing:2},i.map((function(a){return r.a.createElement(R.a,{item:!0,style:{width:180,height:180,flexGrow:1}},r.a.createElement(el,{hoy:!0,fecha:{fecha:a,servicio:e.props.servicio+Lt()(a).add("hours",-5).toISOString().split("T")[0]}}))}))):r.a.createElement(R.a,{container:!0,spacing:2},i.map((function(a){return r.a.createElement(R.a,{item:!0,style:{width:180,height:180,flexGrow:1}},e.state.filtroIdProceso?r.a.createElement(el,{idPro:"number"===typeof e.state.filtroIdProceso?e.state.filtroIdProceso:e.state.filtroIdProceso.ID_PROCESO_TUTORIA,duracionPro:e.state.duracionPro,fecha:{fecha:a,servicio:e.state.estadoID?t===[]?"/api/disponibilidad/listarPrograma/".concat(Q().usuario.ROL_X_USUARIO_X_PROGRAMAs[0].ID_PROGRAMA,"/").concat(Lt()(a).add("hours",-5).toISOString().split("T")[0]):"/api/disponibilidad/listarPrograma/".concat(Q().usuario.ROL_X_USUARIO_X_PROGRAMAs[0].ID_PROGRAMA,"/").concat(Lt()(a).add("hours",-5).toISOString().split("T")[0],"/").concat(e.state.estadoID):e.props.servicio+Lt()(a).add("hours",-5).toISOString().split("T")[0],tipo:e.props.tipo,listaIdTutores:t}}):r.a.createElement(r.a.Fragment,null))}))))}},e.handleDuracion=function(){var a=Object(l.a)(c.a.mark((function a(t){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.setState({duracionPro:t});case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),e.handleFiltroProceso=function(){var a=Object(l.a)(c.a.mark((function a(t){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return"object"===typeof t?e.handleFiltroTutor({id:t.ASIGNACION_TUTORIA[0].ID_TUTOR,nombre:"".concat(t.ASIGNACION_TUTORIA[0].TUTOR.USUARIO.NOMBRE," ").concat(t.ASIGNACION_TUTORIA[0].TUTOR.USUARIO.APELLIDOS)}):e.setState({estadoID:0}),a.next=3,e.setState({filtroIdProceso:t});case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),e.handleFiltroTutores=function(){var a=Object(l.a)(c.a.mark((function a(t){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.setState({listaIdTutores:t});case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),e.state={Ndias:6,fechaActual:Lt()(new Date).toDate("YYYY-MM-DD"),lunesActual:"",fechaControles:{},modoBatallador:!0,filtroIdProceso:0,listaIdTutores:[],estadoTitulo:"",estadoID:0,duracionPro:0},e.saltarEnElTiempo=e.saltarEnElTiempo.bind(Object(M.a)(e)),e.handleFiltroProceso=e.handleFiltroProceso.bind(Object(M.a)(e)),e.handleFiltroTutores=e.handleFiltroTutores.bind(Object(M.a)(e)),e.handleModoBatallador=e.handleModoBatallador.bind(Object(M.a)(e)),e.handleFiltroTutor=e.handleFiltroTutor.bind(Object(M.a)(e)),e.handleDuracion=e.handleDuracion.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"saltarEnElTiempo",value:function(){var e=Object(l.a)(c.a.mark((function e(a){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return t=Lt()(new Date(this.state.lunesActual)).toDate(),e.t0=this,e.next=6,Lt()(new Date(t.setDate(t.getDate()+a))).toDate();case 6:e.t1=e.sent,e.t2={lunesActual:e.t1},e.t0.setState.call(e.t0,e.t2),this.setState({fechaControles:{mes:Dc[t.getMonth()+1],semana:1,fecha:this.state.fechaActual}});case 10:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state.fechaActual,0,1,t=a.getDay()-1,this.setState({fechaControles:{mes:Dc[a.getMonth()+1],semana:1,fecha:a}}),e.t0=this,e.t1=Lt.a,e.t2=Date,e.next=10,a.setDate(a.getDate()-t);case 10:e.t3=e.sent,e.t4=new e.t2(e.t3),e.t5=(0,e.t1)(e.t4).toDate(),e.t6={lunesActual:e.t5},e.t0.setState.call(e.t0,e.t6);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleModoBatallador",value:function(e){this.setState({modoBatallador:e})}},{key:"handleFiltroTutor",value:function(e){this.setState({estadoTitulo:e.nombre}),this.setState({estadoID:e.id})}},{key:"render",value:function(){var e=this.props.programa;return r.a.createElement("div",{id:"AgendarCita",style:al.container},"cita"===this.props.tipo||e?r.a.createElement(Vc,{fecha:this.state.fechaControles,saltoEnElTiempo:this.saltarEnElTiempo,filtroProceso:!0,filtroTutores:!0,handleFiltroProceso:this.handleFiltroProceso,handleFiltroTutores:this.handleFiltroTutores,xxxxxxxxxxx:!0,tutorNombre:this.state.estadoTitulo,modoBatallador:this.handleModoBatallador,tipo:this.props.tipo,colorActivo:this.state.modoBatallador,handleDuracion:this.handleDuracion,programa:e}):r.a.createElement(Cn,{mensaje:"Cargando",size:"xs"}),this.state.modoBatallador?r.a.createElement(R.a,{container:!0,style:al.container},"cita"===this.props.tipo||this.state.filtroIdProceso?this.renderDias(this.state.lunesActual,this.state.listaIdTutores):r.a.createElement(r.a.Fragment,null)):r.a.createElement(Mc,{modoBatallador:this.handleModoBatallador,handleFiltroTutor:this.handleFiltroTutor}))}}]),t}(n.Component),nl=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={procesos:[{titulo:"Calendario de citas",procesos:[{index:0,titulo:"Sesiones con tus alumnos",proceso:function(){return r.a.createElement(tl,{servicio:"/api/listaSesiones/"+Q().usuario.ID_USUARIO+"/",tipo:"cita"})}}]}]},e.renderxTipoProceso=e.renderxTipoProceso.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"renderxTipoProceso",value:function(){return this.props.multiProceso,r.a.createElement("div",null,r.a.createElement(xa,{titulo:this.state.procesos[0].titulo,botonRegistrar:Cc}),r.a.createElement(Tt,{procesos:this.state.procesos[0].procesos,paper:!1}))}},{key:"render",value:function(){return this.renderxTipoProceso()}}]),t}(n.Component),rl=t(663),il=t.n(rl),ol=t(664),sl=t.n(ol),cl=Object(h.a)((function(e){return{caja:{padding:e.spacing(3)},small:{width:e.spacing(3),height:e.spacing(3)},large:Object(N.a)({width:e.spacing(15),height:e.spacing(15)},e.breakpoints.down("sm"),{width:e.spacing(7),height:e.spacing(7)}),separacion:{margin:e.spacing(1)},typoN:Object(N.a)({textAlign:"left",marginTop:e.spacing(1)},e.breakpoints.down("sm"),{textAlign:"center"}),typoF:Object(N.a)({textAlign:"left"},e.breakpoints.down("sm"),{textAlign:"center"})}})),ll=function(e){var a=cl(),t=e.solicitud,n=r.a.useState(!1),i=Object(u.a)(n,2),o=i[0],s=i[1],m=r.a.useState("success"),d=Object(u.a)(m,2),p=d[0],h=d[1],f=r.a.useState(""),O=Object(u.a)(f,2),g=O[0],b=O[1],E=function(){s(!0)},v=function(){s(!1),window.location.reload()},j={ID_ASIGNACION:t.ID_ASIGNACION,ID_ALUMNO:t.ALUMNO.ID_ALUMNO,RESPUESTA:-1},S=function(){var e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={servicio:"/api/solicitud/modificar",request:{solicitud:j}},e.next=3,$(a);case 3:void 0!==e.sent.solicitud.RESPUESTA?(h("success"),b("Se actualiz\xf3 correctamente el estado de la solicitud"),E()):(h("error"),b("Se actualiz\xf3 correctamente el estado de la solicitud"),E());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j.RESPUESTA=1,e.next=3,S();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j.RESPUESTA=0,e.next=3,S();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,function(e,a){return r.a.createElement(Oa.a,{open:o,onClose:v,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Ea.a,{id:"alert-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,justify:"center"},"error"===e?r.a.createElement(r.a.Fragment,null,r.a.createElement(il.a,{color:"error",style:{fontSize:70}})):r.a.createElement(r.a.Fragment,null,r.a.createElement(sl.a,{color:"primary",style:{fontSize:70}})))),r.a.createElement(ba.a,null,r.a.createElement(nn.a,{id:"alert-dialog-description"},a)),r.a.createElement(ga.a,null,r.a.createElement(D.a,{onClick:v,color:"primary",autoFocus:!0},"Aceptar")))}(p,g),r.a.createElement(y.a,{elevation:5,className:a.caja},r.a.createElement(R.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(R.a,{item:!0,xs:12,md:2,container:!0,justify:"center",alignItems:"center"},r.a.createElement(oa.a,{className:a.large})),r.a.createElement(R.a,{item:!0,xs:12,md:7,container:!0,direction:"column"},r.a.createElement(R.a,{item:!0},r.a.createElement(I.a,{variant:"h5",className:a.typoN},t.ALUMNO.USUARIO.NOMBRE)),r.a.createElement(R.a,{item:!0},r.a.createElement(I.a,{variant:"h6",className:a.typoF},t.ALUMNO.USUARIO.APELLIDOS))),r.a.createElement(R.a,{item:!0,xs:12,md:3},r.a.createElement(R.a,{item:!0,xs:12,container:!0,direction:"row",justify:"center",alignItems:"center",spacing:1},r.a.createElement(R.a,{item:!0,xs:6,md:4},r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:A},"Aceptar")),r.a.createElement(R.a,{item:!0,xs:6,md:4},r.a.createElement(D.a,{variant:"outlined",color:"secondary",onClick:C},"Rechazar")))))))},ul=Object(h.a)((function(e){return{caja:Object(N.a)({margin:e.spacing(1),marginTop:e.spacing(2),padding:e.spacing(5),width:e.spacing(200)},e.breakpoints.down("sm"),{width:e.spacing(42)})}})),ml=function(e){var a=ul(),t=e.solicitudes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{className:a.caja},r.a.createElement(R.a,{container:!0,spacing:2,direction:"column"},t.map((function(e){return r.a.createElement(R.a,{item:!0,key:e.ID_ASIGNACION},r.a.createElement(ll,{solicitud:e}))})))))},dl=(Object(h.a)((function(e){return{icon:{marginTop:e.spacing(1)},formControl:{minWidth:e.spacing(30),marginTop:e.spacing(2)},selectEmpty:{marginTop:e.spacing(2)}}})),Object(h.a)((function(e){return{caja:Object(N.a)({margin:e.spacing(1),marginTop:e.spacing(3),padding:e.spacing(3)},e.breakpoints.down("sm"),{padding:e.spacing(1),width:e.spacing(40)})}}))),pl=function(){var e=dl(),a=Q().usuario.ID_USUARIO,t=Object(n.useState)({}),i=Object(u.a)(t,2),o=(i[0],i[1],Object(n.useState)(Q().usuario.ROL_X_USUARIO_X_PROGRAMAs)),s=Object(u.a)(o,2),m=s[0],d=(s[1],Object(n.useState)("")),p=Object(u.a)(d,2),h=p[0],f=p[1],O=Object(n.useState)(!0),g=Object(u.a)(O,2),b=g[0],E=g[1],v=Object(n.useState)([]),j=Object(u.a)(v,2),S=j[0],A=j[1],C=Object(n.useState)(""),I=Object(u.a)(C,2),x=I[0],k=I[1],D=Object(n.useState)([]),N=Object(u.a)(D,2),T=N[0],U=N[1];return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={servicio:"/api/tutoriafijasolicitada/"+h},e.next=4,X(a);case 4:(t=e.sent)&&A(t.tutoria);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==h&&function(){e.apply(this,arguments)}()}),[h]),Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={servicio:"/api/solicitud/"+a+"/"+x},e.next=4,X(t);case 4:(n=e.sent)!==[]&&U(n.solicitudes);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==x&&function(){e.apply(this,arguments)}()}),[x]),r.a.createElement(r.a.Fragment,null,r.a.createElement(xa,{titulo:"Solicitudes de tutor"}),r.a.createElement(R.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(R.a,{item:!0,xs:12},r.a.createElement(y.a,{className:e.caja},r.a.createElement(R.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(R.a,{item:!0,md:6,xs:12},r.a.createElement(Is,{setPDisabled:E,programas:m,programa:h,setPrograma:f})),r.a.createElement(R.a,{item:!0,md:6,xs:12},r.a.createElement(bs,{pDisabled:b,procesosTutoria:S,procesoTutoria:x,setProcesoTutoria:k}))))),r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(ml,{solicitudes:T}))))},hl=function(e){var a=Y(),t=Object(u.a)(a,2),n=t[0],i=(n.usuario,n.auth);t[1];if(!i)return e.history.push("/"),je;var o=Q().rol.toLowerCase().split(" ")[0];return"tutor"!==o&&e.history.push("/"+o),r.a.createElement("div",null,r.a.createElement(f.a,{theme:g},r.a.createElement(d.a,{exact:!0,path:"/tutor/",component:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{N:3}),r.a.createElement(ys,null))}}),r.a.createElement(ls,null,r.a.createElement(d.a,{exact:!0,path:"/tutor/perfil",component:ms}),r.a.createElement(d.a,{exact:!0,path:"/tutor/misalumnos",component:ys}),r.a.createElement(d.a,{exact:!0,path:"/tutor/midisponibilidad",component:Us}),r.a.createElement(d.a,{exact:!0,path:"/tutor/sesiones",component:nl}),r.a.createElement(d.a,{exact:!0,path:"/tutor/solicitudes",component:pl}),r.a.createElement(d.a,{exact:!0,path:"/tutor/sesionesgrupales",component:jc}),r.a.createElement(d.a,{exact:!0,path:"/tutor/misCitas",component:fc}),r.a.createElement(d.a,{exact:!0,path:"/tutor/mialumno/:idAlumno/:fullname",component:Jo}))))},fl=t(666),Ol=t.n(fl),gl=t(665),bl=t.n(gl),El=Object(h.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(250,"px)"),marginLeft:250,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:250,flexShrink:0},drawerPaper:{width:250},drawerHeader:Object(E.a)(Object(E.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-250},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},sectionDesktop:Object(N.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),grow:{flexGrow:1}}})),vl=function(e){var a=El(),t=Object(Ae.a)(),n=Q().usuario.ID_USUARIO,i=r.a.useState(!1),o=Object(u.a)(i,2),s=o[0],d=o[1],p=r.a.useState(null),h=Object(u.a)(p,2),O=h[0],g=h[1],b=Boolean(O),E=r.a.useState(0),v=Object(u.a)(E,2),j=v[0],S=v[1],C=r.a.useState(0),y=Object(u.a)(C,2),x=y[0],k=y[1],D=Y(),T=Object(u.a)(D,2);Object(qt.a)(T[0]);var U=T[1],w=function(){d(!0)},M=function(e){g(e.currentTarget)};function L(){return(L=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={servicio:"/api/notificacion/actualizar/"+n},e.next=4,X(a);case 4:e.sent&&(S(0),k(1));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=r.a.createElement(rs,{anchorEl:O,menuId:"primary-menu",isMenuOpen:b,handleMenuClose:function(){g(null),function(){L.apply(this,arguments)}()},changeNumNotif:function(e){return S(e)},refresh:x}),B=Q(),G=B.usuario,q=B.rol;return r.a.createElement("div",{className:a.root},r.a.createElement(Ie.a,null),r.a.createElement(A.a,{position:"fixed",className:Object(Se.a)(a.appBar,Object(N.a)({},a.appBarShift,s))},r.a.createElement(f.a,{theme:t},r.a.createElement(Qe,{MenuIconButton:function(){return r.a.createElement(ye.a,{color:"inherit","aria-label":"open drawer",onClick:w,edge:"start",className:Object(Se.a)(a.menuButton,s&&a.hide)},r.a.createElement(ke.a,null))},imagenPerfil:G.IMAGEN?G.IMAGEN:"https://www.w3schools.com/howto/img_avatar.png",rol:q,NOMBRE:G.NOMBRE,APELLIDOS:G.APELLIDOS,CampanitaIconButton:function(){return r.a.createElement(ye.a,{"aria-label":"norifications of the user","aria-controls":"primary-menu","aria-haspopup":"true",color:"inherit",onClick:M},r.a.createElement(is.a,{badgeContent:j,color:"error"},r.a.createElement(ss.a,null)))}}))),P,r.a.createElement(Ce.a,{className:a.drawer,variant:"persistent",anchor:"left",open:s,classes:{paper:a.drawerPaper}},r.a.createElement("div",{className:a.drawerHeader},r.a.createElement(R.a,{container:!0,spacing:1},r.a.createElement(R.a,{item:!0,md:9},r.a.createElement(de,{src:"https://ututor-recursos.s3.amazonaws.com/Imagenes/ututor-main-logo-inverted.png",logoVerde:!0})),r.a.createElement(R.a,{item:!0,md:3},r.a.createElement(ye.a,{onClick:function(){d(!1)}},"ltr"===t.direction?r.a.createElement(Ne.a,null):r.a.createElement(Ue.a,null))),r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(I.a,{variant:"h6",textAlign:"center",style:{"text-align":"center"}},q)))),r.a.createElement(F.a,null),r.a.createElement(Re.a,null,["Solicitar Tutor Fijo","Perfil","Agendar Cita","Mis Citas"].map((function(e,a){return r.a.createElement(we.a,{button:!0,key:e,component:m.b,to:"/alumno/"+e.split(" ").join("").toLowerCase()},r.a.createElement(Me.a,null,0===a?r.a.createElement(_e.a,{color:"primary"}):2===a?r.a.createElement(bl.a,{color:"primary"}):1===a?r.a.createElement(Ol.a,{color:"primary"}):r.a.createElement(Fe.a,{color:"primary"})),r.a.createElement(Le.a,{primary:e,color:"primary"}))})),r.a.createElement(we.a,{button:!0,key:"Cerrar Sesion",component:m.b,to:"/",onClick:function(){te(U)}},r.a.createElement(Me.a,null,r.a.createElement(We.a,{color:"primary"})),r.a.createElement(Le.a,{primary:"Cerrar Sesion",color:"primary"})))),r.a.createElement("main",{className:Object(Se.a)(a.content,Object(N.a)({},a.contentShift,s))},r.a.createElement("div",{className:a.drawerHeader}),e.contenido,e.children))},jl=(t(1208),Object(h.a)((function(e){return{customContainer:{marginTop:e.spacing(5)}}}))),Sl=function(e){var a=jl(),t=Object(n.useState)(!1),i=Object(u.a)(t,2),o=i[0],s=i[1],m=Object(n.useState)({CODIGO:Q().usuario.CODIGO,CORREO:Q().usuario.CORREO,DIRECCION:Q().usuario.DIRECCION,TELEFONO:Q().usuario.TELEFONO}),d=Object(u.a)(m,2),p=d[0],h=d[1],f=Object(n.useRef)(null),O=Object(n.useRef)(null),g=Object(n.useState)(""),b=Object(u.a)(g,2),v=b[0],j=b[1],S=Object(n.useState)({mensaje:""}),A=Object(u.a)(S,2),C=A[0],I=A[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var a,t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/api/alumno/"+Q().usuario.ID_USUARIO,t={servicio:a},e.next=4,X(t);case 4:n=e.sent,console.log("alumno:",n),null!==n&&void 0!==n.alumno&&null!==n.alumno&&(h(Object(E.a)(Object(E.a)({},p),{},{DIRECCION:n.alumno.USUARIO.DIRECCION,TELEFONO:n.alumno.USUARIO.TELEFONO})),null!==O&&null!==f&&null!==O.current&&null!==f.current&&(O.current.value=n.alumno.USUARIO.TELEFONO,f.current.value=n.alumno.USUARIO.DIRECCION));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var y=function(){var a=Object(l.a)(c.a.mark((function a(){var t,n;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(!1),t={ID_USUARIO:e.idAlumno?e.idAlumno:Q().usuario.ID_USUARIO,TELEFONO:O.current.value,DIRECCION:f.current.value},n={servicio:"/api/usuario/actualizarperfil",request:{usuario:t}},a.next=5,$(n);case 5:null!==a.sent?(j("success"),I({mensaje:"Se guardaron los cambios correctamente"})):(j("error"),I({mensaje:"Algo sali\xf3 mal, int\xe9ntalo nuevamente en unos minutos"}));case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(R.a,{container:!0,spacing:5,justify:"center",alignItems:"center",className:a.customContainer},r.a.createElement(R.a,{item:!0},r.a.createElement(se,{severity:v,titulo:"Observacion:",alerta:C}),r.a.createElement(No,{isEdit:o,codigo:p.CODIGO,correo:p.CORREO,direccion:p.DIRECCION,telefono:p.TELEFONO,refs:{dir:f,tel:O},handleEdit:function(e){s(!0)},handleGuardar:y}))))},Al=Object(h.a)((function(e){return{customContainer:{marginTop:e.spacing(5)}}})),Cl=function(e){Al();var a=Object(n.useState)(!1),t=Object(u.a)(a,2),i=(t[0],t[1],Q().usuario),o=i.ID_USUARIO,s=i.NOMBRE,c=i.APELLIDOS,l=[{index:0,titulo:"Datos Generales",proceso:Sl,paper:!1},{index:1,titulo:"Plan de Acci\xf3n",proceso:Lo},{index:2,titulo:"Resultados",proceso:function(){return r.a.createElement(zo,{datosAlumno:{idAlumno:o,fullname:"".concat(s," ").concat(c)}})}},{index:3,titulo:"Asistencias",proceso:function(){return r.a.createElement(Ho,{datosAlumno:{idAlumno:o,fullname:"".concat(s," ").concat(c)}})}},{index:4,titulo:"Infomaci\xf3n Relevante",proceso:function(){return r.a.createElement(sr,{usuario:Q().usuario,idAlumno:o})}}];Object(n.useRef)(null),Object(n.useRef)(null);return r.a.createElement("div",null,r.a.createElement(ma,{titulo:"Alumno",nombre:Q().usuario.APELLIDOS+", "+Q().usuario.NOMBRE}),r.a.createElement(Tt,{procesos:l,paper:!0}))},Il={paper:{backgroundColor:"#ffffff"}},Rl=(n.Component,{paper:{backgroundColor:"#ffffff"}}),yl=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={filtroFacultad:"",usuario:null},e.handleOnChangePrograma=e.handleOnChangePrograma.bind(Object(M.a)(e)),e.handleOnChangeFacultad=e.handleOnChangeFacultad.bind(Object(M.a)(e)),e.getEnlace=e.getEnlace.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"handleOnChangePrograma",value:function(e){var a=Object.assign({},this.state.tutoria);a.programa=e[0],this.setState({tutoria:a})}},{key:"handleOnChangeFacultad",value:function(e){var a="/api/programas/alumno/".concat(this.state.usuario.ID_USUARIO,"/").concat(e[0]);this.setState({filtroFacultad:a})}},{key:"handleOnChangePrograma",value:function(e){this.props.obtenerPrograma(e[0])}},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props.usuario){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.setState({usuario:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSubRol",value:function(e){return e.toLowerCase()}},{key:"getEnlace",value:function(e){this.getSubRol(Q().rol);return"/api/facultad/alumno/"+e.ID_USUARIO}},{key:"render",value:function(){return r.a.createElement(y.a,{style:Rl.paper},r.a.createElement(R.a,{container:!0,spacing:0},r.a.createElement(R.a,{item:!0,md:6,xs:12},r.a.createElement(I.a,{component:"h1",variant:"h5",style:{marginLeft:"2%"}},r.a.createElement("h2",null,this.props.titulo))),r.a.createElement(R.a,{item:!0,md:3,xs:6},this.state.usuario?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(vn,{mensaje:"facultad",titulo:"Facultad",enlace:this.getEnlace(this.state.usuario),id:"ID_PROGRAMA",nombre:"NOMBRE",subnombre:"FACULTAD",keyServicio:"facultades",escogerItem:this.handleOnChangeFacultad,small:!0,inicial:!0,placeholder:"Escoja la facultad"})):r.a.createElement(Cn,{mensaje:"Cargando",size:"xs"})),r.a.createElement(R.a,{item:!0,md:3,xs:6},this.state.filtroFacultad?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(vn,{mensaje:"programa",titulo:"Programa",enlace:this.state.filtroFacultad,id:"ID_PROGRAMA",nombre:"NOMBRE",keyServicio:"programas",escogerItem:this.handleOnChangePrograma,small:!0,inicial:!0,placeholder:"Escoja el programa"})):r.a.createElement(Cn,{mensaje:"Cargando",size:"xs"}))))}}]),t}(n.Component),xl=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={programa:void 0,procesos:[{titulo:"Solicite una cita seg\xfan las disponibilidades",procesos:[{index:0,titulo:"Horarios Disponibles",proceso:function(){return r.a.createElement(tl,{servicio:"/api/disponibilidad/listarDia/"+Q().usuario.ROL_X_USUARIO_X_PROGRAMAs[0].ID_PROGRAMA,tipo:"disponibilidad"})}},{index:1,titulo:"Tutores",proceso:Mc}]},{titulo:"Escoja un tutor para todo el presente ciclo",procesos:[{index:0,titulo:"Tutores",proceso:xc}]}]},e.renderxTipoProceso=e.renderxTipoProceso.bind(Object(M.a)(e)),e.obtenerPrograma=e.obtenerPrograma.bind(Object(M.a)(e)),e.handleOnChangeProceso=e.handleOnChangeProceso.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"handleOnChangeProceso",value:function(e){}},{key:"obtenerPrograma",value:function(e){this.setState({programa:e})}},{key:"renderxTipoProceso",value:function(){var e=Object(l.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.a.createElement("div",null,r.a.createElement(Tt,{procesos:[{index:0,titulo:"",proceso:function(){return a?r.a.createElement(tl,{servicio:"/api/disponibilidad/listarPrograma/"+a+"/",tipo:"disponibilidad",programa:a}):r.a.createElement(r.a.Fragment,null)}}],paper:!1})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(yl,{titulo:this.state.procesos[0].titulo,usuario:Q().usuario,obtenerPrograma:this.obtenerPrograma}),this.state.programa?r.a.createElement(Tt,{procesos:[{index:0,titulo:"",proceso:function(){return r.a.createElement(tl,{servicio:"/api/disponibilidad/listarPrograma/"+e.state.programa+"/",tipo:"disponibilidad",programa:e.state.programa})}}],paper:!1}):r.a.createElement(r.a.Fragment,null))}}]),t}(n.Component),kl=Object(b.c)(d.f)(xl),Dl={control:{textAlign:"center"},paper:{borderTop:"2px solid #3AAFA9",backgroundColor:"#ffffff"},paperTitulo:{marginTop:"2%",marginLeft:"7%",marginRight:"7%"}},Nl=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).saltoEnElTiempoLocal=function(a){e.props.saltoEnElTiempo(a)},e.handleOnChangeTutores=function(a){var t=[];a.forEach((function(e){e.agregar&&t.push(e.id)})),e.setState({etiqueta:t}),e.props.handleFiltroTutores(t)},e.state={atras:-1,adelante:1,colorActivo:"primary",colorInactivo:"secondary",colorLista:"primary",colorBatallador:"secondary",etiqueta:[],vistaColumna:"Columna",vistaLista:"Lista",tutorSeleccionado:"Nombre del Tutor"},e.saltoEnElTiempoLocal=e.saltoEnElTiempoLocal.bind(Object(M.a)(e)),e.ModoBatallador=e.ModoBatallador.bind(Object(M.a)(e)),e.ModoLista=e.ModoLista.bind(Object(M.a)(e)),e.handleOnChangeTutores=e.handleOnChangeTutores.bind(Object(M.a)(e)),e.handleOnChangeProceso=e.handleOnChangeProceso.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"handleOnChangeProceso",value:function(e){this.props.handleFiltroProceso(e[0])}},{key:"ModoBatallador",value:function(){this.props.modoBatallador(!0),this.setState({colorBatallador:this.state.colorActivo}),this.setState({colorLista:this.state.colorInactivo}),this.setState({vistaColumna:"Columna"}),this.setState({vistaLista:"Lista"})}},{key:"ModoLista",value:function(){this.props.modoBatallador(!1),this.setState({colorBatallador:this.state.colorInactivo}),this.setState({colorLista:this.state.colorActivo}),this.setState({vistaColumna:"Columna"}),this.setState({vistaLista:"Lista"})}},{key:"render",value:function(){var e=this;return r.a.createElement(y.a,{style:Dl.paper},r.a.createElement(R.a,{container:!0,spacing:0,alignContent:"center"},r.a.createElement(R.a,{item:!0,md:1,xs:1},r.a.createElement(R.a,{container:!0,spacing:0,alignContent:"center"},r.a.createElement(R.a,{item:!0,md:3,xs:3},r.a.createElement(ye.a,{sizeSmall:!0,color:"primary","aria-label":"delete",onClick:function(){return e.saltoEnElTiempoLocal(-28)}},r.a.createElement(Pc.a,null))),r.a.createElement(R.a,{item:!0,md:6,xs:6},r.a.createElement("h3",{style:Dl.control},this.props.fecha.mes||"Mes Actual")),r.a.createElement(R.a,{item:!0,md:3,xs:3},r.a.createElement(ye.a,{sizeSmall:!0,color:"primary","aria-label":"delete",onClick:function(){return e.saltoEnElTiempoLocal(28)}},r.a.createElement(Bc.a,null))))),r.a.createElement(R.a,{item:!0,md:3,xs:3},"disponibilidad"!==this.props.tipo?r.a.createElement(r.a.Fragment,null):this.props.filtroProceso?r.a.createElement(vn,{mensaje:"proceso",titulo:"Procesos de tutor\xedas Fijas",enlace:"/api/tutoriafijasolicitada/"+Q().usuario.ROL_X_USUARIO_X_PROGRAMAs[0].ID_PROGRAMA,id:"ID_PROCESO_TUTORIA",nombre:"NOMBRE",keyServicio:"tutoria",escogerItem:this.handleOnChangeProceso,small:!0,inicial:!0,placeholder:"Escoja el proceso de tutoria"}):r.a.createElement(r.a.Fragment,null)),r.a.createElement(R.a,{item:!0,md:3,xs:3},r.a.createElement("h3",{style:Dl.control},"Hoy: "+new Date(this.props.fecha.fecha).toDateString()," "),"disponibilidad"!==this.props.tipo?r.a.createElement(r.a.Fragment,null):r.a.createElement(R.a,{container:!0,spacing:0,style:Dl.control},r.a.createElement(R.a,{item:!0,md:12,xs:12,alignContent:"center"},this.state.vistaLista,r.a.createElement(ye.a,{onClick:function(){return e.ModoLista()}},r.a.createElement(qc.a,{color:this.props.colorActivo?"Secondary":"Primary"})),r.a.createElement(ye.a,{onClick:function(){return e.ModoBatallador()},disabled:this.props.columnasInvisible},r.a.createElement(Hc.a,{color:this.props.colorActivo?"Primary":"Secondary"})),this.state.vistaColumna))),r.a.createElement(R.a,{item:!0,md:4,xs:4},r.a.createElement(y.a,{style:Dl.paperTitulo,elevation:0},r.a.createElement(k.a,null,r.a.createElement("strong",null,"Tutor Seleccionado:")," "),r.a.createElement("h3",null,this.props.tutorNombre))),r.a.createElement(R.a,{item:!0,md:1,xs:1},r.a.createElement(R.a,{container:!0,spacing:0,alignContent:"center"},r.a.createElement(R.a,{item:!0,md:3,xs:3},r.a.createElement(ye.a,{color:"primary","aria-label":"delete",onClick:function(){return e.saltoEnElTiempoLocal(-7)}},r.a.createElement(Pc.a,null))),r.a.createElement(R.a,{item:!0,md:6,xs:6},r.a.createElement("h3",{style:Dl.control},"Semana"+this.props.fecha.semana||!1)),r.a.createElement(R.a,{item:!0,md:3,xs:3},r.a.createElement(ye.a,{color:"primary","aria-label":"delete",onClick:function(){return e.saltoEnElTiempoLocal(7)}},r.a.createElement(Bc.a,null)))))))}}]),t}(n.Component),Tl={paper:{borderTop:"3px solid #3AAFA9",backgroundColor:"#ffffff"},chip:{textAlign:"center"}},Ul=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={tutores:{columns:[{title:"Nombre",field:"nombre"}],data:[{nombre:""}]},open:!1},e.handleOnClick=e.handleOnClick.bind(Object(M.a)(e)),e.handleOnClose=e.handleOnClose.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"handleOnClick",value:function(){this.setState({open:!0})}},{key:"handleOnClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){var e,a,t=this.props.disponibilidad;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{style:Tl.paper},r.a.createElement(R.a,{container:!0,spacing:0},r.a.createElement(R.a,{container:!0,spacing:0},r.a.createElement(R.a,{item:!0,md:3,xs:3},t.TUTOR.USUARIO.IMAGEN?r.a.createElement(de,{src:"data:image/jpeg;base64,".concat(t.TUTOR.USUARIO.IMAGEN)}):r.a.createElement(de,{square:!0,src:"https://cdn.iconscout.com/icon/premium/png-256-thumb/deadline-calendar-date-schedule-timeline-33430.png"})),r.a.createElement(R.a,{item:!0,md:9,xs:9},r.a.createElement(R.a,{item:!0,md:12,xs:12},r.a.createElement(I.a,{component:"paragraph"},(null===(e=t.TUTOR.USUARIO)||void 0===e?void 0:e.NOMBRE)+" ")),r.a.createElement(R.a,{item:!0,md:12,xs:12},r.a.createElement(I.a,{component:"paragraph"},null===(a=t.TUTOR.USUARIO)||void 0===a?void 0:a.APELLIDOS)))),r.a.createElement(R.a,{container:!0,spacing:0},r.a.createElement(R.a,{item:!0,md:1,xs:1}),r.a.createElement(R.a,{item:!0,md:1,xs:1},r.a.createElement(I.a,{variant:"button",component:"h4",style:Tl.chip,display:"block",gutterBottom:!0},r.a.createElement("strong",{style:Tl.chip},"De:"))),r.a.createElement(R.a,{item:!0,md:4,xs:4},r.a.createElement(ei.a,{label:null===t||void 0===t?void 0:t.HORA_INICIO,color:"primary",size:"small",variant:"outlined"})),r.a.createElement(R.a,{item:!0,md:1,xs:1},r.a.createElement(I.a,{variant:"button",component:"h4",style:Tl.chip,display:"block",gutterBottom:!0},r.a.createElement("strong",null,"A:"))),r.a.createElement(R.a,{item:!0,md:4,xs:4},r.a.createElement(ei.a,{label:null===t||void 0===t?void 0:t.HORA_FIN,color:"primary",size:"small",variant:"outlined"}),r.a.createElement(R.a,{item:!0,md:1,xs:1}))))),r.a.createElement("br",null))}}]),t}(n.Component),wl={centerizable:{textAlign:"center"}},Ml=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).renderHorarios=function(a){if(a.data)return r.a.createElement("div",null,a.data.map((function(a){return"disponibilidad"===e.props.tipo?r.a.createElement(Ul,{disponibilidad:a,fexaForm:e.props.fexaForm}):r.a.createElement(Qc,{cita:a})})),0===a.data.length?r.a.createElement(y.a,null,r.a.createElement("p",{style:wl.centerizable},"Aun no hay horarios")):r.a.createElement(r.a.Fragment,null))},e.state={horarios:[]},e.renderHorarios=e.renderHorarios.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.servicio){e.next=2;break}return e.abrupt("return");case 2:return a=this.props.servicio,e.next=5,X({servicio:a});case 5:t=e.sent,this.setState({horarios:t});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(){var e=Object(l.a)(c.a.mark((function e(a){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.servicio===this.props.servicio){e.next=5;break}return e.next=3,X({servicio:a.servicio});case 3:t=e.sent,this.setState({horarios:t});case 5:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.renderHorarios(this.state.horarios))}}]),t}(n.Component),Ll={paper:{marginTop:"1%",flexDirection:"column",backgroundImage:"",minHeight:"500px",maxHeight:"800px",whiteSpace:"nowrap"},control:{textAlign:"center"},titutloDia:{borderTop:"2px solid #3AAFA9",backgroundColor:"#ffffff"}},Pl=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).renderCabecera=function(e){var a=new Date(e);return r.a.createElement("div",{style:Ll.titutloDia},r.a.createElement(I.a,{variant:"button",component:"h2",style:Ll.control,display:"block",gutterBottom:!0},r.a.createElement("strong",null," ",kc[a.getDay()]+" "+a.getDate(),"  ")))},e.state={diaSemanaStr:"Lunes",diaSemanaNum:1,fecha:"",horarios:[],disponibilidades:""},e.renderCabecera=e.renderCabecera.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.renderCabecera(this.props.fecha.fecha),r.a.createElement("div",{className:"tituloDia",elevation:5,style:Ll.paper},r.a.createElement(Ml,{servicio:this.props.fecha.servicio,tipo:this.props.fecha.tipo,fexaForm:this.props.fecha.fecha})))}}]),t}(n.Component),Fl={control:{textAlign:"center"},container:{marginLeft:"1%",marginRight:"1%",minHeight:"500px",maxHeight:"800px"}},Bl=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).renderDias=function(a){if(a){for(var t=new Date(a),n=[],i=0;i<6;i++)n.push(new Date(t.setDate(t.getDate()))),t.setDate(t.getDate()+1);return r.a.createElement(r.a.Fragment,null,n.map((function(a){return r.a.createElement(R.a,{item:!0,md:2,xs:2},r.a.createElement(Pl,{fecha:{fecha:a,servicio:e.state.estadoID?"/api/disponibilidad/listarPrograma/".concat(Q().usuario.ROL_X_USUARIO_X_PROGRAMAs[0].ID_PROGRAMA,"/").concat(a.toISOString().split("T")[0],"/").concat(e.state.estadoID):e.props.servicio+a.toISOString().split("T")[0],tipo:e.props.tipo}}))})))}},e.state={Ndias:6,fechaActual:new Date,lunesActual:"",fechaControles:{},modoBatallador:!1,_idProceso:0,columnasInvisible:0,estadoTitulo:"",estadoID:0},e.saltarEnElTiempo=e.saltarEnElTiempo.bind(Object(M.a)(e)),e.handleFiltroProceso=e.handleFiltroProceso.bind(Object(M.a)(e)),e.handleFiltroTutor=e.handleFiltroTutor.bind(Object(M.a)(e)),e.handleModoBatallador=e.handleModoBatallador.bind(Object(M.a)(e)),e.actualizarVisibilidadColumnas=e.actualizarVisibilidadColumnas.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"saltarEnElTiempo",value:function(){var e=Object(l.a)(c.a.mark((function e(a){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return t=new Date(this.state.lunesActual),e.t0=this,e.next=6,new Date(t.setDate(t.getDate()+a));case 6:e.t1=e.sent,e.t2={lunesActual:e.t1},e.t0.setState.call(e.t0,e.t2);case 9:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"actualizarVisibilidadColumnas",value:function(e){this.setState({columnasInvisible:e})}},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state.fechaActual,0,1,t=a.getDay()-1,this.setState({fechaControles:{mes:Dc[a.getMonth()+1],semana:1,fecha:a}}),e.t0=this,e.t1=Date,e.next=9,a.setDate(a.getDate()-t);case 9:e.t2=e.sent,e.t3=new e.t1(e.t2),e.t4={lunesActual:e.t3},e.t0.setState.call(e.t0,e.t4);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleModoBatallador",value:function(e){this.setState({modoBatallador:e})}},{key:"handleFiltroTutor",value:function(e){this.setState({estadoTitulo:e.nombre}),this.setState({estadoID:e.id})}},{key:"handleFiltroProceso",value:function(e){this.setState({_idProceso:e})}},{key:"handleFiltroTutores",value:function(e){}},{key:"render",value:function(){return r.a.createElement("div",{style:Fl.container},r.a.createElement(Nl,{fecha:this.state.fechaControles,saltoEnElTiempo:this.saltarEnElTiempo,filtroProceso:!0,filtroTutores:!0,handleFiltroProceso:this.handleFiltroProceso,handleFiltroTutores:this.handleFiltroTutores,tutorNombre:this.state.estadoTitulo,modoBatallador:this.handleModoBatallador,tipo:this.props.tipo,colorActivo:this.state.modoBatallador,columnasInvisible:this.state.columnasInvisible}),this.state.modoBatallador?r.a.createElement(R.a,{container:!0,spacing:4,alignContent:"center"},this.renderDias(this.state.lunesActual)):this.state._idProceso&&r.a.createElement(xc,{modoBatallador:this.handleModoBatallador,frmIdProceso:this.state._idProceso,handleFiltroTutor:this.handleFiltroTutor,actualizarVisibilidadColumnas:this.actualizarVisibilidadColumnas}))}}]),t}(n.Component),Gl=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={procesos:[{titulo:"Escoja un tutor para todo el ciclo seg\xfan la tutor\xeda fija seleccionada ",procesos:[{index:0,titulo:"Horarios disponibles",proceso:function(){return r.a.createElement(Bl,{servicio:"/api/disponibilidad/listarDia/"+Q().usuario.ROL_X_USUARIO_X_PROGRAMAs[0].ID_PROGRAMA,tipo:"disponibilidad"})}}]}]},e.renderxTipoProceso=e.renderxTipoProceso.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"renderxTipoProceso",value:function(e){return this.props.multiProceso,r.a.createElement("div",null,r.a.createElement(xa,{titulo:this.state.procesos[0].titulo}),r.a.createElement(Tt,{procesos:[{index:0,titulo:"",proceso:function(){return r.a.createElement(Bl,{servicio:"/api/disponibilidad/listarPrograma/"+e.usuario.ROL_X_USUARIO_X_PROGRAMAs[0].ID_PROGRAMA+"/",tipo:"disponibilidad"})}}],paper:!1}))}},{key:"render",value:function(){var e=Q();return this.renderxTipoProceso(e)}}]),t}(n.Component),ql=Object(b.c)(d.f)(Gl);var _l=function(e){var a=[],t=[],n=1,i=e.estado;return"PyR"===i?e.sesiones.columns.forEach((function(e){"Encuesta"!==e.title&&t.push(e)})):"Cancelada"===i?e.sesiones.columns.forEach((function(e){"Cancelar Cita"!==e.title&&"Encuesta"!==e.title&&"Estado"!==e.title&&t.push(e)})):e.sesiones.columns.forEach((function(e){"Cancelar Cita"!==e.title&&t.push(e)})),e.sesiones.data.forEach((function(t){"PyR"===e.estado?"Pendiente"!==t.campoEstado&&"Reprogramada"!==t.campoEstado&&"Pendiente Registro"!==t.campoEstado||(t.campoCont=n,a.push(t),n++):"Cancelada"===e.estado&&"Cancelada"===t.campoEstado&&(t.campoCont=n,a.push(t),n++)})),void 0===a.length?r.a.createElement(Cn,{mensaje:"Cargando Citas",size:"md",base:!0}):r.a.createElement(wt.a,{title:"",columns:t,data:a,agrupar:!0})},Hl=t(1272),zl=(t(509),Object(h.a)((function(e){return{root:{width:400+2*e.spacing(3)},margin:{height:e.spacing(3)}}})));var Vl=Object(pe.a)({root:{color:"'#52af77'",height:8},thumb:{height:24,width:24,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:7,borderRadius:4},rail:{height:7,borderRadius:4}})(Hl.a);function Wl(e){var a=zl(),t=(e.value,e.setValue);return r.a.createElement("div",{className:a.root},r.a.createElement(Vl,{valueLabelDisplay:"auto",onChange:t,step:1,marks:!0,min:1,max:5}))}var Yl=t(1225),Jl=t(1263);function Kl(e){var a=e.check,t=e.setSwitch;return r.a.createElement("div",null,r.a.createElement(R.a,{container:!0,md:12,alignItems:"flex-end"},r.a.createElement(R.a,{item:!0,md:1},r.a.createElement(I.a,{gutterBottom:!0},"No")),r.a.createElement(Yl.a,{row:!0},r.a.createElement(Yr.a,{control:r.a.createElement(Jl.a,{checked:a,onChange:t,color:"primary"})})),r.a.createElement(I.a,{gutterBottom:!0},"Si")))}var Ql=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).handleOnOpen=function(a){e.setState({open:!0}),e.state.encuesta.sesion=a},e.handleOnChangeAcompa\u00f1a=function(a,t){e.state.encuesta.acompana=t},e.handleOnChangeUtilidad=function(a,t){e.state.encuesta.utilidad=t},e.handleOnChangeUtilizoRec=function(a){e.state.encuesta.influyo=a.target.checked},e.handleOnChangeSoluciono=function(a){e.state.encuesta.ayudo=a.target.checked},e.handleOnChangeRecomendaria=function(a){e.state.encuesta.recomienda=a.target.checked},e.state={sesiones:{columns:[{title:"Nombre",field:"nombre"}],data:[{nombre:""}]},open:!1,deshabilitar:[{valor:!0}],encuesta:{sesion:"",acompana:1,utilidad:1,influyo:!1,ayudo:!1,recomienda:!1},alert:{mensajeStrong:"",mensajeStrongError:"Por favor rev\xedsalos",mensajeStrongExito:"Satisfactoriamente",mensajeError:"Existen errores al completar el formulario",mensajeExito:"Se modificaron los datos de la institucion",mensaje:""},severidad:"warning"},e.handleOnClick=e.handleOnClick.bind(Object(M.a)(e)),e.handleOnOpen=e.handleOnOpen.bind(Object(M.a)(e)),e.handleOnClose=e.handleOnClose.bind(Object(M.a)(e)),e.handleOnChangeAcompa\u00f1a=e.handleOnChangeAcompa\u00f1a.bind(Object(M.a)(e)),e.handleOnChangeUtilidad=e.handleOnChangeUtilidad.bind(Object(M.a)(e)),e.handleOnChangeUtilizoRec=e.handleOnChangeUtilizoRec.bind(Object(M.a)(e)),e.handleOnChangeSoluciono=e.handleOnChangeSoluciono.bind(Object(M.a)(e)),e.handleOnChangeRecomendaria=e.handleOnChangeRecomendaria.bind(Object(M.a)(e)),e.establecerData=e.establecerData.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"handleOnClose",value:function(){this.setState({open:!1});var e=Object.assign({},this.state.alert);e.mensaje="",e.mensajeStrong="",this.setState({alert:e}),this.setState({severidad:""}),this.state.encuesta.sesion=null}},{key:"handleOnClick",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a,t,n,r,i,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state.encuesta.influyo?1:0,t=this.state.encuesta.ayudo?1:0,n=this.state.encuesta.recomienda?1:0,r={encuesta:{ID_ALUMNO:Q().usuario.ID_USUARIO,ID_SESION:this.state.encuesta.sesion,SATISFACCION:this.state.encuesta.acompana,UTILIDAD:this.state.encuesta.utilidad,UTILIZO_RECOMENDACIONES:a,SOLUCIONO_SITUACION:t,RECOMENDARIA:n}},i={servicio:"/api/encuesta",request:r},e.next=7,$(i);case 7:o=e.sent,s=Object.assign({},this.state.alert),this.state.deshabilitar[this.state.encuesta.sesion]=!0,o.encuesta?(s.mensaje="Encuesta Registrada",s.mensajeStrong="satisfactoriamente",this.setState({alert:s}),this.setState({severidad:"success"})):o.error?(s.mensaje="La encuesta ya ha sido registrada previamente",this.setState({alert:s}),this.setState({severidad:"error"})):(s.mensaje="Encuesta Invalida, revisar errores",this.setState({alert:s}),this.setState({severidad:"error"}));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"establecerData",value:function(e){var a,t=this,n=[],i=0,o=Object(ka.a)(e.data);try{var s=function(){var e=a.value,o=e.ESTADO.split("-")[0];"00"!=o&&"01"!==o||(i++,n.push({campoCont:i,imagen:r.a.createElement("div",null,e.TUTOR.USUARIO.IMAGEN?r.a.createElement(de,{tablas:!0,src:"data:image/jpeg;base64,".concat(e.TUTOR.USUARIO.IMAGEN)}):r.a.createElement(oa.a,{alt:e.TUTOR.USUARIO.NOMBRE.replace(/["]+/g,""),className:t.props.classes.large},e.TUTOR.USUARIO.NOMBRE[0].match(/[a-z]/i)?e.USUARIO.NOMBRE[0]:e.USUARIO.NOMBRE[1])),nombre:e.TUTOR?e.TUTOR.USUARIO.NOMBRE+" "+e.TUTOR.USUARIO.APELLIDOS:"",fecha:e.FECHA+" / "+e.HORA_INICIO+" - "+e.HORA_FIN,campoLugar:e.LUGAR,tipoTutoria:e.PROCESO_TUTORIum.NOMBRE,campoEncuesta:r.a.createElement("div",null,r.a.createElement(D.a,{size:"large",variant:"outlined",color:"secondary",onClick:function(){return t.handleOnOpen(e.ID_SESION)},disabled:t.state.deshabilitar[e.ID_SESION]},"Valorar"))}))};for(o.s();!(a=o.n()).done;)s()}catch(l){o.e(l)}finally{o.f()}var c={columns:[{title:"N\xb0",field:"campoCont"},{title:"",field:"imagen"},{title:"Tutor",field:"nombre"},{title:"Fecha / Hora",field:"fecha"},{title:"Lugar",field:"campoLugar"},{title:"Tipo Tutoria",field:"tipoTutoria"},{title:"Encuesta",field:"campoEncuesta"}],data:n};this.setState({sesiones:c})}},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/listaSesionAlumno/"+Q().usuario.ID_USUARIO});case 2:a=e.sent,this.establecerData(a);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Oa.a,{open:this.state.open,onClose:this.handleOnClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(se,{severity:this.state.severidad,titulo:"Observaci\xf3n:",alerta:this.state.alert}),r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,justify:"space-between",direction:"row"},r.a.createElement(R.a,{item:!0,md:11},r.a.createElement(I.a,{variant:"h5"},"Encuesta de Satisfacci\xf3n")),r.a.createElement(R.a,{item:!0,md:1},r.a.createElement(Sa.a,{onClick:this.handleOnClose})))),r.a.createElement(ba.a,null,r.a.createElement(R.a,{container:!0,md:12,alignItems:"space-between",direction:"column",spacing:2},r.a.createElement(R.a,{item:!0},r.a.createElement(I.a,{variant:"h6"},"Acompa\xf1amiento de la tutoria")),r.a.createElement(R.a,{container:!0,md:12,justify:"space-evenly"},r.a.createElement(R.a,{item:!0},r.a.createElement(I.a,{gutterBottom:!0},"No satisfecho")),r.a.createElement(R.a,{item:!0},r.a.createElement(I.a,{gutterBottom:!0},"Completamente satisfecho")),r.a.createElement(Wl,{value:this.state.encuesta.acompana,setValue:this.handleOnChangeAcompa\u00f1a})),r.a.createElement(R.a,{item:!0},r.a.createElement(I.a,{variant:"h6"},"Utilidad de la tutoria")),r.a.createElement(R.a,{container:!0,md:12,justify:"space-evenly"},r.a.createElement(R.a,{item:!0},r.a.createElement(I.a,{gutterBottom:!0},"No satisfecho")),r.a.createElement(R.a,{item:!0},r.a.createElement(I.a,{gutterBottom:!0},"Completamente satisfecho")),r.a.createElement(Wl,{value:this.state.encuesta.utilidad,setValue:this.handleOnChangeUtilidad})),r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(I.a,{variant:"h6"},"\xbfUtilizaste las recomendaciones para tomar desiciones?")),r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(Kl,{value:this.state.encuesta.influyo,setSwitch:this.handleOnChangeUtilizoRec})),r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(I.a,{variant:"h6"},"\xbfLa tutor\xeda ayud\xf3 a solucionar la situaci\xf3n?")),r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(Kl,{value:this.state.encuesta.ayudo,setSwitch:this.handleOnChangeSoluciono})),r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(I.a,{variant:"h6"},"\xbfRecomendar\xeda la tutor\xeda?")),r.a.createElement(R.a,{item:!0,md:12},r.a.createElement(Kl,{value:this.state.encuesta.recomienda,setSwitch:this.handleOnChangeRecomendaria})))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{size:"large",variant:"outlined",color:"primary",onClick:this.handleOnClose},"Cancelar"),r.a.createElement(D.a,{size:"large",variant:"contained",color:"primary",onClick:this.handleOnClick},"Guardar"))),r.a.createElement(Ms,{tutores:this.state.sesiones}))}}]),t}(n.Component),Xl=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).handleOnChangeCT=function(a){0===a.target.value.length?e.setState({mensajeError:"Debe ingresar un motivo!",esInvalido:!0}):e.setState({mensajeError:"",esInvalido:!1}),e.setState(Object(N.a)({},a.target.name,a.target.value)),e.setState({yopsRazon:a.target.value})},e.state={sesiones:{columns:[{title:"Nombre",field:"nombre"}],data:[{nombre:""}]},open:!1,openFechaInvalida:!1,fechaPasada:!1,open3:!1,mensajillo:"",graciasYopsIdSesion:0,graciasYopsIdTutor:[],yopsRazon:"",diasAnticipacion:0,actuTys:!1,esInvalido:!0,mensajeError:""},e.handleOnClick=e.handleOnClick.bind(Object(M.a)(e)),e.handleOnClose=e.handleOnClose.bind(Object(M.a)(e)),e.handleOnCloseAdvertencia=e.handleOnCloseAdvertencia.bind(Object(M.a)(e)),e.handleOnCloseCitaCancelada=e.handleOnCloseCitaCancelada.bind(Object(M.a)(e)),e.handleOnclickAceptarCancelacion=e.handleOnclickAceptarCancelacion.bind(Object(M.a)(e)),e}return Object(w.a)(t,[{key:"handleOnClick",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t,n,r,i){var o,s,l,u,m,d,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/facultad/"+i});case 2:if(!(o=e.sent)){e.next=8;break}return e.next=6,X({servicio:"/api/facultad/politicas/"+o.facultad.ID_FACULTAD});case 6:(s=e.sent)&&(l=s.politicas.ANTICIPACION_CANCELAR_CITA,this.state.diasAnticipacion=l,this.setState({diasAnticipacion:l}));case 8:u=Lt()(r).format("YYYY-MM-DD"),m=Lt()(new Date).add(this.state.diasAnticipacion,"days").format("YYYY-MM-DD"),d=Lt()(new Date).format("YYYY-MM-DD"),u<d?(this.setState({fechaPasada:!0}),this.setState({openFechaInvalida:!0})):u<m?this.setState({openFechaInvalida:!0}):(this.setState({graciasYopsIdSesion:t}),(p=[]).push(n),this.setState({graciasYopsIdTutor:p}),this.setState({open:!0}));case 12:case"end":return e.stop()}}),e,this)})));return function(a,t,n,r,i){return e.apply(this,arguments)}}()},{key:"handleOnCloseAceptarCancelacion",value:function(){this.setState({open3:!1})}},{key:"handleOnClose",value:function(){this.setState({open:!1})}},{key:"handleOnCloseCitaCancelada",value:function(){this.setState({open3:!1}),this.setState({open:!1})}},{key:"handleOnCloseAdvertencia",value:function(){this.setState({openFechaInvalida:!1})}},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(c.a.mark((function e(a,t){var n,i,o,s,l,u,m,d,p,h=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.actuTys==this.state.actuTys){e.next=11;break}return e.next=3,X({servicio:"/api/listaSesionAlumno/"+Q().usuario.ID_USUARIO});case 3:n=e.sent,i=[],o=0,s=Lt()(new Date).format("YYYY-MM-DD"),u=Object(ka.a)(n.data);try{for(d=function(){var e=m.value;o++,l=Lt()(e.FECHA).format("YYYY-MM-DD");var a=e.ESTADO.split("-")[0];i.push({campoCont:o,imagen:r.a.createElement("div",null,e.TUTOR.USUARIO.IMAGEN?r.a.createElement(de,{tablas:!0,src:"data:image/jpeg;base64,".concat(e.TUTOR.USUARIO.IMAGEN)}):r.a.createElement(oa.a,{alt:e.TUTOR.USUARIO.NOMBRE.replace(/["]+/g,""),className:h.props.classes.large},e.TUTOR.USUARIO.NOMBRE[0].match(/[a-z]/i)?e.USUARIO.NOMBRE[0]:e.USUARIO.NOMBRE[1])),nombre:e.TUTOR?e.TUTOR.USUARIO.NOMBRE+" "+e.TUTOR.USUARIO.APELLIDOS:"",fecha:e.FECHA+" / "+e.HORA_INICIO+" - "+e.HORA_FIN,lugar:e.LUGAR,tipoTutoria:e.PROCESO_TUTORIum.NOMBRE,btnCancelar:r.a.createElement(D.a,{size:"large",variant:"outlined",color:"secondary",onClick:function(a){return h.handleOnClick(a,e.ID_SESION,e.ID_TUTOR,e.FECHA,e.PROCESO_TUTORIum.ID_PROGRAMA)},disabled:e.PROCESO_TUTORIum.GRUPAL},"CANCELAR"),campoEstado:"00"!==a&&"01"!==a&&"02"!==a&&l<s?"Pendiente Registro":"04"===a?"Pendiente":"03"===a?"Reprogramada":"02"===a?"Cancelada":"Realizada"})},u.s();!(m=u.n()).done;)d()}catch(a){u.e(a)}finally{u.f()}p={columns:[{title:"N\xb0",field:"campoCont"},{title:"",field:"imagen"},{title:"Tutor",field:"nombre"},{title:"Fecha / Hora",field:"fecha"},{title:"Lugar",field:"lugar"},{title:"Tipo Tutoria",field:"tipoTutoria"},{title:"Cancelar Cita",field:"btnCancelar"},{title:"Estado",field:"campoEstado"},{title:"Encuesta",field:"campoEncuesta"}],data:i},this.setState({sesiones:p});case 11:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"handleOnclickAceptarCancelacion",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a,t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Q(),"",t={sesion:{ID_SESION:this.state.graciasYopsIdSesion,ALUMNOS:[a.usuario.ID_USUARIO],RAZON:this.state.yopsRazon,EMISOR:a.usuario.ID_USUARIO.toString(),RECEPTOR:this.state.graciasYopsIdTutor}},n={servicio:"/api/cancelarCita",request:t},e.next=6,$(n);case 6:if(r=e.sent){e.next=9;break}return e.abrupt("return");case 9:r.message?this.setState({mensajillo:r.message}):r.error?this.setState({mensajillo:"Ups, Error Inesperado... Por favor, int\xe9ntelo m\xe1s tarde."}):(this.setState({mensajillo:"\xa1 Cita Cancelada Satisfactoriamente !"}),this.setState({actuTys:!this.state.actuTys})),this.setState({open3:!0});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validarEntradaCT",value:function(e){}},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var a,t,n,i,o,s,l,u,m,d=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({servicio:"/api/listaSesionAlumno/"+Q().usuario.ID_USUARIO});case 2:if(a=e.sent,console.log("arreglo: ",a),t=[],n=0,i=Lt()(new Date).format("YYYY-MM-DD"),a){s=Object(ka.a)(a.data);try{for(u=function(){var e=l.value;n++,o=Lt()(e.FECHA).format("YYYY-MM-DD");var a=e.ESTADO.split("-")[0];t.push({campoCont:n,imagen:r.a.createElement("div",null,e.TUTOR.USUARIO.IMAGEN?r.a.createElement(de,{tablas:!0,src:"data:image/jpeg;base64,".concat(e.TUTOR.USUARIO.IMAGEN)}):r.a.createElement(oa.a,{alt:e.TUTOR.USUARIO.NOMBRE.replace(/["]+/g,""),className:d.props.classes.large},e.TUTOR.USUARIO.NOMBRE[0].match(/[a-z]/i)?e.USUARIO.NOMBRE[0]:e.USUARIO.NOMBRE[1])),nombre:e.TUTOR?e.TUTOR.USUARIO.NOMBRE+" "+e.TUTOR.USUARIO.APELLIDOS:"",fecha:e.FECHA+" / "+e.HORA_INICIO+" - "+e.HORA_FIN,lugar:e.LUGAR,tipoTutoria:e.PROCESO_TUTORIum.NOMBRE,btnCancelar:r.a.createElement(D.a,{size:"large",variant:"outlined",color:"secondary",onClick:function(a){return d.handleOnClick(a,e.ID_SESION,e.ID_TUTOR,e.FECHA,e.PROCESO_TUTORIum.ID_PROGRAMA)},disabled:e.PROCESO_TUTORIum.GRUPAL},"CANCELAR"),campoEstado:"00"!==a&&"01"!==a&&"02"!==a&&o<i?"Pendiente Registro":"04"===a?"Pendiente":"03"===a?"Reprogramada":"02"===a?"Cancelada":"Realizada"})},s.s();!(l=s.n()).done;)u()}catch(c){s.e(c)}finally{s.f()}}m={columns:[{title:"N\xb0",field:"campoCont"},{title:"",field:"imagen"},{title:"Tutor",field:"nombre"},{title:"Fecha / Hora",field:"fecha"},{title:"Lugar",field:"lugar"},{title:"Tipo Tutoria",field:"tipoTutoria"},{title:"Cancelar Cita",field:"btnCancelar"},{title:"Estado",field:"campoEstado"},{title:"Encuesta",field:"campoEncuesta"}],data:t},this.setState({sesiones:m});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Oa.a,{open:this.state.open,onClose:this.handleOnClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ea.a,{id:"alert-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,justify:"center"},r.a.createElement(Za.a,{style:{fontSize:70,fill:"orange"}})),r.a.createElement("h3",null," \xbf Est\xe1 seguro de cancelar esta cita ? ")),r.a.createElement(ba.a,null,r.a.createElement(y.a,{elevation:0},r.a.createElement(B.a,{required:!0,autoFocus:!0,fullWidth:!0,name:"Motivo",label:"Ingrese Motivo de Cancelaci\xf3n",onChange:this.handleOnChangeCT,variant:"outlined",rows:10,multiline:!0}),r.a.createElement(G.a,{error:!0},this.state.mensajeError))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{size:"large",variant:"outlined",color:"primary",onClick:this.handleOnClose},"No"),r.a.createElement(D.a,{size:"large",variant:"contained",color:"primary",disabled:this.state.esInvalido,onClick:this.handleOnclickAceptarCancelacion},"S\xcd"))),this.state.openFechaInvalida&&r.a.createElement(Oa.a,{open:this.state.openFechaInvalida,onClose:this.handleOnCloseAdvertencia},r.a.createElement(Ea.a,{id:"form-dialog-title-fecha"},r.a.createElement(R.a,{container:!0,md:12,justify:"center"},r.a.createElement(Za.a,{style:{fontSize:70,fill:"orange"}}))),r.a.createElement(ba.a,null,r.a.createElement(R.a,{container:!0,md:12,justify:"center"},r.a.createElement(I.a,{variant:"subtitle1"},"Por pol\xedtica de la facultad solo puede cancelar su cita con m\xednimo ",this.state.diasAnticipacion," d\xedas de anticipaci\xf3n"))),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"contained",onClick:this.handleOnCloseAdvertencia,color:"primary"},"Aceptar"))),r.a.createElement(Oa.a,{open:this.state.open3,onClose:this.handleOnCloseCitaCancelada,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Ea.a,{id:"form-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,justify:"center"},this.state.mensajillo.includes("Satisfactoriamente")?r.a.createElement(Ba.a,{color:"primary",style:{fontSize:70}}):r.a.createElement(qa.a,{color:"error",style:{fontSize:70}}))),r.a.createElement(ba.a,null,this.state.mensajillo),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:this.handleOnCloseCitaCancelada},"Aceptar"))),r.a.createElement(Tt,{procesos:[{index:0,titulo:"Pendientes",proceso:function(){return r.a.createElement(_l,{sesiones:e.state.sesiones,estado:"PyR"})}},{index:1,titulo:"Realizadas",proceso:function(){return r.a.createElement(Ql,null)}},{index:2,titulo:"Canceladas",proceso:function(){return r.a.createElement(_l,{sesiones:e.state.sesiones,estado:"Cancelada"})}}],paper:!0}))}}]),t}(n.Component),Zl=Object(re.a)(d.f)(Xl),$l=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(){var e;return Object(U.a)(this,t),(e=a.call(this)).state={procesos:[{index:0,titulo:"",proceso:function(){return r.a.createElement(Zl,null)}}]},e}return Object(w.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(xa,{titulo:"Mis citas agendadas"}),r.a.createElement(Tt,{procesos:this.state.procesos}))}}]),t}(n.Component),eu=function(e){var a=Y(),t=Object(u.a)(a,2),n=t[0],i=(n.usuario,n.auth);t[1];if(i){var o=Q().rol.toLowerCase().split(" ")[0];return"alumno"!==o&&e.history.push("/"+o),r.a.createElement(f.a,{theme:g},r.a.createElement("div",null,r.a.createElement(d.a,{exact:!0,path:"/alumno/",component:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{N:3}),r.a.createElement($l,null))}}),r.a.createElement(vl,null,r.a.createElement(d.a,{exact:!0,path:"/alumno/solicitarTutorFijo",component:ql}),r.a.createElement(d.a,{exact:!0,path:"/alumno/perfil",component:Cl}),r.a.createElement(d.a,{exact:!0,path:"/alumno/agendarCita",component:kl}),r.a.createElement(d.a,{exact:!0,path:"/alumno/misCitas",component:$l}))))}return e.history.push("/"),je},au=function(e){Object(L.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(U.a)(this,t),(n=a.call(this)).state={open:e.open},n.handleOnClose=n.handleOnClose.bind(Object(M.a)(n)),n}return Object(w.a)(t,[{key:"handleOnClose",value:function(){this.setState({open:!1}),this.props.onCloseDialog()}},{key:"shouldComponentUpdate",value:function(e){return e.open!==this.props.open}},{key:"render",value:function(){var e=this.props,a=e.mensaje;e.open;if(""===a)return r.a.createElement(r.a.Fragment,null);var t=a.split(">"),n=Object(u.a)(t,2),i=n[0],o=n[1];return r.a.createElement("div",{style:{display:""===o?"none":"block"}},r.a.createElement(f.a,{theme:g},r.a.createElement(Oa.a,{open:this.props.open,scroll:"paper",onClose:this.handleOnClose,"aria-describedby":"scroll-dialog-description","aria-labelledby":"max-width-dialog-title"},r.a.createElement(Ea.a,{id:"scroll-dialog-title"},r.a.createElement(R.a,{container:!0,md:12,justify:"center"},"X"===i?r.a.createElement(qa.a,{color:"error",style:{fontSize:70}}):"L"===i?r.a.createElement(Cn,{mensaje:"",size:"xs"}):"C"===i?r.a.createElement(Ba.a,{color:"primary",style:{fontSize:70}}):"W"===i?r.a.createElement(Za.a,{style:{fontSize:70,fill:"orange"}}):r.a.createElement(r.a.Fragment,null))),r.a.createElement(ba.a,null,o),r.a.createElement(ga.a,null,r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:this.handleOnClose},"Aceptar")))))}}]),t}(n.Component),tu=Object(h.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));var nu=function(){tu();var e=Object(n.useState)(!0),a=Object(u.a)(e,2),t=(a[0],a[1]),i=Y(),o=Object(u.a)(i,2),s=o[0],h=(s.usuario,s.auth),O=o[1],b=ge(),E=Object(u.a)(b,2),v=E[0],j=v.openMensaje,A=v.mensaje,C=v.postClose,I=E[1],R=Object(n.useState)(0),y=Object(u.a)(R,2),x=(y[0],y[1]);return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(!0),h){e.next=9;break}return e.next=4,ne(O,{});case 4:e.sent,x(1),t(!1),e.next=11;break;case 9:x(1),t(!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",null,r.a.createElement(p.a,{store:S},r.a.createElement(f.a,{theme:g},r.a.createElement(au,{open:j,mensaje:A,onCloseDialog:function(){I({type:"OPEN_DIALOG",openMensaje:{open:!1,mensaje:"",postClose:function(){}}}),C&&C()}}),r.a.createElement(m.a,null,r.a.createElement("div",{className:"App-header"},r.a.createElement(d.a,{exact:!0,path:"/",component:je}),r.a.createElement(d.a,{path:"/administrador",component:Gt}),r.a.createElement(d.a,{path:"/coordinador",component:Ko}),r.a.createElement(d.a,{path:"/tutor",component:hl}),r.a.createElement(d.a,{path:"/alumno",component:eu})),r.a.createElement(Ee,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ru={openMensaje:!1,mensaje:"vacio",postClose:function(){console.log("*********")}},iu={usuario:{},auth:!1},ou=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iu,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOG_IN":case"CHANGE_SESION":case"FINISH_SESION":case"INITIALIZE_SESION":return Object(E.a)(Object(E.a)({},e),{},{usuario:a.usuario,auth:a.auth});default:return e}},su={open:!1,mensaje:""},cu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:su,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"OPEN_DIALOG":return Object(E.a)(Object(E.a)({},e),{},{openMensaje:a.openMensaje.open,mensaje:a.openMensaje.mensaje,postClose:a.openMensaje.postClose});default:return e}};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(W,{initialState:{usuario:{},auth:!1},reducer:ou},r.a.createElement(Oe,{initialState:ru,reducer:cu},r.a.createElement(nu,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},497:function(e,a,t){},582:function(e,a,t){},620:function(e,a,t){},628:function(e,a){},629:function(e,a,t){},642:function(e,a,t){e.exports=t.p+"static/media/carolinaHerrera.a54cae52.png"},678:function(e,a,t){e.exports=t(1209)},686:function(e,a,t){}},[[678,1,2]]]);
//# sourceMappingURL=main.602dc202.chunk.js.map